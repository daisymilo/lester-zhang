{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u5f20\u5609\u5bb8 (Jiachen Zhang)","text":"<p>\u5f20\u5609\u5bb8\uff0c\u4e0a\u6d77\u4ea4\u901a\u5927\u5b66\u5b89\u6cf0\u7ecf\u7ba1\u5b66\u9662\u5728\u8bfb\u535a\u58eb\u751f\uff0c\u91d1\u878d\u5b66\u4e13\u4e1a\uff0c\u7855\u58eb\u6bd5\u4e1a\u4e8e\u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66\uff0c\u66fe\u83b7\u4e0a\u6d77\u5e02\u4f18\u79c0\u6bd5\u4e1a\u751f\uff0c\u7814\u7a76\u751f\u56fd\u5bb6\u5956\u5b66\u91d1\u7b49\u8363\u8a89\u3002 \u7814\u7a76\u9886\u57df\u5305\u62ec\u5b9e\u8bc1\u8d44\u4ea7\u5b9a\u4ef7\u3001\u00a0\u00a0 \u91d1\u878d\u5e02\u573a\u5fae\u89c2\u7ed3\u6784\u548c\u516c\u53f8\u91d1\u878d\uff0c\u76f8\u5173\u6210\u679c\u53d1\u8868\u5728\u00a0\u00a0\u300a\u4f1a\u8ba1\u7814\u7a76\u300b,\u300a\u7ecf\u6d4e\u7ba1\u7406\u300b,The North American Journal of Economics and Finance,\u00a0\u00a0\u00a0Economics Letters,\u00a0\u00a0\u00a0\u00a0 Applied Economics\u7b49\u671f\u520a\u3002</p> <p>Jiachen Zhang, aka Lester Zhang, is a doctoral student in Finance at the Antai College of Economics and Management, SJTU.  His research interests include empirical asset pricing, market microstructure, and corporate finance. His work has been published in leading academic journals such as \u300a\u4f1a\u8ba1\u7814\u7a76\u300b, \u300a\u7ecf\u6d4e\u7ba1\u7406\u300b, The North American Journal of Economics and Finance, Economics Letters, Applied Economics.</p> <p>  \u5b66\u672f\u7814\u7a76  \u7814\u7a76\u7b14\u8bb0</p>"},{"location":"#_1","title":"\u6559\u80b2\u7ecf\u5386","text":"2025 - \u81f3\u4eca \u535a\u58eb\u5728\u8bfb \u91d1\u878d\u5b66 \u4e0a\u6d77\u4ea4\u901a\u5927\u5b66 2020 - 2023 \u7855\u58eb \u91d1\u878d\u5b66 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66 2016 - 2020 \u672c\u79d1 \u91d1\u878d\u5b66 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66"},{"location":"#_2","title":"\u8054\u7cfb\u65b9\u5f0f","text":"<ul> <li>Email: lester_zhang99@163.com </li> <li>Email: lester.zhang99@gmail.com</li> </ul>"},{"location":"#_3","title":"\u4e3b\u8981\u8363\u8a89","text":"\u4e0a\u6d77\u5e02\u4f18\u79c0\u6bd5\u4e1a\u751f \u7701\u7ea7 \uff08\u524d1%\uff09 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66\u201c\u4f18\u79c0\u5b66\u4f4d\u8bba\u6587\u201d \u6821\u7ea7 \uff08\u524d1%\uff09 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66\u201c\u5b66\u672f\u4e4b\u661f\u201d \u6821\u7ea7 \uff08\u5171\u8bc4\u90095\u4eba\uff09 \u7814\u7a76\u751f\u56fd\u5bb6\u5956\u5b66\u91d1 \u56fd\u5bb6\u7ea7 \uff08\u524d1%\uff09 \u8fde\u7eed3\u5e74\u83b7\u5f97\u7814\u7a76\u751f\u5b66\u4e1a\u5956\u5b66\u91d1\u4e00\u7b49\u5956 \u6821\u7ea7 \uff08\u524d5%\uff09 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66\u201c\u4f18\u79c0\u5b66\u751f\u5e72\u90e8\u201d \u6821\u7ea7 \uff08\u524d1%\uff09 \u4e0a\u6d77\u5bf9\u5916\u7ecf\u8d38\u5927\u5b66\u201c\u4f18\u79c0\u5b66\u751f\u201d \u6821\u7ea7 \uff08\u524d10%\uff09 \u7b2c\u5341\u516b\u5c4a\u4e2d\u56fd\u7814\u7a76\u751f\u6570\u5b66\u5efa\u6a21\u7ade\u8d5b\u4e8c\u7b49\u5956 \u56fd\u5bb6\u7ea7 \uff08\u524d10%\uff09"},{"location":"#_4","title":"\u5173\u4e8e\u672c\u7ad9","text":"<p>\u6211\u53d1\u73b0\u5355\u7eaf\u7684PDF\u7b80\u5386\u5728\u7bc7\u5e45\u548c\u5f62\u5f0f\u4e0a\u6709\u5f88\u5927\u9650\u5236\uff0c\u6240\u4ee5\u6211\u5236\u4f5c\u4e86\u4e2a\u4eba\u4e3b\u9875\u5411\u5927\u5bb6\u5c55\u793a\u548c\u5206\u4eab\u6211\u7684\u5de5\u4f5c\u3002</p> <p>\u8fd9\u4e2a\u7f51\u7ad9\u662f\u901a\u8fc7mkdocs-material\u5236\u4f5c\u7684\uff0c\u5e76\u4f9d\u9760GitHub Pages\u670d\u52a1\u90e8\u7f72\u5230\u4e92\u8054\u7f51\u4e0a\u3002\u6211\u8fd8\u4f7f\u7528\u4e86\u963f\u91cc\u4e91\u7684DNS\u89e3\u6790\u670d\u52a1\u8bbe\u7f6e\u4e86\u81ea\u5b9a\u4e49\u7684\u57df\u540d\uff0c\u4e5f\u5c31\u662flester-zhang.com\uff0c\u6700\u540e\u5229\u7528\u817e\u8baf\u4e91\u7684CDN\u52a0\u901f\u670d\u52a1\u4f18\u5316\u4e86\u7f51\u7ad9\u7684\u8bbf\u95ee\u901f\u5ea6\u3002\u4f60\u53ef\u4ee5\u8ddf\u968f\u6211\u64b0\u5199\u7684\u6559\u7a0b\u6765\u642d\u5efa\u4e00\u4e2a\u7c7b\u4f3c\u7684\u7f51\u7ad9\uff1a</p> <p> \u6211\u662f\u5982\u4f55\u642d\u5efa\u4e2a\u4eba\u4e3b\u9875\u7684</p>"},{"location":"#_5","title":"\u5fae\u4fe1\u516c\u4f17\u53f7","text":"<p>\u8f83\u65e9\u7684\u65f6\u5019\u6211\u66fe\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u4e0a\u66f4\u65b0\u4e86\u4e00\u4e9b\u5173\u4e8ePython\u548cStata\u7684\u6559\u7a0b\uff0c \u76ee\u524d\u5df2\u670917\u7bc7\u539f\u521b\u5185\u5bb9\u548c600+\u8ba2\u9605\u3002</p> <p>\u53ef\u4ee5\u626b\u63cf\u4e0b\u9762\u7684\u4e8c\u7ef4\u7801\u8fdb\u5165\u6211\u7684\u516c\u4f17\u53f7\u67e5\u770b\u8fd9\u4e9b\u5185\u5bb9\uff1a</p>"},{"location":"research/","title":"\u5b66\u672f\u7814\u7a76","text":""},{"location":"research/#_2","title":"\ud83d\udcc4 \u516c\u5f00\u53d1\u8868","text":"<p> \u7ba1\u7406\u5c42\u56de\u590d\u6a21\u677f\u5316\u7684\u80a1\u4ef7\u6548\u5e94\u2014\u2014\u57fa\u4e8e\u201c\u4e0a\u8bc1 e \u4e92\u52a8\u201d\u7684\u5b9e\u8bc1\u7814\u7a76,                          ,\u5408\u4f5c\u8005: \u90d1\u8fce\u98de \u548c \u535e\u4e16\u535a\uff0c\u300a\u4f1a\u8ba1\u7814\u7a76\u300b,2025. (CSSCI)</p> <p>\u4e0a\u5e02\u516c\u53f8\u548c\u6295\u8d44\u8005\u7684\u4e92\u52a8\u53ef\u4ee5\u5e2e\u52a9\u6295\u8d44\u8005\u83b7\u53d6\u548c\u7406\u89e3\u4fe1\u606f\uff0c \u7136\u800c\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u201c\u4e0a\u8bc1e\u4e92\u52a8\u201d\u5e73\u53f0\u4e0a\u5b58\u5728\u516c\u53f8\u7ba1\u7406\u5c42\u91c7\u7528\u590d\u5236\u7c98\u8d34\u76f8\u540c\u5185\u5bb9\u7684\u65b9\u5f0f\u6765\u6577\u884d\u6295\u8d44\u8005\u7684\u73b0\u8c61\uff0c \u6211\u4eec\u5c06\u8fd9\u79cd\u884c\u4e3a\u79f0\u4e3a\u201c\u7ba1\u7406\u5c42\u56de\u590d\u6a21\u677f\u5316\u201d\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\u6765\u5ea6\u91cf\u56de\u590d\u6a21\u677f\u5316\u7684\u7a0b\u5ea6\uff0c \u5b9e\u8bc1\u7ed3\u679c\u8868\u660e\u56de\u590d\u6a21\u677f\u5316\u4f1a\u5e26\u6765\u663e\u8457\u7684\u80a1\u4ef7\u4e0b\u8dcc\uff0c\u751a\u81f3\u5bfc\u81f4\u80a1\u4ef7\u5d29\u76d8\u3002 \u8fdb\u4e00\u6b65\u68c0\u9a8c\u53d1\u73b0\uff0c\u56de\u590d\u6a21\u677f\u5316\u4e0d\u4ec5\u80fd\u591f\u8d1f\u5411\u9884\u6d4b\u5f53\u671f\u76c8\u4f59\uff0c \u8fd8\u4f1a\u5411\u6295\u8d44\u8005\u4f20\u9012\u6709\u5173\u516c\u53f8\u957f\u671f\u53d1\u5c55\u7684\u8d1f\u9762\u4fe1\u53f7\u3002</p> <ul> <li>2022\u5e74\u7814\u7a76\u751f\u79d1\u7814\u521b\u65b0\u57f9\u80b2\u9879\u76ee</li> <li>2022\u5e74\u4f18\u79c0\u7814\u7a76\u751f\u5b66\u4f4d\u8bba\u6587\u57f9\u80b2\u9879\u76ee</li> <li>2023\u5c4a\u7814\u7a76\u751f\u4f18\u79c0\u5b66\u4f4d\u8bba\u6587</li> <li>\u201c\u6ce8\u518c\u5236\u6539\u9769\u4e0e\u591a\u5c42\u6b21\u8d44\u672c\u5e02\u573a\u5efa\u8bbe\u7814\u7a76\u751f\u5b66\u672f\u8bba\u575b\u201d(2022) \u4e8c\u7b49\u5956</li> </ul> <p> \u6a21\u677f\u5316\u5ea6\u91cf\u65b9\u6cd5\u4e0e\u4ee3\u7801</p> <p> Navigating uncertainty: The impact of economic policy on corporate data asset allocation , with Chen Rongda and Jin Chenglu, \u00a0International Review of Economics &amp; Finance, 2025. (SSCI Q2)</p> <p>\u6211\u4eec\u521b\u65b0\u5730\u4f7f\u7528\u4e86\u4e00\u79cd\u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u6280\u672f(1)\uff0c \u5bf9\u4e00\u7cfb\u5217\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u7684\u7814\u7a76\u62a5\u544a\u548c\u653f\u7b56\u6587\u4ef6\u8fdb\u884c\u542f\u53d1\u5f0f\u5206\u8bcd\uff0c \u5e76\u5229\u7528BERT\u7684\u884d\u751f\u6a21\u578b\u7b5b\u9009\u51fa\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u672f\u8bed(2)\uff0c\u6784\u5efa\u4e86\u4e00\u4e2a\u6570\u636e\u8d44\u4ea7\u672f\u8bed\u8bcd\u5178(3)\u3002 \u57fa\u4e8e\u8be5\u8bcd\u5178\uff0c\u6211\u4eec\u7edf\u8ba1\u4e86\u4e0a\u5e02\u516c\u53f8\u5e74\u62a5\u4e2d\u76f8\u5173\u672f\u8bed\u7684\u8bcd\u9891\uff0c \u5e76\u6784\u9020\u6807\u51c6\u5316\u6307\u6807\u4ee5\u53cd\u5e94\u516c\u53f8\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\u6c34\u5e73\u3002</p> <p>\u914d\u7f6e\u6570\u636e\u8d44\u4ea7\u80fd\u591f\u589e\u5f3a\u4f01\u4e1a\u5e94\u5bf9\u7ecf\u6d4e\u653f\u7b56\u4e0d\u786e\u5b9a\u6027\u7684\u80fd\u529b\uff0c\u4f46\u4e5f\u9700\u8981\u76f8\u5e94\u7684\u8d44\u6e90\u6295\u5165\u3002 \u6211\u4eec\u5e0c\u671b\u57fa\u4e8e\u5bf9\u5e74\u62a5\u6587\u672c\u7684\u6316\u6398\uff0c\u63a2\u7a76\u7ecf\u6d4e\u653f\u7b56\u73af\u5883\u53d8\u5316\u4e0b\u7684\u4f01\u4e1a\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\u53d8\u5316\u3002 \u5b9e\u8bc1\u7ed3\u679c\u8868\u660e\uff0c\u5e73\u5747\u800c\u8a00\uff0c\u5f53\u7ecf\u6d4e\u653f\u7b56\u4e0d\u786e\u5b9a\u6027\u5347\u9ad8\u65f6\uff0c\u4f01\u4e1a\u53cd\u800c\u503e\u5411\u4e8e\u51cf\u5c11\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\uff0c \u5e76\u4e14\u8fd9\u79cd\u6548\u5e94\u4e3b\u8981\u96c6\u4e2d\u5728\u4f4e\u79d1\u6280\u4f01\u4e1a\u3002 \u673a\u5236\u5206\u6790\u8868\u660e\uff0c\u5c3d\u7ba1\u914d\u7f6e\u6570\u636e\u8d44\u4ea7\u80fd\u591f\u5728\u7ecf\u6d4e\u653f\u7b56\u73af\u5883\u53d8\u5316\u65f6\u63a7\u5236\u7ecf\u8425\u6210\u672c\u548c\u7ecf\u8425\u98ce\u9669\uff0c \u4f46\u5728\u6280\u672f\u6c34\u5e73\u548c\u8d22\u52a1\u98ce\u9669\u7684\u5236\u7ea6\u4e0b\u914d\u7f6e\u6570\u636e\u8d44\u4ea7\u53ef\u80fd\u4f1a\u5e26\u6765\u8d1f\u6548\u76ca\u3002</p> <ul> <li>\u5728\u201c\u6570\u636e\u8d44\u4ea7\u5b9a\u4ef7\u4e0e\u91d1\u878d\u521b\u65b0\u201d\u5b66\u672f\u7814\u8ba8\u4f1a(2024) \u8fdb\u884c\u62a5\u544a</li> </ul> <ol> <li>\u4f20\u7edf\u5206\u8bcd\u6280\u672f(\u4f8b\u5982jieba)\u4e3b\u8981\u57fa\u4e8e\u4e00\u4e2a\u9884\u8bbe\u7684\u8bcd\u5178\u6765\u5bf9\u6587\u672c\u8fdb\u884c\u5206\u8bcd\uff0c  \u96be\u4ee5\u5904\u7406\u8d85\u51fa\u8bcd\u5178\u8303\u56f4\u7684\u65b0\u5174\u8bcd\u6c47\u3002\u800c\u542f\u53d1\u5f0f\u5206\u8bcd\u901a\u5e38\u4f9d\u636e\u5b57\u7b26\u4e4b\u95f4\u7684\u8bed\u4e49\u5173\u8054\u6027\u8fdb\u884c\u5206\u8bcd\uff0c  \u4ece\u800c\u80fd\u591f\u5c06\u65b0\u8bcd\u6b63\u786e\u5206\u79bb\u51fa\u6765\u3002</li> <li>\u7b5b\u9009\u8fc7\u7a0b\u57fa\u4e8eDeBERTa\u8fd9\u4e00\u884d\u751f\u6a21\u578b\uff0c\u8be5\u6a21\u578b\u5177\u5907\u5904\u7406\u96f6\u6837\u672c\u5206\u7c7b(Zero-Shot Classification)\u4efb\u52a1\u7684\u80fd\u529b\uff0c \u96f6\u6837\u672c\u5206\u7c7b\u662f\u6307\u4e0d\u9700\u8981\u5fae\u8c03(Fine-Tuning)\uff0c\u76f4\u63a5\u4f9d\u9760\u5927\u8bed\u8a00\u6a21\u578b\u9884\u8bad\u7ec3\u6240\u5f97\u6743\u91cd\u76f4\u63a5\u8fdb\u884c\u63a8\u65ad\u7684\u80fd\u529b\u3002</li> <li>\u6211\u4eec\u8fd8\u8003\u8651\u4e86\u4e00\u79cd\u57fa\u4e8eWord2Vec\u7684\u66ff\u4ee3\u6280\u672f\u65b9\u6848\uff0c \u5373\u5229\u7528\u542f\u53d1\u5f0f\u5206\u8bcd\u540e\u7684\u6837\u672c\u6587\u672c\u6765\u8bad\u7ec3\uff08\u6216\u57fa\u4e8e\u73b0\u6709\u6a21\u578b\u5fae\u8c03\uff09\u4e00\u7ec4\u8bcd\u5411\u91cf\uff0c \u7136\u540e\u57fa\u4e8e\u8bcd\u5411\u91cf\u76f8\u4f3c\u5ea6\uff08\u4f8b\u5982\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff09\u6765\u7b5b\u9009\u51fa\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u672f\u8bed\u3002</li> </ol> <p>  \u4f1a\u8bae\u62a5\u544aPPT </p> <p> BERT\u542f\u53d1\u5f0f\u5206\u8bcd\u4e0e\u4ee3\u7801</p> <p> \u722c\u53d6\u4e0a\u5e02\u516c\u53f8\u5e74\u62a5\u4ee3\u7801</p> <p> Systematic COVID risk, idiosyncratic COVID risk and stock returns , with Wan Xiaoyuan, \u00a0\u00a0\u00a0 The North American Journal of Economics and Finance, 2024. (Corresponding author, \u00a0\u00a0\u00a0\u00a0SSCI Q2)</p> <p>COVID-19\u75ab\u60c5\u5bf9\u5168\u7403\u7ecf\u6d4e\u548c\u91d1\u878d\u5e02\u573a\u4ea7\u751f\u4e86\u6df1\u8fdc\u7684\u5f71\u54cd\uff0c\u4f46\u5c11\u6709\u6587\u732e\u63a2\u7a76\u4e2a\u80a1\u5728\u75ab\u60c5\u51b2\u51fb\u4e0b\u7684\u98ce\u9669\u66b4\u9732\u53d8\u5316\u3002 \u6211\u4eec\u63d0\u51fa\u4e86\u4e00\u79cd\u57fa\u4e8e\u4e8b\u4ef6\u7684\u65b9\u6cd5\u4f30\u8ba1COVID-19\u75ab\u60c5\u671f\u95f4\u7684\u989d\u5916\u98ce\u9669\uff0c\u5e76\u5206\u6790\u4e86\u8be5\u98ce\u9669\u4e0e\u672a\u6765\u80a1\u7968\u56de\u62a5\u7684\u5173\u7cfb\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u75ab\u60c5\u7a97\u53e3\u5185\u4e2a\u80a1\u4e0e\u5e02\u573a\u6536\u76ca\u7387\u7684\u8d85\u989d\u534f\u65b9\u5dee\u4f30\u8ba1\u7531COVID\u5f15\u53d1\u7684\u7cfb\u7edf\u6027\u98ce\u9669\uff0c\u4f7f\u7528\u75ab\u60c5\u7a97\u53e3\u5185\u7684\u8d85\u5e38\u7279\u8d28\u6ce2\u52a8\u7387\u4f30\u8ba1\u7531COVID\u5f15\u53d1\u7684\u7279\u8d28\u6027\u98ce\u9669\u3002</p> <p>\u68c0\u9a8c\u53d1\u73b0COVID\u7cfb\u7edf\u6027\u98ce\u9669\u6709\u663e\u8457\u4e3a\u6b63\u7684\u98ce\u9669\u6ea2\u4ef7\uff0c\u8868\u660e\u5bf9\u75ab\u60c5\u51b2\u51fb\u66b4\u9732\u8f83\u9ad8\u7684\u80a1\u7968\uff0c\u6295\u8d44\u8005\u8981\u6c42\u66f4\u9ad8\u7684\u98ce\u9669\u8865\u507f\u3002 \u800cCOVID\u7279\u8d28\u6027\u98ce\u9669\u4e0e\u672a\u6765\u80a1\u7968\u6536\u76ca\u7387\u5219\u6ca1\u6709\u663e\u8457\u5173\u8054\uff0c\u8868\u660e\u75ab\u60c5\u51b2\u51fb\u5f15\u8d77\u7684\u516c\u53f8\u7279\u6709\u98ce\u9669\u80fd\u591f\u88ab\u6295\u8d44\u8005\u5145\u5206\u5206\u6563\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53d1\u73b0\u75ab\u60c5\u671f\u95f4\u7684\u4e2a\u80a1\u8d85\u5e38\u6536\u76ca\u7387\u4e0e\u672a\u6765\u6536\u76ca\u7387\u4e4b\u95f4\u5448\u73b0\u8d1f\u76f8\u5173\u5173\u7cfb\uff0c\u8fd9\u53ef\u80fd\u4e0e\u6295\u8d44\u8005\u5bf9\u75ab\u60c5\u51b2\u51fb\u7684\u53cd\u5e94\u8fc7\u5ea6\u6709\u5173\u3002</p> <p> COVID\u98ce\u9669\u4f30\u8ba1\u65b9\u6cd5\u4e0e\u4ee3\u7801</p> <p> Do stock prices follow random walk over day and night? \u2013\u2013 evidence from Chinese stock market , with Wan Xiaoyuan and Shen Sichao, Applied Economics, 2023. (Corresponding author, SSCI Q2)</p> <p>Lou, Polk, and Skouras (2019)\u6307\u51fa\u5728\u65e5\u5185\u65f6\u6bb5\u548c\u9694\u591c\u65f6\u6bb5\u6d3b\u8dc3\u7684\u4ea4\u6613\u8005\u5c5e\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u6295\u8d44\u8005\u7fa4\u4f53\uff0c\u7531\u4e8e\u4e8c\u8005\u5728\u884c\u4e3a\u4e0a\u5b58\u5728\u663e\u8457\u5dee\u5f02\uff0c\u6211\u4eec\u636e\u6b64\u6000\u7591\u65e5\u5185\u65f6\u6bb5\u548c\u9694\u591c\u65f6\u6bb5\u7684\u80a1\u7968\u6536\u76ca\u7387\u53ef\u80fd\u4f1a\u8fdd\u80cc\u968f\u673a\u6e38\u8d70\u5047\u8bbe\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e86Variance Ratio\u68c0\u9a8c\u548cFilter Rule\u7b56\u7565\u5206\u522b\u5728\u7edf\u8ba1\u4e0a\u548c\u7ecf\u6d4e\u4e0a\u8fdb\u884c\u4e86\u68c0\u9a8c\uff0c\u7ed3\u679c\u8868\u660e\u4e24\u4e2a\u65f6\u6bb5\u7684\u6536\u76ca\u7387\u786e\u5b9e\u8fdd\u80cc\u4e86\u968f\u673a\u6e38\u8d70\u5047\u8bbe\uff0c\u5e76\u4e14\u4ece\u9694\u591c\u65f6\u6bb5\u5230\u65e5\u5185\u65f6\u6bb5\u7684\u8fc7\u7a0b\u8868\u73b0\u51fa\u4e86\u663e\u8457\u7684\u53cd\u8f6c\u6548\u5e94\uff08\u53cd\u5e94\u8fc7\u5ea6\uff09\uff0c\u800c\u4ece\u65e5\u5185\u65f6\u6bb5\u5230\u9694\u591c\u65f6\u6bb5\u7684\u8fc7\u7a0b\u8868\u73b0\u51fa\u4e86\u663e\u8457\u7684\u52a8\u91cf\u6548\u5e94\uff08\u53cd\u5e94\u4e0d\u8db3\uff09\u3002</p> <p>\u8fdb\u4e00\u6b65\u5730\uff0c\u8003\u8651\u5230\u4e2d\u56fd\u5e02\u573a\u7684T+1\u5236\u5ea6\u5bf9\u9694\u591c\u548c\u65e5\u5185\u4ea4\u6613\u884c\u4e3a\u6709\u8f83\u5927\u5f71\u54cd\uff0c\u6211\u4eec\u5bf9\u6bd4\u4e86\u6ca1\u6709\u5b9e\u884cT+1\u5236\u5ea6\u7684H\u80a1\u548cB\u80a1\uff0c\u53d1\u73b0T+1\u5236\u5ea6\u80fd\u591f\u7f13\u89e3\u65e5\u5185\u548c\u9694\u591c\u65f6\u6bb5\u4e4b\u95f4\u7684\u53cd\u5e94\u8fc7\u5ea6\u548c\u53cd\u5e94\u4e0d\u8db3\u3002</p> <p> \u68c0\u9a8c\u65b9\u6cd5\u4e0e\u4ee3\u7801</p> <p> The effect of relaxing daily price limit: Evidence from the ChiNext market of China , with Wan Xiaoyuan, Economics Letters, 2022. (SSCI Q3, ABS ratings 3)</p> <p>\u81ea1996\u5e7412\u6708\u5f00\u59cb\uff0c\u4e2d\u56fd\u80a1\u7968\u6caa\u6df1\u4e24\u5e02\u5c31\u65bd\u884c\u4e8610%\u6da8\u8dcc\u5e45\u9650\u5236\u3002 \u76f4\u52302020\u5e748\u670824\u65e5\uff0c\u6ce8\u518c\u5236\u5728\u6df1\u5e02\u521b\u4e1a\u677f\u8fdb\u884c\u8bd5\u70b9\uff0c\u6da8\u8dcc\u5e45\u9650\u5236\u9996\u6b21\u4ece10%\u653e\u5bbd\u523020%.</p> <p>\u8fd9\u4e00\u51c6\u81ea\u7136\u5b9e\u9a8c\u4f7f\u5f97\u6211\u4eec\u80fd\u591f\u63a2\u7a76\u65bd\u52a0\u6da8\u8dcc\u5e45\u9650\u5236\u4f1a\u6709\u600e\u6837\u7684\u5f71\u54cd\uff0c \u540c\u671f\u6ca1\u6709\u8fdb\u884c\u8bd5\u70b9\u7684\u6caa\u6df1\u4e3b\u677f\u80a1\u7968\u4f9d\u65e7\u9075\u5faa10%\u6da8\u8dcc\u5e45\u9650\u5236\uff0c\u4e5f\u4e3a\u6211\u4eec\u4f7f\u7528DID\u63d0\u4f9b\u4e86\u4fbf\u5229\u3002</p> <p>\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u4e8b\u4ef6\u65e5\u53ca\u968f\u540e\u4e00\u6bb5\u65f6\u95f4\uff0c\u5e02\u573a\u7684\u8d85\u5e38\u6536\u76ca\u7387\u663e\u8457\u4e3a\u6b63\u3002 \u5728\u5e02\u573a\u8d28\u91cf\u65b9\u9762\uff0c\u6da8\u8dcc\u5e45\u9650\u5236\u7684\u653e\u5bbd\u6ca1\u6709\u663e\u8457\u6539\u53d8\u4ef7\u683c\u6548\u7387(1)\uff0c\u4f46\u663e\u8457\u63d0\u9ad8\u4e86\u5e02\u573a\u7684\u6d41\u52a8\u6027(2)\u548c\u6536\u76ca\u7684\u6ce2\u52a8\u6027(3)\u3002</p> <ol> <li>\u4f7f\u7528\\(|\\rho|\\) \u548c \\(|VR|\\)\u5ea6\u91cf\uff0c\\(|\\rho|\\) \u4e3a\u4e2a\u80a1\u6536\u76ca\u7387\u4e0e\u6ede\u540e\u5e02\u573a\u6536\u76ca\u7387\u7684\u76f8\u5173\u7cfb\u6570\uff1b\\(|VR|\\) \u4e3aVariance Ratio\u7684\u7edd\u5bf9\u503c</li> <li>\u4f7f\u7528\\(TO\\)\u548c\\(ILLIQ\\)\u5ea6\u91cf\uff0c\\(TO\\)\u4e3a\u80a1\u7968\u6362\u624b\u7387\uff1b\\(ILLIQ\\)\u4e3aAmihud (2002)\u63d0\u51fa\u7684\u975e\u6d41\u52a8\u6027\u6307\u6807</li> <li>\u4f7f\u7528\\(BETA\\) \u548c \\(IVOL\\)\u5ea6\u91cf\uff0c\\(BETA\\)\u4e3a\u5e02\u573a\u6a21\u578b\u7684\\(\\beta\\)\u7cfb\u6570\uff1b\\(IVOL\\)\u4e3a\u7279\u8d28\u6ce2\u52a8\u7387\uff0c\u4e3a\u5e02\u573a\u6a21\u578b\u6b8b\u5dee\u7684\u6807\u51c6\u5dee</li> </ol> <p> \u7f51\u7edc\u5e73\u53f0\u4e92\u52a8\u3001\u7b56\u7565\u6027\u56de\u5e94\u4e0e\u80a1\u7968\u9519\u8bef\u5b9a\u4ef7 ,\u5408\u4f5c\u8005: \u5f90\u5bff\u798f \u548c \u90d1\u8fce\u98de,\u300a\u7ecf\u6d4e\u7ba1\u7406\u300b,2023. (CSSCI)</p> <p>\u5728\u6295\u8d44\u8005\u4e92\u52a8\u5e73\u53f0\u4e0a(1)\uff0c\u516c\u53f8\u5728\u56de\u590d\u4e2d\u5939\u6742\u5927\u91cf\u5ba2\u5957\u8bdd\u7684\u56de\u5e94\u6a21\u5f0f\u65e2\u6ee1\u8db3\u4e86\u53ca\u65f6\u56de\u590d\u7684\u76d1\u7ba1\u8981\u6c42\uff0c \u53c8\u907f\u514d\u4e86\u5411\u6295\u8d44\u8005\u900f\u9732\u6709\u6548\u4fe1\u606f\uff0c\u4f7f\u5f97\u4e0a\u5e02\u516c\u53f8\u80fd\u591f\u56de\u907f\u7279\u5b9a\u4fe1\u606f\u6216\u9690\u85cf\u8d1f\u9762\u6d88\u606f\u3002 \u6211\u4eec\u5c06\u8fd9\u79cd\u7b56\u7565\u6027\u56de\u5e94\u624b\u6bb5\u79f0\u4e3a\u201c\u907f\u5b9e\u5c31\u865a\u201d\u3002</p> <p>\u5bf9\u201c\u907f\u5b9e\u5c31\u865a\u201d\u7b56\u7565\u6027\u56de\u5e94\u8fdb\u884c\u6d4b\u5ea6\u540e(2)\uff0c\u6211\u4eec\u53d1\u73b0\u8fd9\u79cd\u56de\u5e94\u7b56\u7565\u4f1a\u52a0\u5267\u516c\u53f8\u80a1\u7968\u9519\u8bef\u5b9a\u4ef7\uff0c \u5e76\u9020\u6210\u80a1\u4ef7\u4f4e\u4f30\u3002\u8fdb\u4e00\u6b65\u7814\u7a76\u53d1\u73b0\uff0c\u6295\u8d44\u8005\u89c4\u6a21\u8d8a\u5927\u3001\u4e0a\u5e02\u516c\u53f8\u4fe1\u606f\u900f\u660e\u5ea6\u8d8a\u5dee\uff0c \u7b56\u7565\u6027\u56de\u5e94\u5bf9\u9519\u8bef\u5b9a\u4ef7\u7684\u9a71\u52a8\u6548\u5e94\u8d8a\u663e\u8457\u3002</p> <ol> <li>\u5373\u6295\u8d44\u8005\u4e0e\u4e0a\u5e02\u516c\u53f8\u8fdb\u884c\u4e92\u52a8\u7684\u5e73\u53f0\uff0c\u56fd\u5185\u4e3b\u8981\u7684\u6295\u8d44\u8005\u4e92\u52a8\u5e73\u53f0\u5305\u62ec\u6df1\u5e02\u201c\u4e92\u52a8\u6613\u201d\u548c\u6caa\u5e02\u201c\u4e0a\u8bc1e\u4e92\u52a8\u201d</li> <li>\u4e3b\u8981\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u6355\u6349\u4e0a\u5e02\u516c\u53f8\u56de\u590d\u4e2d\u7684\u5ba2\u5957\u8bdd</li> </ol> <p> \u5584\u62ff\u724c\u7167\u7684\u552f\u54c1\u4f1a\u2014\u2014\u4e8c\u7ebf\u7535\u5546\u7684\u4e92\u91d1\u4e4b\u8def ,\u5408\u4f5c\u8005:\u90d1\u8fce\u98de, \u5168\u56fd\u4f18\u79c0\u91d1\u878d\u7855\u58eb\u6559\u5b66\u6848\u4f8b\uff0c 2021. (\u56fd\u5bb6\u7ea7\u6848\u4f8b\u5e93\uff0c\u6848\u4f8b\u7f16\u53f7AL2021055)</p> <p>\u552f\u54c1\u4f1a\u4f5c\u4e3a\u4e2d\u56fd\u77e5\u540d\u7684\u4e8c\u7ebf\u7535\u5546\uff0c\u901a\u8fc7\u83b7\u53d6\u591a\u79cd\u91d1\u878d\u724c\u7167\uff0c\u79ef\u6781\u62d3\u5c55\u4e92\u8054\u7f51\u91d1\u878d\u4e1a\u52a1\u3002 \u7136\u800c\uff0c\u76f8\u8f83\u4e8e\u4e00\u7ebf\u7535\u5546\uff0c\u552f\u54c1\u4f1a\u5728\u7ecf\u8425\u6301\u724c\u91d1\u878d\u4e1a\u52a1\u65f6\u9762\u4e34\u66f4\u5927\u7684\u751f\u5b58\u538b\u529b\u548c\u6311\u6218\u3002 \u6211\u4eec\u901a\u8fc7\u6848\u4f8b\u8be6\u7ec6\u5c55\u793a\u4e86\u552f\u54c1\u4f1a\u8fd1\u5341\u5e74\u6765\u4e89\u53d6\u5404\u79cd\u91d1\u878d\u724c\u7167\u7684\u5386\u7a0b\uff0c\u5256\u6790\u4e86\u5176\u5173\u952e\u6218\u7565\u51b3\u7b56\uff0c\u5e76\u63a2\u8ba8\u4e86\u5176\u7535\u5546\u4e1a\u52a1\u4e0e\u91d1\u878d\u4e1a\u52a1\u4e4b\u95f4\u7684\u534f\u540c\u4e0e\u77db\u76fe\u3002</p>"},{"location":"research/#_3","title":"\ud83d\udcdd \u5de5\u4f5c\u8bba\u6587","text":"<p> \u4ec0\u4e48\u5bfc\u81f4\u4e86\u5e94\u6536\u8d26\u6b3e\u9006\u7968\u636e\u5316\uff1f\u2014\u2014\u76d1\u7ba1\u5347\u7ea7\u4e0e\u201c\u5f71\u5b50\u7968\u636e\u201d\u66ff\u4ee3\u4e0b\u7684\u4f01\u4e1a\u884c\u4e3a\u53d8\u5316,\u5408\u4f5c\u8005: \u51af\u82b8\uff0c\u76ee\u6807\u671f\u520a\uff1a\u300a\u91d1\u878d\u7814\u7a76\u300b. (CSSCI)</p> <p>\u968f\u7740\u6211\u56fd\u7968\u636e\u5e02\u573a\u57fa\u7840\u8bbe\u65bd\u548c\u76d1\u7ba1\u4f53\u7cfb\u7684\u4e0d\u65ad\u5b8c\u5584\uff0c\u7406\u8bba\u4e0a\u5e94\u6536\u8d26\u6b3e\u7684\u7968\u636e\u5316\u8d8b\u52bf\u5e94\u8be5\u9010\u6e10\u589e\u5f3a\u3002 \u7136\u800c\uff0c\u4f01\u4e1a\u7684\u5b9e\u9645\u884c\u4e3a\u5374\u5448\u73b0\u51fa\u201c\u9006\u7968\u636e\u5316\u201d\u7279\u5f81\uff0c\u7968\u636e\u5316\u7387\u9010\u5e74\u4e0b\u964d\u3002</p> <p>\u4ee52021\u5e74\u300a\u89c4\u8303\u5546\u4e1a\u627f\u5151\u6c47\u7968\u4fe1\u606f\u62ab\u9732\u6709\u5173\u4e8b\u5b9c\u300b\u7684\u5b9e\u65bd\u4f5c\u4e3a\u51c6\u81ea\u7136\u5b9e\u9a8c\uff0c \u6211\u4eec\u53d1\u73b0\uff0c\u7968\u636e\u4fe1\u606f\u62ab\u9732\u653f\u7b56\u663e\u8457\u964d\u4f4e\u4e86\u4f01\u4e1a\u7684\u5e94\u6536\u8d26\u6b3e\u7968\u636e\u5316\u7387\u3002 \u673a\u5236\u5206\u6790\u8868\u660e\uff0c\u7968\u636e\u4fe1\u606f\u62ab\u9732\u5e26\u6765\u7684\u5e02\u573a\u900f\u660e\u5ea6\u63d0\u5347\uff0c\u4e00\u65b9\u9762\u52a0\u5f3a\u4e86\u4f01\u4e1a\u5bf9\u7968\u636e\u4fe1\u7528\u98ce\u9669\u7684\u7504\u522b\uff0c\u53e6\u4e00\u65b9\u9762\u904f\u5236\u4e86\u8fdd\u89c4\u8d34\u73b0\u6d3b\u52a8\uff0c\u5c06\u5177\u6709\u6f5c\u5728\u98ce\u9669\u7684\u7968\u636e\u6392\u6324\u51fa\u5e02\u573a\uff0c\u6784\u6210\u5236\u5ea6\u53d8\u5316\u7684\u77ed\u671f\u6210\u672c\u3002 \u6b64\u5916\uff0c\u8fd1\u5e74\u6765\u5174\u8d77\u7684\u201c\u5f71\u5b50\u7968\u636e\u201d\u5bf9\u4f20\u7edf\u7968\u636e\u5448\u73b0\u51fa\u660e\u663e\u7684\u66ff\u4ee3\u4f5c\u7528\uff0c\u53ef\u80fd\u5f62\u6210\u89c4\u907f\u7968\u636e\u76d1\u7ba1\u7684\u6e20\u9053\uff0c\u52a0\u5267\u201c\u9006\u7968\u636e\u5316\u201d\u7684\u8d8b\u52bf\u3002</p> <ul> <li>2025 CFRN\u9752\u5e74\u91d1\u878d\u5b66\u8005\u5e74\u4f1a \u4f18\u79c0\u8bba\u6587</li> </ul> <p>  \u4f1a\u8bae\u62a5\u544aPPT </p> <p> (When) is Beta Priced in China?, with Wan Xiaoyuan, Journal of Empirical Finance under review. (SSCI Q2, ABS ratings 3)</p> <p>\u5c3d\u7ba1CAPM\u6a21\u578b\u9884\u6d4bbeta\u8f83\u9ad8\u7684\u80a1\u7968\u5e94\u8be5\u6709\u66f4\u9ad8\u7684\u671f\u671b\u6536\u76ca\u7387\uff0c \u4f46\u662f\u73b0\u6709\u7814\u7a76\u90fd\u8868\u660e\u7f8e\u56fd\u5e02\u573a\u7684SML(1)\u53ef\u80fd\u662f\u5e73\u5766\u7684\uff0c\u751a\u81f3\u662f\u5411\u4e0b\u503e\u659c\u7684\u3002</p> <p>\u4e0e\u7f8e\u56fd\u5e02\u573a\u4e0d\u540c\uff0c\u5df2\u6709\u7684\u4e00\u7cfb\u5217\u6587\u732e\u5747\u6307\u51fa\uff0c\u4e2d\u56fd\u5e02\u573a\u4ef7\u683c\u540c\u6b65\u6027\u5f3a\uff0c\u5e76\u4e14\u5e02\u573a\u7ec4\u5408\u5728\u98ce\u9669\u56e0\u5b50\u4e2d\u626e\u6f14\u91cd\u8981\u89d2\u8272\uff0c \u56e0\u6b64\u6709\u7406\u7531\u731c\u6d4b\u4e2d\u56fd\u5e02\u573a\u7684beta\u53ef\u80fd\u4f1a\u6709\u6b63\u5411\u6ea2\u4ef7\u3002</p> <p>\u7684\u786e\uff0c\u6211\u4eec\u7684\u5b9e\u8bc1\u7ed3\u679c\u8868\u660e\uff0c\u5728\u4e2d\u56fd\u5e02\u573abeta\u548c\u80a1\u7968\u6536\u76ca\u7387\u5448\u73b0\u663e\u8457\u6b63\u76f8\u5173\uff0c \u5e76\u4e14\u5728\u5e02\u573a\u98ce\u9669\u8f83\u9ad8\u7684\u5b50\u6837\u672c\u4e2d(2)\uff0cbeta\u548c\u6536\u76ca\u7684\u6b63\u76f8\u5173\u66f4\u5f3a\u3002</p> <p>\u8fdb\u4e00\u6b65\u5c06\u65e5\u5ea6\u6536\u76ca\u7387\u5206\u4e3a\u9694\u591c\u548c\u65e5\u5185\u90e8\u5206\uff0c\u6211\u4eec\u53d1\u73b0beta\u53ea\u5728\u65e5\u5185\u5b58\u5728\u6b63\u6ea2\u4ef7\uff0c \u5728\u9694\u591c\u65f6\u6bb5\uff0cbeta\u548c\u6536\u76ca\u7387\u5219\u6ca1\u6709\u663e\u8457\u8054\u7cfb\uff0c\u8fd9\u4e00\u53d1\u73b0\u4e0e\u7f8e\u56fd\u5e02\u573a\u76f8\u53cd\u3002 \u901a\u8fc7\u5bf9\u6bd4AH\u4ea4\u53c9\u4e0a\u5e02(3)\u7684\u80a1\u7968\u6837\u672c\uff0c\u6211\u4eec\u53d1\u73b0\u4e2d\u56fd\u5e02\u573a\u5448\u73b0\u7684\u8fd9\u79cdbeta\u5b9a\u4ef7\u6a21\u5f0f\u53ef\u80fd\u662f\u7531\u201cT+1\u201d\u4ea4\u6613\u5236\u5ea6\u5bfc\u81f4\u7684\u3002</p> <ol> <li>\u5373\u8bc1\u5238\u5e02\u573a\u7ebfsecurity market line\uff0c\u63cf\u8ff0\u5e02\u573abeta\u4e0e\u80a1\u7968\u671f\u671b\u6536\u76ca\u7387</li> <li>\u4ee5\u5e02\u573a\u6a21\u578b\\(R^2\\)\uff0cEPU\u6307\u6570\u548c\u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807\u53d1\u5e03\u4f5c\u4e3a\u5b50\u6837\u672c\u9009\u62e9\u4f9d\u636e</li> <li>\u6307\u516c\u53f8\u65e2\u5728A\u80a1\u4e0a\u5e02\uff0c\u53c8\u5728H\u80a1\u4e0a\u5e02\uff0c\u5176\u4e2dA\u80a1\u9075\u5faa\u201cT+1\u201d\u89c4\u5219\uff0c\u800cH\u80a1\u9075\u987c\u201cT+0\u201d\u89c4\u5219</li> </ol> <p> The Overall And Extremely Low Return Spillovers Among Cryptocurrencies and Stock Markets: Evidence from the COVID-19,  with Zheng Yingfei, target Pacific-Basin Finance Journal. (SSCI Q2)</p> <p>\u52a0\u5bc6\u8d27\u5e01\u4e0d\u53d7\u4efb\u4f55\u56fd\u5bb6\u6216\u653f\u5e9c\u63a7\u5236\uff0c\u4e5f\u6ca1\u6709\u5355\u4e00\u673a\u6784\u6216\u7ec4\u7ec7\u63a7\u5236\u5176\u6d41\u901a\u548c\u53d1\u884c\uff0c \u4f5c\u4e3a\u4e00\u79cd\u91d1\u878d\u8d44\u4ea7\uff0c\u52a0\u5bc6\u8d27\u5e01\u4e5f\u4e0d\u5b58\u5728\u73b0\u91d1\u6d41\u3002\u8fd9\u4e9b\u72ec\u7279\u5c5e\u6027\u4f7f\u5f97\u52a0\u5bc6\u8d27\u5e01\u4e0e\u4f20\u7edf\u8d44\u4ea7\u76f8\u5bf9\u201c\u9694\u79bb\u201d\u3002 \u4e00\u7cfb\u5217\u7814\u7a76\u4e5f\u8868\u660e\u52a0\u5bc6\u8d27\u5e01\u4e0e\u5404\u7c7b\u8d44\u4ea7\u7684\u4ef7\u683c\u52a8\u6001\u4e5f\u76f8\u5bf9\u72ec\u7acb\u3002\u636e\u6b64\u6211\u4eec\u731c\u6d4b\u52a0\u5bc6\u8d27\u5e01\u53ef\u80fd\u5177\u6709\u6f5c\u5728\u7684\u907f\u9669\u5c5e\u6027\u3002</p> <p>\u5728COIVD-19\u5bf9\u5e02\u573a\u5e26\u6765\u5de8\u5927\u51b2\u51fb\u7684\u80cc\u666f\u4e0b\uff0c \u6211\u4eec\u63a2\u7a76\u4e86\u4ee3\u8868\u6027\u52a0\u5bc6\u8d27\u5e01(1)\u4e0e\u4e3b\u8981\u80a1\u7968\u5e02\u573a\u6307\u6570(2)\u4e4b\u95f4\u7684\u6ea2\u51fa\u6548\u5e94\u3002 \u5b9e\u8bc1\u7ed3\u679c\u8868\u660e\uff0c\u65e0\u8bba\u662fCOVID-19\u75ab\u60c5\u9876\u5cf0\u65f6\u671f\uff0c\u8fd8\u662f\u5728\u6574\u4f53\u6ea2\u51fa\u8f83\u4f4e\u7684\u65f6\u671f\uff0c\u52a0\u5bc6\u8d27\u5e01\u90fd\u626e\u6f14\u51b2\u51fb\u7684\u51c0\u6ea2\u51fa\u89d2\u8272(3)\u3002 \u57fa\u4e8e\u4ea4\u53c9\u5206\u4f4d\u6570\u5206\u6790(4)\u7684\u7ed3\u679c\u8868\u660e\uff0c\u5373\u4f7f\u5728\u51fa\u73b0\u6781\u7aef\u6536\u76ca\u7387\u7684\u60c5\u51b5\u4e0b\uff0c\u52a0\u5bc6\u8d27\u5e01\u4ef7\u683c\u548c\u80a1\u7968\u6307\u6570\u4e4b\u95f4\u4e5f\u6ca1\u6709\u663e\u8457\u7684\u5173\u8054\u6027\u3002</p> <ol> <li>\u6211\u4eec\u9009\u62e9\u4e86\u5f53\u65f6\u5e02\u503c\u6700\u9ad8\u7684\u6bd4\u7279\u5e01(Bitcoin)\uff0c\u4ee5\u592a\u574a(Ethereum)\u548c\u83b1\u7279\u5e01(Litecoin)</li> <li>\u6211\u4eec\u9009\u62e9\u4e86\u7f8e\u56fd\u6807\u666e500\u6307\u6570(S&amp;P 500)\uff0c\u82f1\u56fd\u5bcc\u65f6100\u6307\u6570(FTSE 100)\u548c\u4e2d\u56fd\u6caa\u6df1300\u6307\u6570(SZSE 300)</li> <li>\u91c7\u7528Diebold and Yilmaz (2009)\u7684Spillover Index\u65b9\u6cd5\u3002 Diebold, F.X. and Yilmaz, K., 2009. Measuring financial asset return and volatility spillovers, with application to global equity markets. The Economic Journal, 119(534), pp.158-171.</li> <li>\u5373Han et al. (2016)\u63d0\u51fa\u7684cross-quantilogram\u65b9\u6cd5\u3002  Han, H., Linton, O., Oka, T. and Whang, Y.J., 2016. The cross-quantilogram: Measuring quantile dependence and testing directional predictability between time series. Journal of Econometrics, 193(1), pp.251-270.</li> </ol> <p>  Abstract &amp; Methodologies </p> <p> \u722c\u53d6\u52a0\u5bc6\u8d27\u5e01\u884c\u60c5</p>"},{"location":"research/#_4","title":"\ud83e\uddd1\u200d\ud83c\udf93 \u52a9\u7814\u5de5\u4f5c","text":"<p> \u52a9\u7814 \u56fd\u5bb6\u81ea\u7136\u79d1\u5b66\u57fa\u91d1\u59d4\u5458\u4f1a\u9752\u5e74\u9879\u76ee\u300a\u4e2d\u56fd\u8bc1\u5238\u5e02\u573a\u7684 T+1 \u4ea4\u6613\u5236\u5ea6\u7814\u7a76\uff1a\u57fa\u4e8e\u9694\u591c\u4e0e\u65e5\u5185\u6536\u76ca\u7387\u7684\u89c6\u89d2\u300b,  2023-01\u81f32025-12, \u4e3b\u6301\u4eba: \u4e07\u5b5d\u56ed</p> <p>\u52a9\u7814\u6210\u679c\uff1a</p> <p> Margin-buying, short-selling, and stock valuation: Why is the effect reversed over time in China? , Wan Xiaoyuan, Journal of Empirical Finance, 2024. (SSCI Q2, ABS ratings 3)</p> <p>\u52a9\u7814\u5de5\u4f5c\uff1a\u6570\u636e\u5904\u7406\u4e0e\u5b9e\u8bc1\u5206\u6790     (Table 2\u5230Table10, Figure 2, Figure 3)\uff0c\u52a9\u7814\u81f4\u8c22\u89c1\u8bba\u6587PDF\u7b2c1\u9875\u4e0b\u65b9\u3002</p> <p> \u52a9\u7814 \u6559\u80b2\u90e8\u4eba\u6587\u793e\u4f1a\u79d1\u5b66\u7814\u7a76\u9879\u76ee\u300a\u4e92\u8054\u7f51\u6d88\u8d39\u91d1\u878d\u521b\u65b0\u3001\u98ce\u9669\u4e0e\u76d1\u7ba1-\u57fa\u4e8e\u884c\u4e3a\u4ea7\u4e1a\u7ec4\u7ec7\u7406\u8bba\u7684\u7814\u7a76\u300b,  2018-07\u81f32021-02, \u4e3b\u6301\u4eba: \u90d1\u8fce\u98de</p> <p>\u52a9\u7814\u6210\u679c\uff1a</p> <p> Spillover effects between internet financial industry and traditional financial industry: Evidence from the Chinese stock market , Zheng Yingfei et al., Pacific-Basin Finance Journal, 2023. (SSCI Q2)</p> <p>\u52a9\u7814\u5de5\u4f5c\uff1a\u5b9e\u8bc1\u5206\u6790\u548c\u53ef\u89c6\u5316(Figure 8\u548cFigure9\u5b9e\u8bc1+\u7ed8\u56fe,     Figure 1\u5230Figure 7\u7ed8\u56fe, Figure 10\u5230Figure 13\u7ed8\u56fe)</p> <p>\u00a0\u53c2\u4e0e\u64b0\u5199\u591a\u4efd\u5173\u4e8e\u7f51\u7edc\u5c0f\u989d\u8d37\u6b3e\u7684\u653f\u5e9c\u4e13\u62a5\uff0c\u5176\u4e2d\u4e09\u4efd\u83b7\u5f97\u7701\u90e8\u7ea7\u9886\u5bfc\u6279\u793a\u3002</p>"},{"location":"tags/","title":"\u6309\u6807\u7b7e\u6d4f\u89c8","text":""},{"location":"tags/#tag:event-study","title":"Event Study","text":"<ul> <li>            \u590d\u73b0The Pre-Announcement Drift in China -- Fig 2 &amp; Tab 2          </li> </ul>"},{"location":"tags/#tag:javascript","title":"JavaScript","text":"<ul> <li>            PyCharm\u4e0e\u6d4f\u89c8\u5668\u7684\u8fde\u540c\u8c03\u8bd5\u914d\u7f6e          </li> <li>            \u516c\u53f8\u5730\u5740\u667a\u80fd\u89e3\u6790\uff08\u57fa\u4e8eJavaScript\u63a5\u53e3\uff09          </li> <li>            \u9ad8\u7ea7\u722c\u866b\uff1a\u65e0\u5d4c\u5957webpack\u7684\u52a0\u5bc6\u65b9\u6cd5\u8865\u73af\u5883          </li> </ul>"},{"location":"tags/#tag:python","title":"Python","text":"<ul> <li>            Variance Ratio Test and Filter Rule          </li> <li>            \u4f30\u8ba1COVID-19\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u7387          </li> <li>            \u516c\u53f8\u5730\u5740\u667a\u80fd\u89e3\u6790\uff08\u57fa\u4e8eJavaScript\u63a5\u53e3\uff09          </li> <li>            \u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u65b9\u6cd5          </li> <li>            \u590d\u73b0The Pre-Announcement Drift in China -- Fig 2 &amp; Tab 2          </li> <li>            \u6211\u5f00\u53d1\u7684Python\u5305\u2014\u2014Portfolio Sorting\u6392\u5e8f\u6cd5          </li> <li>            \u6587\u672c\u76f8\u4f3c\u5ea6\u2014\u2014\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb          </li> </ul>"},{"location":"tags/#tag:\u5b9e\u8bc1","title":"\u5b9e\u8bc1","text":"<ul> <li>            Variance Ratio Test and Filter Rule          </li> <li>            \u4f30\u8ba1COVID-19\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u7387          </li> <li>            \u6211\u5f00\u53d1\u7684Python\u5305\u2014\u2014Portfolio Sorting\u6392\u5e8f\u6cd5          </li> <li>            \u6587\u672c\u76f8\u4f3c\u5ea6\u2014\u2014\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb          </li> </ul>"},{"location":"tags/#tag:\u5de5\u4f5c\u8bba\u6587","title":"\u5de5\u4f5c\u8bba\u6587","text":"<ul> <li>            \u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u65b9\u6cd5          </li> <li>            \u6587\u672c\u76f8\u4f3c\u5ea6\u2014\u2014\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb          </li> </ul>"},{"location":"tags/#tag:\u5df2\u53d1\u8868","title":"\u5df2\u53d1\u8868","text":"<ul> <li>            Variance Ratio Test and Filter Rule          </li> <li>            \u4f30\u8ba1COVID-19\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u7387          </li> </ul>"},{"location":"tags/#tag:\u5f00\u53d1\u73af\u5883","title":"\u5f00\u53d1\u73af\u5883","text":"<ul> <li>            PyCharm\u4e0e\u6d4f\u89c8\u5668\u7684\u8fde\u540c\u8c03\u8bd5\u914d\u7f6e          </li> </ul>"},{"location":"tags/#tag:\u6570\u636e\u63a5\u53e3","title":"\u6570\u636e\u63a5\u53e3","text":"<ul> <li>            CoinMarketCap\u52a0\u5bc6\u8d27\u5e01\u884c\u60c5\u722c\u53d6          </li> <li>            \u4e0a\u5e02\u516c\u53f8\u5b9a\u671f\u62a5\u544a\u722c\u53d6          </li> <li>            \u4e2d\u57fa\u534f-\u57fa\u91d1\u7ba1\u7406\u4eba\u540d\u5f55\u6570\u636e          </li> <li>            \u9177\u4e91-\u5267\u96c6\u64ad\u51fa\u65f6\u95f4\u6570\u636e          </li> </ul>"},{"location":"tags/#tag:\u6587\u672c\u5206\u6790","title":"\u6587\u672c\u5206\u6790","text":"<ul> <li>            \u516c\u53f8\u5730\u5740\u667a\u80fd\u89e3\u6790\uff08\u57fa\u4e8eJavaScript\u63a5\u53e3\uff09          </li> </ul>"},{"location":"tags/#tag:\u7a0b\u5e8f\u5305","title":"\u7a0b\u5e8f\u5305","text":"<ul> <li>            \u6211\u5f00\u53d1\u7684Python\u5305\u2014\u2014Portfolio Sorting\u6392\u5e8f\u6cd5          </li> </ul>"},{"location":"tags/#tag:\u7f51\u7edc\u722c\u866b","title":"\u7f51\u7edc\u722c\u866b","text":"<ul> <li>            CoinMarketCap\u52a0\u5bc6\u8d27\u5e01\u884c\u60c5\u722c\u53d6          </li> <li>            PyCharm\u4e0e\u6d4f\u89c8\u5668\u7684\u8fde\u540c\u8c03\u8bd5\u914d\u7f6e          </li> <li>            \u4e0a\u5e02\u516c\u53f8\u5b9a\u671f\u62a5\u544a\u722c\u53d6          </li> <li>            \u4e2d\u57fa\u534f-\u57fa\u91d1\u7ba1\u7406\u4eba\u540d\u5f55\u6570\u636e          </li> <li>            \u9177\u4e91-\u5267\u96c6\u64ad\u51fa\u65f6\u95f4\u6570\u636e          </li> <li>            \u9ad8\u7ea7\u722c\u866b\uff1a\u65e0\u5d4c\u5957webpack\u7684\u52a0\u5bc6\u65b9\u6cd5\u8865\u73af\u5883          </li> </ul>"},{"location":"tags/#tag:\u81ea\u7136\u8bed\u8a00\u5904\u7406","title":"\u81ea\u7136\u8bed\u8a00\u5904\u7406","text":"<ul> <li>            \u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u65b9\u6cd5          </li> <li>            \u6587\u672c\u76f8\u4f3c\u5ea6\u2014\u2014\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb          </li> </ul>"},{"location":"posts/","title":"\u7814\u7a76\u7b14\u8bb0","text":""},{"location":"posts/%E4%BC%B0%E8%AE%A1covid-19%E8%B6%85%E9%A2%9D%E9%A3%8E%E9%99%A9%E5%92%8C%E8%B6%85%E5%B8%B8%E6%94%B6%E7%9B%8A%E7%8E%87/","title":"\u4f30\u8ba1COVID-19\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u7387","text":"<p>\u5728    Systematic COVID risk, idiosyncratic COVID risk and stock returns  \u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u57fa\u4e8e\u4e8b\u4ef6\u7684\u65b9\u6cd5\u6765\u4f30\u8ba1COVID-19\u7206\u53d1\u671f\u95f4\u4e2a\u80a1\u7684\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u3002 \u8fd9\u91cc\u5bf9\u8be5\u65b9\u6cd5\u8fdb\u884c\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/%E4%BC%B0%E8%AE%A1covid-19%E8%B6%85%E9%A2%9D%E9%A3%8E%E9%99%A9%E5%92%8C%E8%B6%85%E5%B8%B8%E6%94%B6%E7%9B%8A%E7%8E%87/#_1","title":"\u4f30\u8ba1\u601d\u8def","text":"<p>\u6211\u4eec\u7684\u4f30\u8ba1\u57fa\u4e8e\u65e5\u5ea6\u6570\u636e\u8fdb\u884c\uff0c\u9996\u5148\u5b9a\u4e49\u5982\u4e0b\u4e8b\u4ef6\u7a97\u53e3\uff1a</p> \u7a97\u53e3\u7c7b\u578b \u65f6\u95f4\u533a\u95f4 \u8bf4\u660e Event window 2020-02-03 to 2020-03-31 \u8be5\u7a97\u53e3\u4e3a2020\u5e74\u6625\u8282\u4f11\u5e02\u7ed3\u675f\u52303\u6708\u5e95\u5e02\u573a\u9010\u6e10\u7a33\u5b9a\u7684\u8fd9\u6bb5\u65f6\u95f4,\u671f\u95f4\u6570\u636e\u7528\u6765\u6355\u6349\u6211\u4eec\u5173\u5fc3\u7684\u8d85\u989d\u98ce\u9669\u548c\u8d85\u5e38\u6536\u76ca\u3002 Estimation window 2019-01-01 to 2019-12-31 \u8be5\u7a97\u53e3\u6309\u7167\u672a\u53d7\u5230\u4e8b\u4ef6\u5f71\u54cd\u7684\u539f\u5219\u9009\u62e9\u4e86\u4e8b\u4ef6\u524d1\u4e2a\u5b63\u5ea6\u5230\u4e8b\u4ef6\u524d1\u5e74\u8fd9\u6bb5\u65f6\u95f4\uff0c\u7528\u6765\u6355\u6349\u6b63\u5e38\u60c5\u51b5\u4e0b\u7684\u98ce\u9669\u548c\u6536\u76ca\u60c5\u51b5\u3002 <p>\u7136\u540e\u6211\u4eec\u5b9a\u4e49\u865a\u62df\u53d8\u91cf\\(d\\)\uff1a\u5f53\u89c2\u6d4b\u503c\u5904\u4e8eevent window\u5185\u65f6\uff0c\\(d\\) = 1\uff1b\u5f53\u89c2\u6d4b\u503c\u5904\u4e8eestimation window\u5185\u65f6\uff0c\\(d\\) = 0</p> <p>\u6839\u636e\u4e0b\u5217\u6a21\u578b\uff0c\u4f7f\u7528event window\u548cestimation window\u5185\u7684\u6570\u636e\u53ef\u4ee5\u4f30\u8ba1\u8d85\u989d\u98ce\u9669\u548c\u8d85\u989d\u6536\u76ca\uff1a</p> <p>\\(R_{i,t}-R_{f,t}=\\alpha_i+\\alpha_{COVID_i}\\times d\\ +\\ (\\beta_i+\\beta_{COVID_i}\\times d)(R_{m,t}-R_{f,t})+\\varepsilon_{i,t}\\)</p> <ul> <li>\\(\\alpha_{COVID_i}\\)\u5ea6\u91cf\u7684\u662f\u75ab\u60c5\u671f\u95f4\u7ecf\u5e02\u573a\u6a21\u578b\u8c03\u6574\u7684\u8d85\u5e38\u6536\u76ca\u7387</li> <li>\\(\\beta_{COVID_i}\\)\u5ea6\u91cf\u7684\u662f\u7531\u75ab\u60c5\u5f15\u8d77\u7684\u7cfb\u7edf\u6027\u98ce\u9669\uff0c\u5373\u4e2a\u80a1\u6536\u76ca\u7387\u548c\u5e02\u573a\u6536\u76ca\u7387\u7684\u8d85\u989d\u534f\u65b9\u5dee</li> <li>\u4e2a\u80a1\u7684\u7279\u8d28\u6027\u98ce\u9669(idiosyncratic risk)\u901a\u5e38\u4f7f\u7528\u6b8b\u5dee\u7684\u6807\u51c6\u5dee\u8fdb\u884c\u4f30\u8ba1\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528event window\u5185\u6b8b\u5dee\u7684\u6807\u51c6\u5dee\u51cf\u53bbestimation window\u5185\u6b8b\u5dee\u7684\u6807\u51c6\u5dee\u4f30\u8ba1\u7531\u75ab\u60c5\u5f15\u8d77\u7684\u4e2a\u80a1\u7279\u8d28\u98ce\u9669:\\(EXIVOL_{COVID}=\\hat{\\sigma} _{\\mu}-\\hat{\\sigma} _{\\theta}\\)</li> </ul>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/%E4%BC%B0%E8%AE%A1covid-19%E8%B6%85%E9%A2%9D%E9%A3%8E%E9%99%A9%E5%92%8C%E8%B6%85%E5%B8%B8%E6%94%B6%E7%9B%8A%E7%8E%87/#python","title":"Python\u4ee3\u7801","text":"<p>\u6211\u4eec\u9700\u8981\u51c6\u5907\u65e5\u5ea6\u4e2a\u80a1\\(R_{i,t}-R_{f,t}\\)(risk premium)\u6570\u636e\u548c\\(R_{m,t}-R_{f,t}\\)(market premium)\u6570\u636e\uff0c\u7c7b\u4f3c\u4e0b\u8868\uff1a</p> <p>\u5168\u5c40\u53d8\u91cf\u5b9a\u4e49event window\u548cestimation window\uff0c\u7b5b\u9009\u51fa\u7a97\u53e3\u5185\u7684\u6570\u636e\uff0c\u7136\u540e\u5b9a\u4e49\u865a\u62df\u53d8\u91cf\\(d\\) <pre><code>event_window = [\"2020-02-03\", \"2020-03-31\"]\nestimation_window = [\"2019-01-01\", \"2019-12-31\"]\n\ndata_esti = data.query(\"(date &gt;= @estimation_window[0] and date &lt;= @estimation_window[1]) or (date &gt;= @event_window[0] and date &lt;= @event_window[1])\").copy()\n# \u5224\u65addate\u662f\u5426\u5904\u5728\u4e8b\u4ef6\u7a97\u53e3\uff0c\u7136\u540e\u8f6c\u6362\u4e3a\u6574\u6570\u578b\u5c31\u6709\u865a\u62df\u53d8\u91cfd\uff1a\u5728\u4e8b\u4ef6\u7a97\u53e3\u5185\u53d61\uff0c\u4e0d\u5728\u5c31\u53d60\ndata_esti[\"d\"] = data_esti.eval(\"date &gt;= @event_window[0] and date &lt;= @event_window[1]\").astype(int)\n</code></pre></p> <p>\u5c06\u4f30\u8ba1\u65b9\u6cd5\u5c01\u88c5\u5230\u4e86\u4e00\u4e2a\u51fd\u6570\u5185\uff1a</p> \u51fd\u6570\u53c2\u6570 <p>\u5176\u4e2dgroup\u53c2\u6570\u8868\u793a\u5355\u652f\u80a1\u7968\u7684\u6570\u636e\uff0cmin_esti_window\u548cmin_event_window\u53c2\u6570\u8868\u793a\u5bf9\u89c2\u6d4b\u503c\u6570\u91cf\u8fdb\u884c\u8981\u6c42\u3002</p> <pre><code># \u4f7f\u7528\u4e86statsmodels\u7684\u516c\u5f0fapi\nimport statsmodels.formula.api as smf\n\ndef covid_beta_IVOL_estimate(group, min_esti_window, min_event_window):\n    '''\n    \u9010\u80a1\u8fdb\u884c\u56de\u5f52\uff0c\u5e76\u63d0\u53d6COVID excess beta\u548cIVOL\n    '''\n    df = group.copy()\n    df = df.sort_values(\"date\").set_index(\"date\")\n    code = df[\"code\"].iloc[0]\n\n    '''\n    \u5982\u679c\u4e8b\u4ef6\u7a97\u53e3\u548c\u4f30\u8ba1\u7a97\u53e3\u4e0d\u6ee1\u8db3\u6700\u4f4e\u8981\u6c42\uff0c\u5219\u8fd4\u56de\u7a7a\u503c\n    '''\n    # \u5bf9\u4e8b\u4ef6\u7a97\u53e3\u957f\u5ea6\u505a\u51fa\u9650\u5236\n    if df.eval(\"d == 1\").sum() &lt; min_event_window:\n        return pd.Series({\"const\" : np.nan,\n                          \"alpha_covid\" : np.nan,\n                          \"beta\" : np.nan,\n                          \"beta_covid\" : np.nan,\n                          \"IVOL_covid\" : np.nan})\n\n    # \u5bf9\u4f30\u8ba1\u7a97\u53e3\u957f\u5ea6\u505a\u51fa\u9650\u5236\n    if df.eval(\"d == 0\").sum() &lt; min_esti_window:\n        return pd.Series({\"const\" : np.nan,\n                          \"alpha_covid\" : np.nan,\n                          \"beta\" : np.nan,\n                          \"beta_covid\" : np.nan,\n                          \"IVOL_covid\" : np.nan})\n\n    '''\n    \u8fdb\u884c\u56de\u5f52\n    '''\n    # smf\u6dfb\u52a0\u4ea4\u4e92\u9879\u65f6\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5355\u72ec\u9879\uff0cd*market_premium\u8868\u793a d + market_premium + d*market_premium\n    model = smf.ols(formula = \"risk_premium ~ d*market_premium\", data = df, missing = \"drop\")\n    res = model.fit()\n\n    '''\n    \u63d0\u53d6\u4f30\u8ba1\u7cfb\u6570\n    '''\n    const = res.params[\"Intercept\"]\n    alpha_covid = res.params[\"d\"]\n    beta = res.params[\"excess_market_float\"]\n    beta_covid = res.params[\"d:excess_market_float\"]\n\n    '''\n    \u8ba1\u7b97covid excess IVOL\n    '''\n    # \u4f30\u8ba1\u7a97\u53e3\u5185\u7684\u6b8b\u5dee\n    theta = res.resid.loc[estimation_window[0] : estimation_window[1]]\n    # \u4e8b\u4ef6\u7a97\u53e3\u5185\u7684\u6b8b\u5dee\n    miu = res.resid.loc[event_window[0] : event_window[1]]\n    # \u8ba1\u7b97\u4f30\u8ba1\u7a97\u53e3\u5185\u6b8b\u5dee\u7684\u6807\u51c6\u5dee\n    sigma_theta = np.sqrt(np.mean(np.power(theta, 2)))\n    # \u8ba1\u7b97\u4e8b\u4ef6\u7a97\u53e3\u5185\u6b8b\u5dee\u7684\u6807\u51c6\u5dee\n    sigma_miu = np.sqrt(np.mean(np.power(miu,2)))\n    # \u8ba1\u7b97covid excess IVOL = sigma_miu - sigma_theta\n    IVOL_covid = sigma_miu - sigma_theta\n\n    return pd.Series({\"const\" : const,\n                      \"alpha_covid\" : alpha_covid,\n                      \"beta\" : beta,\n                      \"beta_covid\" : beta_covid,\n                      \"IVOL_covid\" : IVOL_covid})\n\n# \u901a\u8fc7\u4f7f\u7528groupby\u65b9\u6cd5\u5c06\u51fd\u6570\u5e94\u7528\u5230\u6bcf\u652f\u80a1\u7968\u7684\u6570\u636e\u4e0a\uff0c\u4ece\u800c\u5f97\u5230\u6bcf\u652f\u4e2a\u80a1\u7684\u4f30\u8ba1\u503c\nexcess_covid_beta_IVOL = data_esti.groupby(\"code\").progress_apply(covid_beta_IVOL_estimate, \n                                                                  min_esti_window = 180, \n                                                                  min_event_window = 5)\n</code></pre> <p>\u4f30\u8ba1\u7ed3\u679c\u5982\u4e0b\uff1a</p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/%E5%85%AC%E5%8F%B8%E5%9C%B0%E5%9D%80%E6%99%BA%E8%83%BD%E8%A7%A3%E6%9E%90%E5%9F%BA%E4%BA%8Ejavascript%E6%8E%A5%E5%8F%A3/","title":"\u516c\u53f8\u5730\u5740\u667a\u80fd\u89e3\u6790\uff08\u57fa\u4e8eJavaScript\u63a5\u53e3\uff09","text":"<p>\u5728\u7814\u7a76\u5f53\u4e2d\u53ef\u80fd\u9700\u8981\u7528\u5230\u516c\u53f8\u5730\u5740\u4fe1\u606f\uff0c\u5c3d\u7ba1\u5f88\u591a\u6570\u636e\u5e93\u90fd\u63d0\u4f9b\u8fd9\u4e00\u6570\u636e\uff0c\u4f46\u5176\u5bf9\u516c\u53f8\u6240\u5904\u884c\u653f\u533a\u5212\u7684\u7ec6\u5206\u53ef\u80fd\u4e0d\u7b26\u5408\u6211\u4eec\u7684\u8981\u6c42\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u60f3\u83b7\u53d6\u7701\u3001\u5e02\u3001\u533a\u4e09\u7ea7\u884c\u653f\u533a\u5212\uff0c\u4f46CSMAR\u6570\u636e\u5e93\u6ca1\u6709\u76f8\u5e94\u7684\u7ec6\u5206\u6570\u636e\uff0c\u53ea\u80fd\u81ea\u884c\u6784\u5efa\u3002</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u5982\u4f55\u90e8\u7f72JavaScript\u63a5\u53e3\uff0c\u4ece\u800c\u5728Python\u4e2d\u8c03\u7528\u63a5\u53e3\u8fdb\u884c\u516c\u53f8\u5730\u5740\u7684\u667a\u80fd\u89e3\u6790\u3002</p> <pre><code>graph TD\n  A(\u8f93\u5165\uff1a\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u798f\u7530\u533a\u76ca\u7530\u8def5023\u53f7\u5e73\u5b89\u91d1\u878d\u4e2d\u5fc3B\u5ea7);\n  A --&gt; B(\u89e3\u6790);\n  B --&gt; C(\u7701\u4efd\uff1a\u5e7f\u4e1c\u7701);\n  B --&gt; D(\u57ce\u5e02\uff1a\u6df1\u5733\u5e02);\n  B --&gt; E(\u57ce\u533a\uff1a\u798f\u7530\u533a);\n  B --&gt; F(\u90ae\u653f\u7f16\u7801\uff1a440304);\n  B --&gt; G(...);</code></pre> <p>\u81ea\u884c\u63d0\u53d6\u884c\u653f\u533a\u5212\u7684\u53ef\u884c\u601d\u8def\u662f\u5c06\u516c\u53f8\u5730\u5740\u8fdb\u884c\u5207\u5206\uff0c\u7136\u540e\u4e0e\u5168\u56fd\u884c\u653f\u533a\u5212\u8fdb\u884c\u5bf9\u7167\uff0c\u4f46\u6211\u4eec\u5176\u5b9e\u4e0d\u5e94\u8be5\u5728\u7814\u7a76\u4e2d\u8fd9\u79cd\u7ec6\u679d\u672b\u8282\u7684\u5730\u65b9\u82b1\u8d39\u592a\u591a\u65f6\u95f4\u7cbe\u529b\u3002\u8054\u60f3\u5230\u5feb\u9012\u5bc4\u4ef6\u65f6\u57fa\u672c\u90fd\u6709\u667a\u80fd\u5730\u5740\u89e3\u6790\u529f\u80fd\uff0c\u8bf4\u660e\u8fd9\u4e00\u6280\u672f\u5df2\u7ecf\u6210\u719f\u3002</p> <p>\u7684\u786e\uff0cGitHub\u4e0a\u6709\u4e0d\u5c11\u56fd\u5185\u5730\u5740\u89e3\u6790\u7684\u9879\u76ee\uff0c\u4f46\u5927\u591a\u90fd\u57fa\u4e8eJavaScript\u8bed\u8a00\uff0c\u8fd9\u4e00\u8bed\u8a00\u901a\u5e38\u6d3b\u8dc3\u5728\u4e92\u8054\u7f51\u5e94\u7528\u9886\u57df\uff0c\u6211\u4eec\u63a5\u89e6\u4e0d\u591a\u3002\u597d\u5728\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u51e0\u884cJavaScript\u4ee3\u7801\u90e8\u7f72\u4e00\u4e2a\u667a\u80fd\u5730\u5740\u89e3\u6790\u7684\u63a5\u53e3\uff0c\u7136\u540e\u5728Python\u5f53\u4e2d\u901a\u8fc7\u8fd9\u4e2a\u63a5\u53e3\u6765\u5bf9\u6211\u4eec\u7684\u516c\u53f8\u5730\u5740\u6570\u636e\u8fdb\u884c\u89e3\u6790\u3002</p>","tags":["\u6587\u672c\u5206\u6790","Python","JavaScript"]},{"location":"posts/%E5%85%AC%E5%8F%B8%E5%9C%B0%E5%9D%80%E6%99%BA%E8%83%BD%E8%A7%A3%E6%9E%90%E5%9F%BA%E4%BA%8Ejavascript%E6%8E%A5%E5%8F%A3/#-javascript","title":"\u90e8\u7f72\u63a5\u53e3-JavaScript","text":"<p>\u6211\u9009\u62e9\u4e86zh-address-parse\u8fd9\u4e2a\u667a\u80fd\u5730\u5740\u89e3\u6790\u9879\u76ee\uff0c\u8981\u5c06\u5176\u90e8\u7f72\u9996\u5148\u9700\u8981\u5b89\u88c5JavaScript\u5f00\u53d1\u73af\u5883Node.js\u3002</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\u5728\u4efb\u610f\u4f4d\u7f6e\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u7528\u6765\u653e\u7f6e\u63a5\u53e3\u6240\u9700\u8981\u7684\u4ee3\u7801\u3002\u7136\u540e\uff0c\u6211\u4eec\u8981\u5b89\u88c5\u6240\u9700\u7684JavaScript\u5e93\u3002\u5728\u521a\u521a\u65b0\u5efa\u7684\u6587\u4ef6\u5939\u4e0b\u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8f93\u5165\u4e0b\u5217\u547d\u4ee4\u5b89\u88c5\u7528\u4e8e\u90e8\u7f72\u63a5\u53e3\u7684express\u5e93\u548c\u521a\u521a\u63d0\u5230\u7528\u4e8e\u667a\u80fd\u5730\u5740\u89e3\u6790\u7684zh-address-parse\u5e93\uff1a <pre><code>npm install express\n\nnpm i zh-address-parse -s\n</code></pre></p> <p>\u63a5\u7740\uff0c\u6211\u4eec\u7f16\u5199\u63a5\u53e3\u7684JavaScript\u4ee3\u7801\uff0cJS\u4e5f\u5c5e\u4e8e\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u8bed\u8a00\uff0c\u4e0epython\u76f8\u4f3c\u3002\u5728\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa\u6587\u672c\u6587\u6863\uff0c\u547d\u540d\u4e3a<code>app.js</code>\uff0c\u5199\u5165\u4e0b\u5217\u4ee3\u7801\uff1a <pre><code>// \u5bfc\u5165express\u6846\u67b6\nconst express = require('express');\n\n// \u5bfc\u5165\u521a\u521a\u5b89\u88c5\u7684\u5730\u5740\u89e3\u6790\u5e93\nconst AddressParse = require('./node_modules/zh-address-parse/dist/zh-address-parse.min.js')\n</code></pre></p> <p>Tip</p> <p>npm\u6240\u4e0b\u8f7d\u7684\u6846\u67b6/\u5e93\u4f1a\u653e\u7f6e\u5728node_modules\u6587\u4ef6\u5939\u4e0b\uff0c\u5bf9\u4e8ezh-address-parse\u8fd9\u4e2a\u5e93\u6211\u4eec\u53ea\u5bfc\u5165\u4e86<code>zh-address-parse.min.js</code>\u8fd9\u4e2a\u6587\u4ef6\uff0c<code>.min.js</code>\u8868\u660e\u8be5\u6587\u4ef6\u5305\u542b\u4e86\u8fd9\u4e2a\u5e93\u7684\u5b8c\u6574\u529f\u80fd</p> <p>\u6211\u4eec\u7ee7\u7eed\u5411<code>app.js</code>\u4e2d\u5199\u5165\u4ee3\u7801\uff1a <pre><code>const app = express();  // \u5b9e\u4f8b\u5316express\u5bf9\u8c61\uff0c\u53d6\u540d\u4e3aapp\uff0c\u5b83\u5c31\u662f\u6211\u4eec\u7684\u670d\u52a1\u5668\napp.use(express.json());  // \u670d\u52a1\u5668\u63a5\u6536json\u683c\u5f0f\u7684\u8f93\u5165\n\n// \u5b9a\u4e49\u5411\u670d\u52a1\u5668\u7684/parse\u8def\u5f84\u8fdb\u884c\u53d1\u9001\u7684post\u8bf7\u6c42\napp.post('/parse', (req, res) =&gt; {\n    // post\u8bf7\u6c42\u4e2d\u9700\u8981\u5305\u542boptions\u548caddress\u4e24\u4e2a\u5c5e\u6027\n    const address = req.body.address; // address\u5373\u4e3a\u5f85\u89e3\u6790\u5730\u5740\n    const options = req.body.options; // options\u4e3a\u89e3\u6790\u65f6\u7684\u4e00\u4e9b\u9009\u9879\n    // \u5c06address\u548coptions\u4f20\u5165\u5730\u5740\u89e3\u6790\u5e93AddressParse\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u4fdd\u5b58\u5728result\u53d8\u91cf\u91cc\n    const result = AddressParse(address, options);\n    // \u5b9a\u4e49post\u7684\u76f8\u5e94\u4e3ajson\u683c\u5f0f\uff0c\u5185\u5bb9\u4e3aresult\n    res.json(result);\n});\n\n// \u5b9a\u4e49\u5411\u670d\u52a1\u5668\u6839\u76ee\u5f55\u53d1\u9001\u7684get\u8bf7\u6c42\n// \u7528\u6765\u6d4b\u8bd5\u6211\u4eec\u7684\u670d\u52a1\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\uff1a\u5bf9\u6839\u76ee\u5f55\u53d1\u9001get\u8bf7\u6c42\u65f6\uff0c\u663e\u793a\u4e00\u4e9b\u63d0\u793a\u6587\u5b57\napp.get('/', (req, res) =&gt; {\n  res.send('\u670d\u52a1\u6b63\u5728\u8fd0\u884c');\n});\n\n// \u5c06\u670d\u52a1\u5668\u6620\u5c04\u5230\u672c\u5730\u76843000\u7aef\u53e3\u4e0a\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () =&gt; {\n  console.log(`Parse server running on port ${PORT}`);\n});\n</code></pre></p> <p>\u7f16\u5199\u5b8cJavaScript\u4ee3\u7801\u4e4b\u540e\uff0c\u5728\u6587\u4ef6\u5939\u4e2d\u6253\u5f00\u547d\u4ee4\u884c\u8f93\u5165<code>node app.js</code>\u5373\u53ef\u8fd0\u884c\u6211\u4eec\u7684\u63a5\u53e3\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee<code>http://localhost:3000/</code> \u4fbf\u53ef\u4ee5\u6d4b\u8bd5\u6211\u4eec\u7684\u63a5\u53e3\u8fd0\u884c\u60c5\u51b5\u3002</p>","tags":["\u6587\u672c\u5206\u6790","Python","JavaScript"]},{"location":"posts/%E5%85%AC%E5%8F%B8%E5%9C%B0%E5%9D%80%E6%99%BA%E8%83%BD%E8%A7%A3%E6%9E%90%E5%9F%BA%E4%BA%8Ejavascript%E6%8E%A5%E5%8F%A3/#-python","title":"\u8c03\u7528\u63a5\u53e3-Python","text":"<p>\u63a5\u53e3\u90e8\u7f72\u5b8c\u6bd5\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728python\u4e2d\u8c03\u7528\u63a5\u53e3\u4e86\u3002\u6211\u4eec\u9700\u8981\u6784\u9020\u4e00\u4e2a\u5b57\u5178\uff0c\u5305\u542baddress\u548coptions\u4e24\u4e2a\u952e\uff0caddress\u5bf9\u5e94\u7684\u503c\u5c31\u662f\u6211\u4eec\u5f85\u89e3\u6790\u7684\u5730\u5740\uff0c\u800coptions\u5bf9\u5e94\u7684\u503c\u662f\u89e3\u6790\u65f6\u7684\u9009\u9879\uff0c\u5e94\u8be5\u53c2\u8003zh-address-parse\u7684\u8bf4\u660e\uff1a</p> <pre><code>address = \"\u5e7f\u4e1c\u7701\u6df1\u5733\u5e02\u798f\u7530\u533a\u76ca\u7530\u8def5023\u53f7\u5e73\u5b89\u91d1\u878d\u4e2d\u5fc3B\u5ea7\"\n\n# \u6839\u636ezh-address-parse\u7684\u8bf4\u660e\uff1a\noptions = {\"type\": 1, # \u54ea\u79cd\u65b9\u5f0f\u89e3\u6790\uff0c0\uff1a\u6b63\u5219\uff0c1\uff1a\u6811\u67e5\u627e\n           \"textFilter\": [], # \u9884\u6e05\u6d17\u7684\u5b57\u6bb5\n           \"nameMaxLength\": 4, # \u67e5\u627e\u6700\u5927\u7684\u4e2d\u6587\u540d\u5b57\u957f\u5ea6\n           \"extraGovData\": {\n               \"city\": [{\"name\": \"name\", \"code\": \"code\", \"provinceCode\": \"provinceCode\"}],\n               \"province\": [{\"name\": \"name\", \"code\": \"code\"}],\n               \"area\": [{\"name\": \"name\", \"code\": \"code\", \"provinceCode\": \"provinceCode\", \"cityCode\": \"cityCode\"}]\n           }\n          }\n\njson = {\"address\": address,\n        \"options\": options}\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u4f7f\u7528requests\u5e93\u5bf9\u63a5\u53e3\u7684url<code>http://localhost:3000/parse</code> \u53d1\u9001post\u8bf7\u6c42\u3002\u5728\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\uff0cprovince\uff0ccity\u548carea\u5c31\u5bf9\u5e94\u4e86\u7701\u3001\u5e02\u3001\u533a\u4e09\u7ea7\u884c\u653f\u533a\u5212\uff1a <pre><code>url = \"http://localhost:3000/parse\"\nresponse = requests.post(url, json=json)\nresponse.json()\n\n# output\n# {'phone': '',\n#  'province': '\u5e7f\u4e1c\u7701',\n#  'city': '\u6df1\u5733\u5e02',\n#  'area': '\u798f\u7530\u533a',\n#  'detail': '\u76ca\u7530\u8def5023\u53f7\u5e73\u5b89\u91d1\u878d\u4e2d\u5fc3B\u5ea7',\n#  'name': '',\n#  'postalCode': '',\n#  'areaCode': '440304'}\n</code></pre></p> <p>Warning</p> <p>\u5982\u679cPython\u662f\u8fd0\u884c\u5728Docker\u5bb9\u5668\u5f53\u4e2d\uff0c<code>http://localhost:3000/parse</code>\u5bf9\u5e94\u7684\u662f\u865a\u62df\u673a\u81ea\u8eab\u7684\u672c\u57303000\u7aef\u53e3\uff0c\u4f46\u5730\u5740\u89e3\u6790\u63a5\u53e3\u662f\u90e8\u7f72\u5728\u5bbf\u4e3b\u673a\u76843000\u7aef\u53e3\u4e0a\uff0c\u56e0\u6b64\u9700\u8981\u5c06url\u6539\u4e3a<code>http://host.docker.internal:3000/parse</code>\u4ee5\u8868\u660e\u662f\u5411\u5bbf\u4e3b\u673a\u8fdb\u884c\u8bf7\u6c42</p>","tags":["\u6587\u672c\u5206\u6790","Python","JavaScript"]},{"location":"posts/%E4%B8%AD%E5%9F%BA%E5%8D%8F-%E5%9F%BA%E9%87%91%E7%AE%A1%E7%90%86%E4%BA%BA%E5%90%8D%E5%BD%95%E6%95%B0%E6%8D%AE/","title":"\u4e2d\u57fa\u534f-\u57fa\u91d1\u7ba1\u7406\u4eba\u540d\u5f55\u6570\u636e","text":"<p>\u4e2d\u56fd\u8bc1\u5238\u6295\u8d44\u57fa\u91d1\u4e1a\u534f\u4f1a\uff0caka \u4e2d\u57fa\u534f\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u57fa\u91d1\u884c\u4e1a\u7684\u6570\u636e\u3002\u5176\u670d\u52a1\u5927\u5385\u63d0\u4f9b\u4e86\u6709\u5173\u673a\u6784\u3001\u4ea7\u54c1\u548c\u4eba\u5458\u6570\u636e\u7684\u67e5\u8be2\u670d\u52a1\u3002\u8fd9\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u5982\u4f55\u722c\u53d6\u516c\u52df\u57fa\u91d1\u7ba1\u7406\u4eba\u540d\u5f55\u6570\u636e\u3002</p> \u5e8f\u53f7 \u516c\u53f8\u540d\u79f0 \u6ce8\u518c\u5730 \u8f96\u533a \u5b98\u65b9\u7f51\u5740 \u5ba2\u670d\u7535\u8bdd 1 \u56fd\u6cf0\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8 \u4e0a\u6d77 \u4e0a\u6d77 www.gtfund.com 4008888688/ 021-31089000 2 \u5357\u65b9\u57fa\u91d1\u7ba1\u7406\u80a1\u4efd\u6709\u9650\u516c\u53f8 \u6df1\u5733 \u6df1\u5733 www.nffund.com 4008898899 3 \u534e\u590f\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8 \u5317\u4eac \u5317\u4eac www.chinaamc.com 4008186666 ... ... ... ... ... ...","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E4%B8%AD%E5%9F%BA%E5%8D%8F-%E5%9F%BA%E9%87%91%E7%AE%A1%E7%90%86%E4%BA%BA%E5%90%8D%E5%BD%95%E6%95%B0%E6%8D%AE/#_1","title":"\u6570\u636e\u63a5\u53e3","text":"<p>\u6211\u4eec\u5148\u5c1d\u8bd5\u83b7\u53d6\u6570\u636e\u63a5\u53e3\uff0c \u4ece\u670d\u52a1\u5927\u5385\u7684\u673a\u6784\u67e5\u8be2\u5165\u53e3\u53ef\u4ee5\u627e\u5230\u516c\u52df\u57fa\u91d1\u7ba1\u7406\u4eba\u540d\u5f55\u67e5\u8be2\u3002\u5728\u6211\u64b0\u5199\u8fd9\u7bc7\u6587\u7ae0\u65f6\u5171\u6709158\u6761\u8bb0\u5f55\uff0c\u517116\u9875\uff0c\u6570\u636e\u91cf\u4e0d\u5927\u3002</p> <p>Warning</p> <p>\u5728\u8be5\u9875\u9762\u6253\u5f00\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u53ef\u80fd\u4f1a\u81ea\u52a8\u8fdb\u5165\u4e86\u8c03\u8bd5\u6a21\u5f0f\uff0c\u963b\u6b62\u6211\u4eec\u5bf9\u9875\u9762\u5143\u7d20\u8fdb\u884c\u5ba1\u67e5\u3002\u5728\u8c03\u8bd5\u5de5\u5177\u4e2d\u53ef\u4ee5\u770b\u5230\u662f\u6267\u884c\u4e86<code>assets</code>\u76ee\u5f55\u4e0b<code>0b0c58b7_chunk.js</code>\u8fd9\u6bb5\u4ee3\u7801\u5bfc\u81f4\u7684\uff0c\u6211\u4eec\u53f3\u952e\u70b9\u51fb\u8fd9\u4e2a\u6587\u4ef6\uff0c\u9009\u62e9Add script to ignore list\u5c31\u53ef\u4ee5\u6b63\u5e38\u5ba1\u67e5\u9875\u9762\u5143\u7d20\u4e86\u3002  </p> <p>\u63a5\u7740\u5c06\u5f00\u53d1\u8005\u5de5\u5177\u5207\u6362\u5230Network\u6807\u7b7e\uff0c\u9009\u62e9Fetch/XHR\u7c7b\u578b\uff0c\u5237\u65b0\u9875\u9762\uff0c\u53ef\u4ee5\u770b\u5230\u4e24\u6761\u8bb0\u5f55\uff0c\u5176\u4e2d\u6709<code>pageNo=1&amp;pageSize=10</code>\u5b57\u6837\u7684\u5c31\u662f\u6570\u636e\u63a5\u53e3\u3002\u70b9\u51fb\u8be5\u8bb0\u5f55\u67e5\u770bHeaders\uff0c\u53ef\u4ee5\u770b\u5230\u6570\u636e\u63a5\u53e3\u4e3a<code>https://www.amac.org.cn//portal/front/mutualFund/findMutualFundHousePage?</code> \uff0cquery\u4e3a<code>pageNo=1&amp;pageSize=10</code>.</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E4%B8%AD%E5%9F%BA%E5%8D%8F-%E5%9F%BA%E9%87%91%E7%AE%A1%E7%90%86%E4%BA%BA%E5%90%8D%E5%BD%95%E6%95%B0%E6%8D%AE/#_2","title":"\u8bf7\u6c42\u6570\u636e","text":"<p>\u4f7f\u7528urllib\u5e93\u6784\u9020URL\uff0c\u6211\u4eec\u521a\u521a\u770b\u5230\u603b\u5171\u6709158\u6761\u8bb0\u5f55\uff0c\u6240\u4ee5\u5c1d\u8bd5\u5c06query\u4e2d\u7684pageSize\u6539\u4e3a200\uff0c\u4f7f\u5f97\u4e00\u6b21\u8bf7\u6c42\u5c31\u53ef\u4ee5\u5c06\u6240\u6709\u6570\u636e\u63d0\u53d6\u51fa\u6765\u3002</p> <pre><code>import urllib\napi = \"http://www.amac.org.cn//portal/front/mutualFund/findMutualFundHousePage?\"\n\nquery = {\"pageNo\": 1, \"pageSize\": 200}\nquery = urllib.parse.urlencode(query)\n\nurl = api + query\nurl\n\n# output\n# 'http://www.amac.org.cn//portal/front/mutualFund/findMutualFundHousePage?pageNo=1&amp;pageSize=200'\n</code></pre> <p>\u5c1d\u8bd5\u8bf7\u6c42\u8be5\u94fe\u63a5\uff0c\u4f1a\u62a5SSLError\u9519\u8bef\uff1aUNSAFE_LEGACY_RENEGOTIATION_DISABLED</p> <pre><code>import requests\n\nrequests.get(url)\n\n# output\n# ... SSLError: [SSL: UNSAFE_LEGACY_RENEGOTIATION_DISABLED] ...\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a\u7f51\u7ad9\u4f7f\u7528\u4e86\u65e7\u7248\u672c\u7684\u534f\u8bae\uff0c\u4e0erequests\u4ea7\u751f\u4e86\u51b2\u7a81\uff0cstack overflow\u7684\u5e16\u5b50\u63d0\u4f9b\u4e86\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <pre><code>import requests\nimport urllib3\nimport ssl\n\n\nclass CustomHttpAdapter (requests.adapters.HTTPAdapter):\n    # \"Transport adapter\" that allows us to use custom ssl_context.\n\n    def __init__(self, ssl_context=None, **kwargs):\n        self.ssl_context = ssl_context\n        super().__init__(**kwargs)\n\n    def init_poolmanager(self, connections, maxsize, block=False):\n        self.poolmanager = urllib3.poolmanager.PoolManager(\n            num_pools=connections, maxsize=maxsize,\n            block=block, ssl_context=self.ssl_context)\n\n\ndef get_legacy_session():\n    ctx = ssl.create_default_context(ssl.Purpose.SERVER_AUTH)\n    ctx.options |= 0x4  # OP_LEGACY_SERVER_CONNECT\n    session = requests.session()\n    session.mount('https://', CustomHttpAdapter(ctx))\n    return session\n</code></pre> <p>\u901a\u8fc7\u4e0a\u8ff0<code>get_legacy_session</code>\u51fd\u6570\u5c31\u53ef\u4ee5\u6210\u529f\u8bf7\u6c42\u5230\u6570\u636e\uff0c\u6211\u4eec\u5c06\u4f20\u56de\u7684\u6570\u636e\u8f6c\u6362\u4e3ajson</p> <pre><code>import json\n\nr = get_legacy_session().get(url)\ndata = json.loads(r.text)\ndata\n\n# output\n# {'path': '//portal/front/mutualFund/findMutualFundHousePage',\n#  'code': 200,\n#  'data': {'errcode': 0,\n#   'msg': '\u67e5\u8be2\u6210\u529f',\n#   'data': {'dataList': [{'lineId': '1',\n#      'houseName': '\u56fd\u6cf0\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8',\n#      'registerAddr': '\u4e0a\u6d77',\n#      'officeAddr': '\u4e0a\u6d77',\n#      'website': 'www.gtfund.com',\n#      'phone': '4008888688/\\n021-31089000'},\n# ...\n</code></pre> <p>json\u4e2ddata-data-dataList\u4e0b\u5c31\u662f\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u8f6c\u6362\u6210DataFrame:</p> <pre><code>import pandas as pd\n\ndf = pd.DataFrame(data[\"data\"][\"data\"][\"dataList\"])\ndf\n\n# output\n#     lineId         houseName registerAddr officeAddr           website  \\\n# 0        1        \u56fd\u6cf0\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8           \u4e0a\u6d77         \u4e0a\u6d77    www.gtfund.com   \n# 1        2      \u5357\u65b9\u57fa\u91d1\u7ba1\u7406\u80a1\u4efd\u6709\u9650\u516c\u53f8           \u6df1\u5733         \u6df1\u5733    www.nffund.com   \n# 2        3        \u534e\u590f\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8           \u5317\u4eac         \u5317\u4eac  www.chinaamc.com   \n# 3        4        \u534e\u5b89\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8           \u4e0a\u6d77         \u4e0a\u6d77  www.huaan.com.cn   \n# 4        5        \u535a\u65f6\u57fa\u91d1\u7ba1\u7406\u6709\u9650\u516c\u53f8           \u6df1\u5733         \u6df1\u5733    www.bosera.com   \n# ..     ...               ...          ...        ...               ...\n</code></pre>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/coinmarketcap%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81%E8%A1%8C%E6%83%85%E7%88%AC%E5%8F%96/","title":"CoinMarketCap\u52a0\u5bc6\u8d27\u5e01\u884c\u60c5\u722c\u53d6","text":"<p>\u5728The Overall And Extremely Low Return Spillovers Among Cryptocurrencies and Stock Markets: Evidence from the COVID-19 \u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c\u6211\u4eec\u63a2\u7a76\u4e86COVID-19\u75ab\u60c5\u671f\u95f4\u52a0\u5bc6\u8d27\u5e01\u4e0e\u80a1\u7968\u5e02\u573a\u4e4b\u95f4\u7684\u6ea2\u51fa\u6548\u5e94\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u7684\u52a0\u5bc6\u8d27\u5e01\u5386\u53f2\u884c\u60c5\u6570\u636e\u6765\u6e90\u4e8e  CoinMarketCap  \uff0c\u8be5\u7ad9\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u52a0\u5bc6\u8d27\u5e01\u7684\u884c\u60c5\u6570\u636e\uff0c\u73b0\u5728\u4ecb\u7ecd\u5982\u4f55\u5c06\u8fd9\u4e9b\u6570\u636e\u722c\u53d6\u4e0b\u6765\u3002</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/coinmarketcap%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81%E8%A1%8C%E6%83%85%E7%88%AC%E5%8F%96/#_1","title":"\u63a5\u53e3\u5206\u6790","text":"<p>\u6253\u5f00\u4efb\u610f\u52a0\u5bc6\u8d27\u5e01\u7684\u5386\u53f2\u884c\u60c5\u9875\u9762\uff0c\u4f8b\u5982  Bitcoin .</p> <p>\u53ef\u4ee5\u770b\u5230\u5c3d\u7ba1\u9875\u9762\u63d0\u4f9b\u4e86\u6570\u636e\u4e0b\u8f7d\u529f\u80fd\uff0c\u4f46\u5355\u6b21\u6700\u591a\u4e0b\u8f7d400\u6761\u6570\u636e\u3002 \u4f7f\u7528\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u8fdb\u884c\u6293\u5305\u53ef\u4ee5\u627e\u5230\u5982\u4e0b\u6570\u636e\u63a5\u53e3\uff1a</p> <pre><code>https://api.coinmarketcap.com/data-api/v3.1/cryptocurrency/historical?id=1&amp;convertId=2781&amp;timeStart=1514764800&amp;timeEnd=1517356800&amp;interval=1d\n</code></pre> <p>\u5176\u4e2d\u6709\u4e94\u4e2a\u4e2a\u5173\u952e\u53c2\u6570\uff1a</p> \u53c2\u6570 \u542b\u4e49 id \u52a0\u5bc6\u8d27\u5e01id\uff0cid=1\u8868\u793aBitcoin convertId \u5151\u6362\u8d27\u5e01\u7684\u7c7b\u578b\uff0cconvertId=2781\u8868\u793a\u52a0\u5bc6\u8d27\u5e01\u5151\u7f8e\u5143 timeStart \u67e5\u8be2\u8d77\u59cb\u65f6\u95f4\uff0c\u4ee5\u65f6\u95f4\u6233\u8868\u793a timeEnd \u67e5\u8be2\u7ed3\u675f\u65f6\u95f4\uff0c\u4ee5\u65f6\u95f4\u6233\u8868\u793a interval \u6570\u636e\u9891\u7387\uff0cinterval=1d\u8868\u793a\u65e5\u5ea6 <p>\u53ea\u9700\u8981\u6839\u636e\u6570\u636e\u9700\u6c42\u9009\u62e9\u5bf9\u5e94\u7684\u53c2\u6570\u6784\u9020url\u5373\u53ef\u8bf7\u6c42\u5230\u6570\u636e\u3002</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/coinmarketcap%E5%8A%A0%E5%AF%86%E8%B4%A7%E5%B8%81%E8%A1%8C%E6%83%85%E7%88%AC%E5%8F%96/#python","title":"Python\u4ee3\u7801","text":"<p>\u9996\u5148\u9700\u8981\u6309\u7167\u5bf9\u5e94\u53c2\u6570\u62fc\u63a5url\uff0c\u6211\u4eec\u6784\u9020\u5982\u4e0b\u51fd\u6570\uff0c\u4f20\u5165\u8d77\u6b62\u65e5\u671f\u7684\u65f6\u95f4\u6233\uff0c\u52a0\u5bc6\u8d27\u5e01id\uff0c\u8fd4\u56deurl\uff1a</p> <pre><code>def make_url(stamp_start, stamp_end, crypto_id, convert_id=2781):\n    url = f\"https://api.coinmarketcap.com/data-api/v3.1/cryptocurrency/historical?id={crypto_id}&amp;convertId={convert_id}&amp;timeStart={stamp_start}&amp;timeEnd={stamp_end}&amp;interval=1d\"\n    return url\n</code></pre> <p>\u6211\u4eec\u5e0c\u671b\u8f93\u5165\u5f62\u5982\"2020-01-01\"\u8fd9\u6837\u683c\u5f0f\u7684\u8d77\u6b62\u65e5\u671f\uff0c\u800c\u4e0d\u662f\u65f6\u95f4\u6233\uff0c \u6240\u4ee5\u6784\u9020\u51fd\u6570\u6765\u5c06\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u65f6\u95f4\u5904\u7406\u6210\u65f6\u95f4\u6233\uff1a</p> <pre><code>def make_time_range(start, end):\n    start = pd.to_datetime(start)-pd.offsets.Day(1)\n    end = pd.to_datetime(end)\n    date_range = pd.date_range(start, end, freq=\"Y\").to_list()\n    date_range = [start] + date_range + [end]\n    date_range = np.array(sorted(list(set(date_range))))\n    starts = date_range[:-1]\n    starts = [int(i.timestamp()) for i in starts]\n    ends = np.roll(date_range, -1)[:-1]\n    ends = [int(i.timestamp()) for i in ends]\n    return list(zip(starts, ends))\n</code></pre> <p>\u5728\u6293\u5305\u65f6\u53ef\u4ee5\u770b\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a</p> <p>\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u5c06JSON\u6570\u636e\u89e3\u6790\u4e3aDataFrame\uff1a <pre><code>def parse_json(data):\n    code = data[\"data\"][\"id\"]\n    name = data[\"data\"][\"name\"]\n    symbol = data[\"data\"][\"symbol\"]\n    quotes = data[\"data\"][\"quotes\"]\n    if len(quotes) == 0:\n        return None\n    record_ls = []\n    for record in quotes:\n        record_ls.append(record[\"quote\"])\n    df = pd.DataFrame(record_ls)\n    df[\"timestamp\"] = pd.to_datetime(df[\"timestamp\"].str[:10])\n    df[\"name\"] = name\n    df[\"code\"] = code\n    df[\"symbol\"] = symbol\n    return df\n</code></pre></p> <p>\u6700\u540e\u5c06\u4e0a\u8ff0\u6b65\u9aa4\u5c01\u88c5\u5230\u4e00\u4e2a\u51fd\u6570\u5185\uff1a</p> <pre><code>def crawl_and_parse(time_range, code):\n    df_ls = []\n    for start, end in tqdm(time_range):\n        url = make_url(start, end, code)\n        # print(url)\n        r = requests.get(url)\n        data = json.loads(r.text)\n        df_ls.append(parse_json(data))\n        time.sleep(2)\n    return pd.concat(df_ls)\n</code></pre> <p>\u6d4b\u8bd5\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u5c1d\u8bd5\u722c\u53d6Bitcoin\u7684\u5386\u53f2\u884c\u60c5\u5e76\u4fdd\u5b58\uff1a <pre><code>code = 1\nstart = \"2010-01-01\"\nend = \"2024-03-17\"\ntime_range = make_time_range(start, end)\nres = crawl_and_parse(time_range, code)\nres.to_excel(f\"./\u6570\u636e/Code_{code}.xlsx\", index=False)\n</code></pre></p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E5%9F%BA%E4%BA%8Ebert%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E5%88%86%E8%AF%8D%E6%96%B9%E6%B3%95/","title":"\u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u65b9\u6cd5","text":"<p>\u5728\u7ecf\u6d4e\u653f\u7b56\u4e0d\u786e\u5b9a\u6027\u4e0e\u4f01\u4e1a\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c \u6211\u4eec\u4f7f\u7528\u57fa\u4e8eBERT\u5927\u8bed\u8a00\u6a21\u578b\u7684\u65b9\u6cd5\uff0c\u5bf9\u7814\u7a76\u62a5\u544a\u548c\u653f\u7b56\u6587\u4ef6\u8fdb\u884c\u542f\u53d1\u5f0f\u5206\u8bcd\uff0c \u7136\u540e\u7b5b\u9009\u51fa\u4e0e\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u7684\u672f\u8bed\uff0c\u4ece\u800c\u6784\u5efa\u4e86\u4e00\u4e2a\u6570\u636e\u8d44\u4ea7\u672f\u8bed\u8bcd\u5178\u3002 \u73b0\u5728\u5bf9\u57fa\u4e8eBERT\u7684\u542f\u53d1\u5f0f\u5206\u8bcd\u65b9\u6cd5\u8fdb\u884c\u4ecb\u7ecd\u3002</p>","tags":["\u81ea\u7136\u8bed\u8a00\u5904\u7406","\u5de5\u4f5c\u8bba\u6587","Python"]},{"location":"posts/%E5%9F%BA%E4%BA%8Ebert%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E5%88%86%E8%AF%8D%E6%96%B9%E6%B3%95/#_1","title":"\u6a21\u578b\u9009\u62e9","text":"<p>\u6784\u5efa\u8bcd\u5178\u9700\u8981\u5148\u5bf9\u539f\u59cb\u8bed\u6599\u8fdb\u884c\u5206\u8bcd\uff0c\u7136\u540e\u518d\u4ece\u8bcd\u8bed\u4e2d\u5206\u7c7b\u51fa\u76f8\u5173\u672f\u8bed\u3002 \u7531\u4e8e\u6570\u636e\u79d1\u5b66\u53d1\u5c55\u8fc5\u901f\uff0c\u53ef\u4ee5\u9884\u89c1\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u672f\u8bed\u6709\u5f88\u5927\u6bd4\u4f8b\u662f\u65b0\u51fa\u73b0\u7684\u8bcd\u6c47\uff0c \u4f20\u7edf\u7684\u57fa\u4e8e\u9884\u8bbe\u8bcd\u5178\u7684\u5206\u8bcd\u65b9\u6cd5\uff08\u4f8b\u5982jieba\uff09\u96be\u4ee5\u6b63\u786e\u5730\u5c06\u8fd9\u4e9b\u65b0\u8bcd\u5206\u79bb\u51fa\u6765\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u8bc9\u8bf8\u4e8e\u7ecf\u8fc7\u6d77\u91cf\u8bed\u6599\u9884\u8bad\u7ec3\u800c\u5f97\u5230\u7684\u5927\u8bed\u8a00\u6a21\u578b\uff0c \u6211\u4eec\u9009\u62e9\u4e86\u5176\u4e2d\u77e5\u540d\u5ea6\u9ad8\u3001\u5f00\u6e90\u514d\u8d39\u4e14\u6a21\u578b\u53c2\u6570\u91cf\u9002\u4e2d\uff08\u8ba1\u7b97\u8d44\u6e90\u9700\u6c42\u9002\u4e2d\uff09\u7684BERT\u6a21\u578b\u3002</p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662fFacebookAI\u56e2\u961fConneau et al. (2019)(1) \u6240\u53d1\u5e03\u7684\u591a\u8bed\u8a00\u7248\u672cBERT\u6a21\u578b\uff0c\u8fd9\u662f\u8be5\u6a21\u578b\u7684  Hugging Face\u9879\u76ee\u5730\u5740 \u3002</p> <ol> <li>Conneau, A., Khandelwal, K., Goyal, N.,  Chaudhary, V., Wenzek, G., Guzm\u00e1n, F., Grave, E.,  Ott, M., Zettlemoyer, L., Stoyanov, V., 2019.  Unsupervised cross-lingual representation learning at scale.  arXiv preprint arXiv:1911.02116.</li> </ol> <ol> <li>Masked Language Modeling\u6307\u7684\u662f\u5bf9\u4e8e\u6bcf\u6bb5\u8f93\u5165\u6587\u672c\uff0c \u968f\u673a\u906e\u76d6\u5176\u4e2d\u4e00\u5b9a\u6bd4\u4f8b\u7684\u6c49\u5b57\uff0c\u8ba9\u6a21\u578b\u9884\u6d4b\u88ab\u906e\u76d6\u7684\u90e8\u5206\uff0c\u4ece\u800c\u63d0\u53d6\u6587\u672c\u4e2d\u7684\u62bd\u8c61\u7279\u5f81\u3002</li> </ol> <p>\u6839\u636e\u4e0a\u8ff0\u6027\u8d28\uff0c\u5148\u906e\u76d6\u6587\u672c\u4e2d\u7684\u7b2ci\u4e2a\u6c49\u5b57\uff0c \u7ecf\u8fc7BERT\u6a21\u578b\u7684\u63a8\u65ad\u6d41\u7a0b\u5c06\u7b2ci\u4e2a\u6c49\u5b57\u7f16\u7801\u4e3a\u5411\u91cfA\uff08\u5373\u9690\u85cf\u72b6\u6001\uff0c\u5305\u542b\u4e86\u4e0a\u4e0b\u6587\u7684\u62bd\u8c61\u7279\u5f81\uff09\u3002 \u7136\u540e\u540c\u65f6\u906e\u76d6\u6587\u672c\u4e2d\u7684\u7b2ci\u4e2a\u548c\u7b2cj\u4e2a\u6c49\u5b57\uff0c \u7ecfBERT\u6a21\u578b\u518d\u6b21\u5c06\u7b2ci\u4e2a\u6c49\u5b57\u7f16\u7801\u4e3a\u5411\u91cfB\u3002 \u7531\u4e8e\u5411\u91cfB\u76f8\u5bf9\u4e8e\u5411\u91cfA\u7f3a\u5c11\u4e86\u6c49\u5b57j\u5305\u542b\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c \u56e0\u6b64\u5411\u91cfB\u548c\u5411\u91cfA\u4e4b\u95f4\u7684\u8ddd\u79bb\u5c31\u4ee3\u8868\u7740\u6c49\u5b57i\u5bf9\u6c49\u5b57j\u7684\u4f9d\u8d56\u7a0b\u5ea6\u3002</p> <p>\u5728\u5b9e\u9645\u6784\u5efa\u5206\u8bcd\u5668\u7684\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u62ff\u5230\u4e00\u6bb5\u6587\u672c\u540e\u9700\u8981\u904d\u5386\u6587\u672c\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6c49\u5b57\uff0c \u7136\u540e\u6839\u636e\u4e0a\u8ff0\u6b65\u9aa4\u5224\u65ad\u8be5\u6c49\u5b57\u5bf9\u4e0b\u4e00\u4e2a\u6c49\u5b57\u7684\u4f9d\u8d56\u7a0b\u5ea6\uff0c\u6700\u540e\u57fa\u4e8e\u8bbe\u5b9a\u7684\u9608\u503c\u51b3\u5b9a\u662f\u5426\u5206\u8bcd\u3002</p>","tags":["\u81ea\u7136\u8bed\u8a00\u5904\u7406","\u5de5\u4f5c\u8bba\u6587","Python"]},{"location":"posts/%E5%9F%BA%E4%BA%8Ebert%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E5%88%86%E8%AF%8D%E6%96%B9%E6%B3%95/#_2","title":"\u57fa\u672c\u601d\u8def","text":"<p>\u5206\u8bcd\u7684\u903b\u8f91\u662f\u5224\u65ad\u4e24\u4e2a\u6c49\u5b57\u4e4b\u95f4\u7684\u4f9d\u8d56\u7a0b\u5ea6\uff0c \u5982\u679c\u4f9d\u8d56\u7a0b\u5ea6\u4f4e\u4e8e\u8bbe\u5b9a\u7684\u9608\u503c\u5c31\u53ef\u4ee5\u786e\u5b9a\u4e3a\u5206\u8bcd\u70b9\u3002 BERT\u6a21\u578b\u7684\u4e24\u5927\u4f18\u826f\u6027\u8d28\u5c31\u4f7f\u5176\u7279\u522b\u9002\u5408\u7528\u6765\u6784\u5efa\u542f\u53d1\u5f0f\u5206\u8bcd\u5de5\u5177\uff1a</p> <ol> <li>\u5904\u7406\u4e2d\u6587\u7684\u57fa\u672c\u5355\u4f4d\u662f\u5355\u4e2a\u6c49\u5b57</li> <li>\u57fa\u4e8eMasked Language Modeling\u8fdb\u884c\u8bad\u7ec3(1)</li> </ol>","tags":["\u81ea\u7136\u8bed\u8a00\u5904\u7406","\u5de5\u4f5c\u8bba\u6587","Python"]},{"location":"posts/%E5%9F%BA%E4%BA%8Ebert%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E5%88%86%E8%AF%8D%E6%96%B9%E6%B3%95/#python","title":"Python\u4ee3\u7801","text":"<p>\u9996\u5148\u5bfc\u5165\u9700\u8981\u7684\u5e93\u5e76\u52a0\u8f7d\u6a21\u578b\uff0c\u9700\u8981\u5b89\u88c5pytorch\u548chugging face\u7684transformers\u5e93\uff1a</p> <pre><code>import torch\nfrom transformers import AutoTokenizer, AutoModel\nimport collections\nimport jieba\nimport os\nimport re\nimport glob\nimport json\nfrom tqdm.notebook import tqdm\ntqdm.pandas(desc = \"bar\")\n\nos.environ[\"http_proxy\"] = \"http://127.0.0.1:7890\"\nos.environ[\"https_proxy\"] = \"http://127.0.0.1:7890\"\n\ndevice = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n\n# \u5728\u7ebf\u6216\u4ece\u672c\u5730\u7f13\u5b58\u52a0\u8f7d\u6a21\u578b\u548c\u6743\u91cd\ncheckpoint = \"xlm-roberta-base\"\nmodel = AutoModel.from_pretrained(checkpoint)\nmodel.to(device)\nmodel.eval()\ntokenizer = AutoTokenizer.from_pretrained(checkpoint)\n</code></pre> <p>Warning</p> <p>\u56fd\u5185\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95eeHugging Face\u4e3b\u7ad9\u53ca\u5176\u8d44\u6e90</p> <p>\u6839\u636e\u4e4b\u524d\u4ecb\u7ecd\u7684\u601d\u8def\u7f16\u5199\u5206\u8bcd\u5668\uff0c\u5411\u91cf\u8ddd\u79bb\u7684\u5ea6\u91cf\u6211\u9009\u62e9\u4e86\u6700\u7b80\u5355\u7684\u6b27\u6c0f\u8ddd\u79bb\uff1a</p> <pre><code># \u91c7\u7528\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\ndef dist(x, y):\n    return torch.sqrt(((x - y)**2).sum())\n\n# \u8be5\u51fd\u6570\u7528\u4e8e\u4e2d\u6587\u6c49\u5b57\ndef get_pure_CH_text(string):\n    pattern = '[\\u4e00-\\u9fa5]+'\n    pure_text_ls = re.findall(pattern, string)\n    return pure_text_ls\n\n# \u5bfc\u5165\u505c\u7528\u8bcd\u8868\nwith open(\"./\u8865\u5145\u6750\u6599/\u4e2d\u6587\u505c\u7528\u8bcd\u8868/cn_stopwords.txt\", \"r\", encoding = \"utf-8\") as f:\n    stop_words = f.readlines()\n    stop_words = [i.replace(\"\\n\", \"\") for i in stop_words] + [\"\u2581\"]\n# \u6839\u636e\u505c\u7528\u8bcd\u8868\u5254\u9664\u505c\u7528\u8bcd\ndef remove_stop_words(string):\n    tokens = list(jieba.cut(string))\n    return \"\".join([t for t in tokens if t not in stop_words])\n\n# \u6784\u5efa\u5206\u8bcd\u5668\ndef LLMtokenizer(string, threshold):\n    # \u5c06\u6587\u672ctokenization\u8f6c\u6362\u4e3a\u9002\u5408\u6a21\u578b\u7684\u8f93\u5165\n    input_ids, attention_mask = tokenizer(string).values()\n\n    '''\n    \u628ainput_ids\u91cd\u590d2*\u5e8f\u5217\u957f\u5ea6 - 1\u6b21\uff0c\u6784\u5efa\u4e00\u4e2atensor\n    \u5176\u4e2d\u5076\u6570\u884c\u7528\u4e8e\u6bcf\u6b21mask\u7b2ci\u4e2atoken\uff0c\u5947\u6570\u884c\u7528\u4e8e\u6bcf\u6b21mask\u7b2ci\u548c\u7b2ci+1\u4e2a\u5171\u4e24\u4e2atoken\n    \u6240\u4ee5\u5076\u6570\u884c\u6709length\u6b21\u91cd\u590d\uff0c\u800c\u5947\u6570\u884c\u53ea\u6709length - 1\u6b21\u91cd\u590d\n    '''\n    length = len(input_ids) - 2 # \u53bb\u6389\u9996\u5c3e\u7684\u7279\u6b8a\u6807\u8bb0\u540e\u5269\u4f59\u957f\u5ea6\n    batch_token_ids = torch.tensor([input_ids] * (2 * length - 1), dtype = torch.long)\n    batch_attention_mask = torch.ones_like(batch_token_ids)\n\n    '''\n    \u9010\u4e2a\u5bf9\u91cd\u590d\u7684input_ids\u8fdb\u884cmask\n    \u5148mask\u7b2c2\u4e2atoken\uff08\u7b2c\u4e00\u4e2atoken\u4e3a\u7279\u6b8a\u6807\u8bb0\uff09\uff0c\u653e\u57280\u884c\n    \u7136\u540emask\u7b2c3\u4e2atoken\uff0c\u653e\u57282\u884c\uff1bmask\u7b2c3\u4e2a\u548c\u7b2c2\u4e2atoken\n\n    \u5076\u6570\u884cmask\u7b2ci\u4e2atoken\uff0c\u7d27\u63a5\u7740\u7684\u5947\u6570\u884cmask\u7b2ci\u548c\u7b2ci-1\u4e2atoken\n    \u7531\u4e8e\u5faa\u73aflength\u6b21\uff0clength\u4e3a\u5168\u957f-2\uff0c\u4e0d\u4f1a\u904d\u5386\u5230\u6700\u540e\u4e00\u4e2a\u7279\u6b8a\u6807\u8bb0\n    '''\n    for i in range(length):\n        # \u4ece\u7b2c2\u4e2a\u5b57\u5f00\u59cbmask\uff0c\u653e\u5728\u5076\u6570\u884c\uff08\u4ece0\u884c\u5f00\u59cb\uff09\n        batch_token_ids[2*i, i+1] = tokenizer.mask_token_id\n        if i &gt; 0:\n            # mask\u7b2ci+1\u4e2a\u5b57\u53ca\u5176\u524d\u4e00\u4e2a\u5b57\n            batch_token_ids[2*i-1, i] = tokenizer.mask_token_id\n            batch_token_ids[2*i-1, i+1] = tokenizer.mask_token_id\n\n    '''\n    \u5c06mask\u597d\u7684batch\u4f20\u5165\u6a21\u578b\n    '''\n    batch_token_ids = batch_token_ids.to(device)\n    batch_attention_mask = batch_attention_mask.to(device)\n    with torch.no_grad():                 \n        out = model(input_ids = batch_token_ids, attention_mask = batch_attention_mask)\n        hidden_states = out[\"last_hidden_state\"].detach()\n\n    '''\n    \u5148\u5c06\u7b2c\u4e00\u4e2a\u5b57\u653e\u5165\u5217\u8868\u4e2d\uff0c\u904d\u5386length - 1\u6b21\n    '''\n    word_token_ls = [[input_ids[1]]]\n    for i in range(1,length):\n        # \u8ba1\u7b97mask\u7b2ci\u4e2a\u5b57\u4e0e\u540c\u65f6mask\u7b2ci\u4e2a\u548c\u7b2ci+1\u4e2a\u7684\u8ddd\u79bb\n        d1 = dist(hidden_states[2*i-2, i], hidden_states[2*i-1, i])\n        # \u8ba1\u7b97mask\u7b2ci+1\u4e2a\u5b57\u4e0e\u540c\u65f6mask\u7b2ci\u4e2a\u548c\u7b2ci+1\u4e2a\u7684\u8ddd\u79bb\n        d2 = dist(hidden_states[2*i, i+1], hidden_states[2*i-1, i+1])\n\n        d = (d1+d2)/2\n\n        if d &gt;= threshold:\n            word_token_ls[-1].append(input_ids[i+1])\n        else:\n            word_token_ls.append([input_ids[i+1]])\n\n    llm_res = [\"\".join(tokenizer.convert_ids_to_tokens(i)) for i in word_token_ls]\n\n    return llm_res\n</code></pre> <p>\u6700\u540e\u4f7f\u7528\u5206\u8bcd\u5668\u5bf9\u8bed\u6599\u5e93\u8fdb\u884c\u6279\u91cf\u5904\u7406\uff0c \u8fd9\u91cc\u7565\u53bb\u4e86\u4ecePDF\u4e2d\u63d0\u53d6\u6587\u672c\u7684\u8fc7\u7a0b\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u7814\u7a76\u6216\u8054\u7cfb\u6211\u83b7\u53d6\u4ee3\u7801\uff1a</p> <pre><code>'''\n\u4e0b\u9762\u7528\u4e8e\u5bf9\u6574\u4e2a\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709txt\u6587\u4ef6\u91cc\u7684\u957f\u53e5\u5b50\u8fdb\u884c\u5206\u8bcd\n\u6bcf\u4e2a\u6587\u4ef6\u5168\u90e8\u5206\u8bcd\u5b8c\u6bd5\u540e\u4fdd\u5b58\u4e3a\u4e00\u4e2ajson\n'''\n# \u4fdd\u5b58\u8def\u5f84\njson_save_path = \"./\u957f\u53e5\u5b50\u5206\u8bcd\u7ed3\u679c/\u653f\u7b56\u62a5\u544a\u548c\u653f\u7b56\u6587\u4ef6/\"\n# \u8981\u5c1d\u8bd5\u7684\u5206\u8bcd\u9608\u503c\nthreshold_ls = [1.5, 2, 2.5]\n# \u8fdb\u5165\u8bcd\u5178\u7684\u6700\u5c0f\u8bcd\u957f\u5ea6\nmin_word_length = 2\n\npattern = \"./PDF\u63d0\u53d6\u6587\u672c/\u7814\u7a76\u62a5\u544a\u548c\u653f\u7b56\u6587\u4ef6/long/*.txt\"\ntxt_file_ls = glob.glob(pattern)\nfor txt in txt_file_ls:\n    # \u8981\u4fdd\u5b58\u7684json\u6587\u4ef6\u540d\u79f0\n    json_file_name = txt.split(\"\\\\\")[-1].replace(\".txt\", \".json\")\n    print(json_file_name)\n    # \u68c0\u67e5\u76ee\u6807\u76ee\u5f55\u662f\u5426\u5df2\u7ecf\u5b58\u5728\u8be5\u6587\u4ef6\uff0c\u5982\u679c\u662f\u5219\u8df3\u8fc7\n    if os.path.exists(json_save_path + json_file_name):\n        print(\"Pass!\")\n        continue\n    # \u6bcf\u4e2a\u6587\u4ef6\u5904\u7406\u5b8c\u6210\u540e\u90fd\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u952e\u4e3a\u9608\u503c\uff0c\u503c\u4e3a\u8bcd\u9891counter\n    file_res = {threshold:collections.Counter() for threshold in threshold_ls}\n    with open(txt, \"r\", encoding = \"utf-8\") as txt_io:\n        sentences = txt_io.readlines()\n        sentences = [i.replace(\"\\n\", \"\") for i in sentences] # \u53bb\u6389\u6bcf\u4e2a\u53e5\u5b50\u4e4b\u540e\u7684\u6362\u884c\u7b26\n\n    for string in tqdm(sentences): # \u9010\u4e2a\u53e5\u5b50\u5904\u7406\n        for threshold in threshold_ls: # \u9010\u4e2a\u5206\u8bcd\u9608\u503c\u8fdb\u884c\u5206\u8bcd\n            tokens = LLMtokenizer(string, threshold)\n            # \u5bf9tokens\u8fdb\u884c\u8fc7\u6ee4\uff0c\u63d0\u53d6\u7eaf\u4e2d\u6587\u6587\u672c\uff0c\u4e14\u957f\u5ea6\u5927\u4e8e\u6700\u5c0f\u8bcd\u957f\u5ea6\n            ch_tokens = [ch_token for t in tokens for ch_token in get_pure_CH_text(t) if len(ch_token) &gt;= min_word_length]\n            # \u53bb\u9664\u6bcf\u4e2a\u5206\u8bcd\u4e2d\u7684\u505c\u7528\u8bcd\n            ch_tokens = [remove_stop_words(i) for i in ch_tokens]\n            # \u6dfb\u52a0\u7ed3\u679c\n            file_res[threshold].update(ch_tokens)\n\n    # \u4fdd\u5b58\u5355\u4e2a\u6587\u4ef6\u7684\u5206\u8bcd\u7ed3\u679c\n    json_res = {k:dict(v) for k,v in file_res.items()}\n    with open(json_save_path + json_file_name, \"w\") as js_f:\n        json.dump(json_res, js_f)\n</code></pre>","tags":["\u81ea\u7136\u8bed\u8a00\u5904\u7406","\u5de5\u4f5c\u8bba\u6587","Python"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/","title":"\u6211\u5f00\u53d1\u7684Python\u5305\u2014\u2014Portfolio Sorting\u6392\u5e8f\u6cd5","text":"<p>\u6211\u5f00\u53d1\u4e86\u4e00\u4e2aPython\u5305\uff0c\u53eb\u505apy_empirical_fin\uff0c  \u8fd9\u662fPyPi\u9879\u76ee\u5730\u5740  \u3002\u6211\u5e0c\u671b\u80fd\u591f\u901a\u8fc7\u8fd9\u4e2a\u5305\uff0c\u4ee5\u7b80\u5355\u51e0\u884c\u4ee3\u7801\u5c31\u80fd\u5b9e\u73b0\u5e38\u7528\u7684\u5b9e\u8bc1\u5206\u6790\u6280\u672f\u3002\u636e\u6211\u6240\u77e5\uff0cPython\u4e2d\u8fd8\u6ca1\u6709\u8f83\u4e3a\u5b8c\u5584\u7684\u7528\u4e8e\u5b9e\u8bc1\u8d44\u4ea7\u5b9a\u4ef7\u7814\u7a76\u7684\u5305\u3002</p> <p>\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u5c06\u4ecb\u7ecd\u8fd9\u4e2a\u5305\u7684\u7b2c\u4e00\u4e2a\u6a21\u5757sorting\uff0c\u8be5\u6a21\u5757\u7528\u4e8e\u5b9e\u73b0Portfolio Sorting\u4e5f\u5c31\u662f\u6392\u5e8f\u6cd5\u3002 \u4e3b\u8981\u529f\u80fd\u5305\u62ec\u72ec\u7acb\u548c\u5e8f\u8d2f\u6392\u5e8f\uff0c\u652f\u6301\u8ba1\u7b97\u4efb\u610f\u56e0\u5b50\u6a21\u578b\u7684alpha\uff0c\u80fd\u591f\u4ee5\u7f8e\u89c2\u7684HTML\u8868\u683c\u8f93\u51fa\u7ed3\u679c\uff0c\u5e76\u4e14\u63d0\u4f9b\u5c06\u7ed3\u679c\u5bfc\u51fa\u5230word\u7684\u529f\u80fd\u3002</p> <p>\u8f93\u51fa\u6548\u679c\uff1a</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_1","title":"\u4f7f\u7528\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4f7f\u7528sorting\u6a21\u5757\uff0c\u6839\u636e\u516c\u53f8\u7279\u5f81FC1\u548c\u516c\u53f8\u7279\u5f81FC2\u7684\u53cc\u53d8\u91cf\u5e8f\u8d2f\u6392\u5e8f\u4ee3\u7801\uff0c\u6574\u4e2a\u6d41\u7a0b\u53ea\u9700\u89813\u884c\u4ee3\u7801\uff1a</p> <pre><code>from empiricalfin import sorting\n\nds = sorting.DoubleSorting(data=data, sortbys=[\"FC1\", \"FC2\"],\n                           nqs=[5, 5], date=\"month\", ret=\"ret\", \n                           mkt_cap=\"SIZE\")\nresult = ds.sequential(vw=False)\nresult.summary(rf_df=rf_df, rf=\"rf\",\n               alpha_models=[ff3], output_path=\"./output.docx\")\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u4f7f\u7528\u65b9\u6cd5</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_2","title":"\u5b89\u88c5","text":"<p>\u7531\u4e8e\u6211\u5df2\u7ecf\u5c06\u9879\u76ee\u4e0a\u4f20\u5230\u4e86PyPi\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528pip\u547d\u4ee4\u5b89\u88c5py_empirical_fin:</p> <pre><code>pip install py_empirical_fin\n</code></pre> <p>\u5728python\u4e2d\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5bfc\u5165sorting\u6a21\u5757\uff1a</p> <pre><code>from empiricalfin import sorting\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f\uff0c\u5bfc\u5165\u65f6\u8bf7\u4f7f\u7528\u540d\u79f0empiricalfin\uff0c\u4e0e\u9879\u76ee\u540d\u79f0py_empirical_fin\u4e0d\u540c</p> <p>Warning</p> <p>\u76ee\u524d\uff0cpy_empirical_fin\u53ea\u652f\u6301\u5728jupyter notebook, jupyter lab\u6216jupyter hub\u73af\u5883\u4e2d\u4f7f\u7528\uff0c \u56e0\u4e3a\u7ed3\u679c\u8f93\u51fa\u4f7f\u7528\u5230\u4e86jupyter\u7684HTML\u6e32\u67d3\u529f\u80fd</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#sorting","title":"sorting\u6a21\u5757","text":"<p>sorting\u6a21\u5757\u4e13\u95e8\u7528\u4e8e\u8fdb\u884c\u6392\u5e8f\u5206\u6790\uff0c\u76ee\u524d\u7248\u672c\u652f\u6301\u6700\u5e38\u7528\u7684\u53cc\u53d8\u91cf\u6392\u5e8f\u6cd5</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_3","title":"\u6392\u5e8f\u6cd5\u4ecb\u7ecd","text":"<p>\u59dc\u8fd1\u52c7\u548c\u6f58\u51a0\u4e2d\u5728\u300a\u91d1\u878d\u8ba1\u91cf\u5b66\u300bp43 3.2\u6392\u5e8f\u5206\u6790\u4e2d\u5bf9\u6392\u5e8f\u6cd5\u8fdb\u884c\u4e86\u5982\u4e0b\u9610\u8ff0\uff1a</p> <ol> <li>\u8d44\u4ea7\u7ec4\u5408\u6784\u9020\u671f\uff1a\u5229\u7528t-1\u671f\u7684\u516c\u53f8\u7279\u5f81\u5c06\u6240\u6709\u80a1\u7968\u4ece\u4f4e\u5230\u9ad8\u6392\u5e8f\u3002 \u6309\u7167\u6392\u5e8f\u5c06\u6240\u6709\u80a1\u7968\u5206\u914d\u5230\u4e0d\u540c\u7684\u5e8f\u4f4d\u4e2d\u53bb\uff0c\u6700\u9ad8\u5e8f\u4f4d\u7684\u80a1\u7968\u5177\u6709\u6700\u9ad8\u7684\u516c\u53f8\u7279\u5f81\u503c\uff0c \u4e2d\u95f4\u4f4d\u80a1\u7968\u7684\u516c\u53f8\u7279\u5f81\u503c\u6b21\u4e4b\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</li> <li>\u6295\u8d44\u7ec4\u5408\u6301\u6709\u671f\uff1a\u8ba1\u7b97\u5404\u5e8f\u4f4d\u80a1\u7968\u7ec4\u6210\u7684\u6295\u8d44\u7ec4\u5408\u5728t\u671f\u7684\u6536\u76ca\u7387</li> <li>\u7edf\u8ba1\u68c0\u9a8c\uff1a \u68c0\u9a8c\u6700\u9ad8\u5e8f\u4f4d\u548c\u6700\u4f4e\u5e8f\u4f4d\u4e4b\u95f4\u7684\u5e73\u5747\u6536\u76ca\u7387\u4e4b\u5dee\u3002</li> </ol> <p>\u5982\u679c\u516c\u53f8\u7279\u5f81\u80fd\u591f\u89e3\u91ca\u671f\u671b\u6536\u76ca\u7387\u7684\u53d8\u5316\uff0c\u90a3\u4e48\u5e73\u5747\u6536\u76ca\u7387\u5e94\u8be5\u968f\u7740\u516c\u53f8\u7279\u5f81\u7684\u503c\u4e0a\u5347\u800c\u589e\u5927\uff0c \u4e5f\u5c31\u662f\u968f\u6295\u8d44\u7ec4\u5408\u5e8f\u4f4d\u7684\u589e\u5927\u800c\u589e\u5927\u3002</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_4","title":"\u6837\u4f8b\u6570\u636e","text":"<p>\u73b0\u5728\u6211\u4eec\u4ee5\u4e0b\u5217\u6837\u4f8b\u6570\u636e\u5c55\u793asorting\u6a21\u5757\u7684\u529f\u80fd\uff1a</p> code month ret FC1 FC2 SIZE 0 000001 2000-01-31 0.061891 0.004058 0.030987 1.87E+10 1 000001 2000-03-31 0.00273 0.017191 0.099298 1.96E+10 2 000001 2000-04-30 0.037016 0.014715 0.072115 1.97E+10 ... ... ... ... ... ... ... 560038 605599 2023-11-30 -0.02672 0.0051 0.067961 8.13E+09 560039 605599 2023-12-31 0.104601 0.002854 0.033507 7.91E+09 <p>\u8fd9\u662f\u4e00\u4efdA\u80a12000-01\u52302023-12\u7684\u6708\u5ea6\u6570\u636e\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u7684\u542b\u4e49\u5982\u4e0b\uff1a</p> \u5b57\u6bb5 \u542b\u4e49 code \u80a1\u7968\u4ee3\u7801 month \u6708\u4efd ret \u7b80\u5355\u6536\u76ca\u7387\uff0c\u4ee5\u5c0f\u6570\u8868\u793a\uff0c\u4e0d\u80fd\u662f\u767e\u5206\u6bd4 FC1 \u516c\u53f8\u7279\u5f811 FC2 \u516c\u53f8\u7279\u5f812 SIZE \u516c\u53f8\u5e02\u503c","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#doublesorting","title":"\u521b\u5efaDoubleSorting\u5b9e\u4f8b","text":"<p>\u73b0\u5728\u6211\u4eec\u5e0c\u671b\u6839\u636eFC1\u548cFC2\u8fdb\u884c\u53cc\u53d8\u91cf\u6392\u5e8f\uff0c\u9996\u5148\u9700\u8981\u521b\u5efasorting\u6a21\u5757\u4e0b\u7684DoubleSorting\u5bf9\u8c61\u5b9e\u4f8b\uff0c DoubleSorting\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u5171\u67096\u4e2a\u53c2\u6570\uff1a</p> \u53c2\u6570 \u542b\u4e49 data \u6392\u5e8f\u6cd5\u6240\u9700\u6570\u636e\uff0c\u9700\u8981\u4e3aDataFrame\u5bf9\u8c61 sortbys \u6392\u5e8f\u4f9d\u636e\uff0c\u5305\u542b\u516c\u53f8\u7279\u5f811\u548c\u516c\u53f8\u7279\u5f812\u6240\u5728\u5217\u540d\u79f0\u7684\u5217\u8868 nqs \u5206\u7ec4\u6570\u91cf\uff0c\u7528\u5217\u8868\u4f20\u5165\u4e24\u4e2a\u516c\u53f8\u7279\u5f81\u5206\u522b\u5bf9\u5e94\u7684\u5206\u7ec4\u6570\u91cf date \u6570\u636e\u4e2d\u65e5\u671f\u5217\u7684\u540d\u79f0 ret \u6570\u636e\u4e2d\u6536\u76ca\u7387\u5217\u7684\u540d\u79f0 mkt_cap \u6570\u636e\u4e2d\u5e02\u503c\u6240\u5728\u5217\u7684\u540d\u79f0 <p>\u5047\u8bbe\u6211\u4eec\u7684\u6570\u636e\u53d8\u91cf\u540d\u662fdata\uff0c\u6211\u4eec\u8981\u6839\u636eFC1\u548cFC2\u8fdb\u884c\u53cc\u53d8\u91cf\u76845\u7ec4\\(\\times\\)5\u7ec4\u7684\u6392\u5e8f\uff0c \u53ef\u4ee5\u6839\u636e\u4e0b\u5217\u4ee3\u7801\u521b\u5efaDoubleSorting\u5b9e\u4f8b\u5bf9\u8c61\uff1a</p> <pre><code># \u521b\u5efaDoubleSoring\u5bf9\u8c61\u5b9e\u4f8b\nds = sorting.DoubleSorting(data=data, sortbys=[\"FC1\", \"FC2\"],\n                           nqs=[5, 5], date=\"month\", ret=\"ret\", \n                           mkt_cap=\"SIZE\")\n</code></pre>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_5","title":"\u8ba1\u7b97\u6392\u5e8f\u7ed3\u679c","text":"<p>\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u5e8f\u8d2f\u6392\u5e8f\u548c\u72ec\u7acb\u6392\u5e8f\u4e24\u79cd\u6392\u5e8f\u65b9\u6cd5\uff0c \u6240\u8c13\u5e8f\u8d2f\u6392\u5e8f\u5c31\u662f\u6839\u636eFC1\u6392\u5e8f\u540e\uff0c\u5728\u6bcf\u4e2a\u7ec4\u5185\u518d\u6b21\u6839\u636eFC2\u6392\u5e8f\uff0c\u8fd9\u6837\u6700\u7ec8\u5f97\u5230\u768425\u4e2a\u7ec4\u5408\u7684\u80a1\u7968\u6570\u91cf\u76f8\u7b49\u3002</p> <p>\u800c\u72ec\u7acb\u6392\u5e8f\u5c31\u662f\u5148\u5bf9\u5168\u4f53\u6837\u672c\u6839\u636eFC1\u6392\u5e8f\uff0c\u7136\u540e\u518d\u5bf9\u5168\u4f53\u6837\u672c\u6839\u636eFC2\u6392\u5e8f\uff0c \u540c\u65f6\u5c5e\u4e8eFC1\u6392\u5e8f\u6700\u5c0f\u7ec4\u548cFC2\u6392\u5e8f\u6700\u5c0f\u7ec4\u7684\u80a1\u7968\u5c5e\u4e8e\u7ec4\u5408(1,1)\uff0c\u4ee5\u6b64\u7c7b\u63a8\u5f97\u5230\u7ec4\u5408(1,2),(1,3),...,(5,5)\u3002 \u72ec\u7acb\u6392\u5e8f\u5f97\u5230\u768425\u4e2a\u7ec4\u5408\uff0c\u6bcf\u4e2a\u7ec4\u5408\u5185\u7684\u80a1\u7968\u6570\u91cf\u4e0d\u4e00\u5b9a\u76f8\u7b49\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u6267\u884c\u5e8f\u8d2f\u6392\u5e8f\uff0c\u5219\u8c03\u7528DoubleSorting\u5b9e\u4f8b\u7684sequential\u65b9\u6cd5\uff0c\u72ec\u7acb\u6392\u5e8f\u5219\u5bf9\u5e94independent\u65b9\u6cd5\uff1a</p> <pre><code># \u5e8f\u8d2f\u6392\u5e8f\nresult = ds.sequential(vw=False)\n\n# \u72ec\u7acb\u6392\u5e8f\nresult = ds.independent(vw=False)\n</code></pre> <p>\u5176\u4e2d\u53c2\u6570<code>vw=False</code>\u8868\u793a\u7b49\u6743\u91cd\u7ec4\u5408\uff0c\u800c<code>vw=True</code>\u8868\u793a\u5e02\u503c\u52a0\u6743\u7ec4\u5408\u3002</p> <p>\u8c03\u7528sequential\u6216independent\u65b9\u6cd5\u540e\uff0c\u7a0b\u5e8f\u4f1a\u7acb\u5373\u5f00\u59cb\u8fdb\u884c\u8ba1\u7b97\uff0c\u9700\u8981\u7b49\u5f85\u7247\u523b\uff0c \u5f85\u8ba1\u7b97\u5b8c\u6210\u540e\u4f1a\u8fd4\u56deresult\u5bf9\u8c61\uff0c\u91cc\u9762\u4fdd\u5b58\u4e86\u8ba1\u7b97\u7ed3\u679c\u3002</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_6","title":"\u7ed3\u679c\u8f93\u51fa","text":"<p>\u5bf9result\u5bf9\u8c61\u8c03\u7528summary\u65b9\u6cd5\u5373\u53ef\u8f93\u51fa\u7ed3\u679c\uff1a</p> <pre><code>result.summary(rf_df=rf_df, rf=\"rf\",\n               alpha_models=[ff3], output_path=\"./output.docx\")\n</code></pre> <p>summary\u65b9\u6cd5\u67094\u4e2a\u91cd\u8981\u53c2\u6570\uff1a</p> \u53c2\u6570 \u542b\u4e49 rf_df \u65e0\u98ce\u9669\u6536\u76ca\u7387\u6570\u636e\uff0c\u9700\u8981\u4e3aDataFrame\u5bf9\u8c61 rf \u6570\u636e\u4e2d\u65e0\u98ce\u9669\u6536\u76ca\u7387\u7684\u5217\u540d alpha_models \u8ba1\u7b97alpha\u6240\u4f7f\u7528\u7684\u56e0\u5b50\u6a21\u578b\u6570\u636e\uff0c\u4ee5\u5217\u8868\u4f20\u5165\uff0c\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u4e00\u4e2a\u6a21\u578b output_path \u7ed3\u679c\u5bfc\u51fa\u5230word\u6587\u6863\u7684\u8def\u5f84 <p>\u5176\u4e2d\u65e0\u98ce\u9669\u6536\u76ca\u7387\u6570\u636erf_df\u9700\u8981\u5305\u542b\u4e24\u5217\uff0c\u65e5\u671f\u5217\u548c\u65e0\u98ce\u9669\u6536\u76ca\u7387\u5217\uff0c \u65e5\u671f\u5217\u7684\u540d\u79f0\u548c\u683c\u5f0f\u9700\u8981\u4e0e\u521b\u5efaDoubleSorting\u65f6\u7684\u65e5\u671f\u5217\u540d\u79f0\u4e00\u81f4\uff08\u6bd4\u5982\u8fd9\u91cc\u90fd\u53ebmonth\uff09\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5339\u914d\u5bf9\u5e94\u65e5\u671f\u7684\u65e0\u98ce\u9669\u6536\u76ca\u7387\uff1a</p> month rf 0 1991/12/31 0.006092 1 1992/1/31 0.006092 ... ... ... 382 2023/10/31 0.001241 383 2023/11/30 0.001241 384 2023/12/31 0.001241 <p>alpha_models\u4e2d\u6240\u4f20\u5165\u7684\u56e0\u5b50\u6a21\u578b\u6570\u636e\u4e5f\u9700\u8981\u662fDataFrame\u5bf9\u8c61\uff0c\u4e14\u65e5\u671f\u5217\u7684\u540d\u79f0\u4e5f\u9700\u8981\u548c\u521b\u5efaDoubleSorting\u65f6\u7684\u65e5\u671f\u5217\u540d\u79f0\u4e00\u81f4\u3002 \u4f8b\u5982\uff0c\u8fd9\u91cc\u6211\u60f3\u8ba1\u7b97Fama-French\u4e09\u56e0\u5b50\u6a21\u578b\u7684alpha\uff0c\u90a3\u4e48\u6211\u5c31\u4f20\u5165\u5982\u4e0b\u6570\u636eff3\uff1a</p> month mkt_premium SMB HML 0 1999/4/30 -0.035693 -0.01497 0.032332 1 1999/5/31 0.109583 -0.04102 -0.01723 ... ... ... ... ... 5285 2023/10/31 -0.029689 0.032917 -0.00698 5308 2023/11/30 -0.001868 0.05796 -0.00766 5331 2023/12/31 -0.015345 0.000658 0.001553 <p>Tip</p> <p>\u5982\u679c\u4e0d\u9700\u8981\u8ba1\u7b97\u56e0\u5b50\u6a21\u578b\u7684alpha,\u53ef\u4ee5\u5411alpha_models\u53c2\u6570\u4f20\u5165\u7a7a\u5217\u8868\u3002</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#html","title":"HTML\u8f93\u51fa\u7ed3\u679c","text":"<p>\u8c03\u7528summary\u65b9\u6cd5\u540e\u5f97\u5230\u7684HTML\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p>\u5176\u4e2d\uff0c\u5de6\u4e0a\u89d2\u7684\u8868\u683c\u62a5\u544a\u4e8625\u4e2a\u7ec4\u5408\u7684\u5e73\u5747\u6536\u76ca\u7387\uff0c\u53f3\u4e0a\u89d2\u7684\u8868\u683c\u62a5\u544a\u4e86\u6bcf\u4e2aFC1\u7ec4\u5408\u4e0b\uff0c FC2\u6700\u9ad8\u7ec4\u4e0e\u6700\u4f4e\u7ec4\u7684\u6536\u76ca\u7387\u4e4b\u5dee\uff0c\u5373FC2 strategy\u3002 \u4e0b\u65b9\u7684\u8868\u683c\u62a5\u544a\u4e86\u6bcf\u4e2aFC2\u7ec4\u5408\u4e0b\uff0cFC1\u6700\u9ad8\u7ec4\u4e0e\u6700\u4f4e\u7ec4\u7684\u6536\u76ca\u7387\u4e4b\u5dee\uff0c\u5373FC1 strategy\u3002</p> <p>Warning</p> <p>t\u68c0\u9a8c\u4f7f\u7528\u7684\u5747\u4e3aNewey-West\u7a33\u5065t\u7edf\u8ba1\u91cf\uff0c\u76ee\u524d\u7248\u672c\u9ed8\u8ba4\u6700\u5927\u6ede\u540e\u9636\u6570\u4e3a5\uff0c \u672a\u6765\u7684\u7248\u672c\u4f1a\u6dfb\u52a0\u6700\u5927\u6ede\u540e\u9636\u6570\u53ef\u9009\u9879</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#word","title":"Word\u8f93\u51fa\u7ed3\u679c","text":"<p>\u4e0b\u9762\u662fWord\u8f93\u51fa\u7ed3\u679c</p> <p>Tip</p> <p>\u5982\u679coutput_path\u53c2\u6570\u4f20\u5165None\uff0c\u5219\u4e0d\u8fdb\u884cWord\u8f93\u51fa</p>","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E6%88%91%E5%BC%80%E5%8F%91%E7%9A%84python%E5%8C%85portfolio-sorting%E6%8E%92%E5%BA%8F%E6%B3%95/#_7","title":"\u5176\u4ed6\u53c2\u6570","text":"<p>summary\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u53ef\u9009\u53c2\u6570\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6dfb\u52a0\uff1a</p> \u53c2\u6570 \u542b\u4e49 strategies \u4f20\u5165'HML'\u8868\u793a\u8ba1\u7b97strategy\u65f6\u4f7f\u7528\u7279\u5f81\u6700\u9ad8\u7ec4\u51cf\u53bb\u7279\u5f81\u6700\u4f4e\u7ec4\uff0c\u5982\u679c\u4f20\u5165'LMH'\u5219\u76f8\u53cd show_t \u662f\u5426\u5728\u5de6\u4e0a\u89d2\u7684\u5404\u4e2a\u7ec4\u5408\u5e73\u5747\u6536\u76ca\u7387\u660e\u7ec6\u8868\u683c\u5904\u663e\u793at\u503c show_stars \u662f\u5426\u5728\u5de6\u4e0a\u89d2\u7684\u5404\u4e2a\u7ec4\u5408\u5e73\u5747\u6536\u76ca\u7387\u660e\u7ec6\u8868\u683c\u5904\u663e\u793a\u663e\u8457\u6027\u661f\u661f mean_decimal \u5e73\u5747\u6536\u76ca\u7387\u7684\u5c0f\u6570\u4f4d\u6570\uff0c\u9ed8\u8ba4\u4e3a3 t_decimal t\u503c\u5f97\u5c0f\u6570\u4f4d\u6570\uff0c\u9ed8\u8ba4\u4e3a3 layout \u7ed3\u679c\u8868\u683c\u7684\u5e03\u5c40\uff0c\u4f20\u5165'reverse'\u53ef\u4ee5\u5f97\u5230\u8f6c\u7f6e\u540e\u7684\u8868\u683c\u5e03\u5c40","tags":["Python","\u5b9e\u8bc1","\u7a0b\u5e8f\u5305"]},{"location":"posts/%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E5%AE%9A%E6%9C%9F%E6%8A%A5%E5%91%8A%E7%88%AC%E5%8F%96/","title":"\u4e0a\u5e02\u516c\u53f8\u5b9a\u671f\u62a5\u544a\u722c\u53d6","text":"<p>\u5728\u7ecf\u6d4e\u653f\u7b56\u4e0d\u786e\u5b9a\u6027\u4e0e\u4f01\u4e1a\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c \u6211\u4eec\u5229\u7528\u6784\u5efa\u7684\u6570\u636e\u8d44\u4ea7\u672f\u8bed\u8bcd\u5178\uff0c \u7edf\u8ba1\u4e86\u4e0a\u5e02\u516c\u53f8\u5e74\u62a5\u4e2d\u6570\u636e\u8d44\u4ea7\u76f8\u5173\u672f\u8bed\u7684\u8bcd\u9891\uff0c \u636e\u6b64\u6784\u9020\u4e86\u4e00\u4e2a\u5ea6\u91cf\u6570\u636e\u8d44\u4ea7\u914d\u7f6e\u6c34\u5e73\u7684\u6307\u6807\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u5c06\u5c55\u793a\u4ece\u5de8\u6f6e\u8d44\u8baf\u7f51\u722c\u53d6\u4e0a\u5e02\u516c\u53f8\u5b9a\u671f\u62a5\u544a\u7684\u4ee3\u7801\uff0c\u6211\u4e3a\u8fd9\u5957\u4ee3\u7801\u989d\u5916\u6dfb\u52a0\u4e86\u7528\u6237\u4ea4\u4e92\uff0c \u8bfb\u8005\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6211\u7684\u4ee3\u7801\u8fdb\u884c\u722c\u53d6\uff0c\u4e5f\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u4fee\u6539\u3002</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E5%AE%9A%E6%9C%9F%E6%8A%A5%E5%91%8A%E7%88%AC%E5%8F%96/#python","title":"Python\u4ee3\u7801","text":"<p>\u5de8\u6f6e\u8d44\u8baf\u7684\u6570\u636e\u63a5\u53e3\u5e76\u4e0d\u590d\u6742\uff0c\u56e0\u6b64\u5728\u8fd9\u91cc\u6211\u4e0d\u6253\u7b97\u4ecb\u7ecd\u6293\u5305\u5206\u6790\u7684\u8fc7\u7a0b\uff0c \u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u76f4\u63a5\u4ece\u6211\u7684\u4ee3\u7801\u4e2d\u4e86\u89e3\u4e0e\u6570\u636e\u63a5\u53e3\u76f8\u5173\u7684\u4fe1\u606f\u6216\u4e0e\u6211\u53d6\u5f97\u8054\u7cfb\u3002 \u5728\u8fd9\u91cc\u6211\u4e3b\u8981\u4ecb\u7ecd\u4ee3\u7801\u7684\u529f\u80fd\u548c\u4f7f\u7528\u65b9\u6cd5\u3002</p> <p>\u9996\u5148\uff0c\u6211\u5728\u4e0b\u65b9\u8d34\u51fa\u6211\u7684\u4ee3\u7801\uff0c\u7136\u540e\u518d\u5bf9\u5176\u8fdb\u884c\u4ecb\u7ecd\uff1a</p> <p>Tip</p> <p>\u5728\u8fd0\u884c\u4ee3\u7801\u524d\u4f60\u9700\u8981\u5b89\u88c5requests\u548ctqdm\u8fd9\u4e24\u4e2a\u7b2c\u4e09\u65b9\u5e93</p> <pre><code>from requests import post, get\nfrom json import loads\nimport os\nfrom tqdm import tqdm\nfrom re import match\n\nclass fin_report_crawler(object):\n    def __init__(self):\n        self.request_orgId_url = \"http://www.cninfo.com.cn/new/information/topSearch/query\"\n        self.request_fileLink_url = \"http://www.cninfo.com.cn/new/hisAnnouncement/query\"\n        self.request_pdf_url = \"http://static.cninfo.com.cn/\"\n        self.select_record = None\n\n        self.report_type = {\n                            \"\u5e74\u62a5\" : \"category_ndbg_szsh;\",\n                            \"\u534a\u5e74\u62a5\" : \"category_bndbg_szsh;\",\n                            \"\u4e00\u5b63\u62a5\" : \"category_yjdbg_szsh;\",\n                            \"\u4e09\u5b63\u62a5\" : \"category_sjdbg_szsh;\",\n        }\n\n        while not self.select_record:\n            keyword = input(\"\u8bf7\u8f93\u5165\u516c\u53f8\u7b80\u79f0\u6216\u80a1\u7968\u4ee3\u7801\uff0c\u6309\u56de\u8f66\u786e\u8ba4\uff1a\")\n            r_init = post(self.request_orgId_url, \n                                   data = {\n                                       \"keyWord\" : keyword\n                                   })\n            json_init = loads(r_init.text)\n            if len(json_init) &gt; 1:\n                for index, item in enumerate(json_init):\n                    print(\"{0: &lt;3}{1:{3:}&lt;8}{2:{3:}&lt;8}\".format(index, item['zwjc'], item['code'], chr(12288)))\n\n                select_no = int(input(\"\u67e5\u8be2\u7ed3\u679c\u4e0d\u552f\u4e00\uff0c\u8bf7\u8f93\u5165\u5e8f\u53f7\u5e76\u6309\u56de\u8f66\u8fdb\u884c\u9009\u62e9\uff1a\"))\n                self.select_record = json_init[select_no]\n                print(\"-\"*10 + \"\u9009\u62e9\u7684\u662f\uff1a\" + \"-\"*10)\n                print(\"{0: &lt;3}{1:{3:}&lt;8}{2:{3:}&lt;8}\".format(select_no, self.select_record['zwjc'], self.select_record['code'], chr(12288)))\n            elif len(json_init) == 1:\n                self.select_record = json_init[0]\n                print(\"-\"*10 + \"\u67e5\u8be2\u5230\u7684\u516c\u53f8\u662f\uff1a\" + \"-\"*10)\n                print(\"{0:{2:}&lt;8}{1:{2:}&lt;8}\".format(self.select_record['zwjc'], self.select_record['code'], chr(12288)))\n            else:\n                print(\"\u672a\u627e\u5230\u76f8\u5173\u516c\u53f8\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\")\n\n    def query_reports(self):\n        print(\"-\" * 10 + \"\u5b9a\u671f\u62a5\u544a\u67e5\u8be2\" + \"-\" * 10)\n        # \u62a5\u8868\u7c7b\u578b\n        for index,item in enumerate(self.report_type.items()):\n            print(\"{0: &lt;3}{1:{2:}&lt;8}\".format(index, item[0], chr(12288)))\n        input_query_type = input(\"\u8bf7\u8f93\u5165\u9700\u8981\u67e5\u8be2\u62a5\u8868\u7c7b\u578b\u7684\u5e8f\u53f7\uff08\u5982\u9700\u67e5\u8be2\u591a\u79cd\u5219\u8f93\u5165\u591a\u4e2a\u5e8f\u53f7\uff0c\u59820123\uff09\uff0c\u6309\u56de\u8f66\u786e\u8ba4\uff1a\")\n        print(\"-\" * 10 + \"\u9009\u62e9\u7684\u7c7b\u578b\u662f\" + \"-\" * 10)\n        query_type = \"\"\n        for num in input_query_type:\n            type_name,type_code = list(self.report_type.items())[int(num)]\n            print(type_name)\n            query_type += type_code\n        # \u67e5\u8be2\u65f6\u95f4\u6bb5\n        query_period = None\n        while not query_period:\n            query_start_date = input(\"\\n\u8bf7\u8f93\u5165\u67e5\u8be2\u7684\u5f00\u59cb\u65e5\u671f\uff08\u62a5\u544a\u53d1\u5e03\u65e5\u671f\uff0c\u975e\u8d22\u52a1\u5e74\u5ea6\uff09\uff0c\u6309\u56de\u8f66\u786e\u8ba4\uff08\u683c\u5f0fYYYY-MM-DD\uff0c\u59822022-07-22\uff09\uff1a\")\n            query_end_date = input(\"\u8bf7\u8f93\u5165\u67e5\u8be2\u7684\u7ed3\u675f\u65e5\u671f\uff08\u62a5\u544a\u53d1\u5e03\u65e5\u671f\uff0c\u975e\u8d22\u52a1\u5e74\u5ea6\uff09\uff0c\u6309\u56de\u8f66\u786e\u8ba4\uff08\u683c\u5f0fYYYY-MM-DD\uff0c\u59822022-07-22\uff09\uff1a\")\n            if match(\"\\d{4}-\\d{2}-\\d{2}\", query_start_date) and match(\"\\d{4}-\\d{2}-\\d{2}\", query_end_date):\n                query_period = query_start_date + \"~\" + query_end_date\n            else:\n                print(\"\u65f6\u95f4\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\")\n\n        print(\"\\n\u6b63\u5728\u83b7\u53d6\u6570\u636e...\")\n\n        # \u7b2c\u4e00\u6b21post\u6240\u7528data\n        query_post_data = {'stock' : self.select_record['code'] + ',' + self.select_record['orgId'],\n                           'seDate' : query_period,\n                           'category' : query_type,\n                           'pageSize' : 30,\n                           'pageNum' : 1,\n                           'tabName' : 'fulltext'\n                          }\n        r_report_query = post(self.request_fileLink_url, data = query_post_data)\n\n\n        total_record = [] # \u5b58\u653e\u6240\u6709\u8bb0\u5f55\u7684\u5217\u8868\n        # \u89e3\u6790\u6570\u636e\n        json_report_query = loads(r_report_query.text)\n        total_record_num = json_report_query[\"totalRecordNum\"] # \u6240\u6709\u8bb0\u5f55\u6761\u6570\n        total_record += json_report_query[\"announcements\"] # \u5c06\u7b2c\u4e00\u9875\u7684\u8bb0\u5f55\u6dfb\u52a0\u8fdb\u5217\u8868\n        while len(total_record) &lt; total_record_num: # \u5982\u679c\u7b2c\u4e00\u9875\u6ca1\u6709\u8fd4\u56de\u5168\u90e8\u8bb0\u5f55\uff0c\u5219\u7ee7\u7eed\u8bf7\u6c42\n            query_post_data['pageNum'] = query_post_data['pageNum'] + 1\n            r_report_query = post(self.request_fileLink_url, data = query_post_data)\n            json_report_query = loads(r_report_query.text)\n            total_record += json_report_query[\"announcements\"]\n\n        assert len(total_record) == total_record_num, '\u9519\u8bef\uff1a\u6570\u636e\u83b7\u53d6\u4e0d\u5b8c\u6574\uff01'\n        total_record = [record for record in total_record if record[\"adjunctType\"] == 'PDF']\n        print(\"-\" * 15 + f'\u5171\u67e5\u8be2\u5230{len(total_record)}\u6761\u6570\u636e' + '-' * 15)\n        # \u6253\u5370\u6240\u6709\u83b7\u53d6\u7684\u8bb0\u5f55\n        for num, record in enumerate(total_record):\n            print(\"{0:{2:}&lt;4}{1:{2:}&lt;40}\".format(num+1, record[\"announcementTitle\"], chr(12288)))\n\n        return total_record\n\n    def download_reports(self, records_ls):\n        print(\"\u6b63\u5728\u4e0b\u8f7d\uff1a\")\n        save_folder = \"./\u4e0b\u8f7d_\u5de8\u6f6e\u8d44\u8baf/\"\n        if not os.path.exists(save_folder):\n            os.mkdir(save_folder)\n        save_path = save_folder + self.select_record[\"zwjc\"] + self.select_record[\"code\"]\n        if not os.path.exists(save_path):\n            os.mkdir(save_path)\n        for record in tqdm(records_ls):\n            full_url = self.request_pdf_url + record[\"adjunctUrl\"]\n            file_name = record[\"announcementTitle\"] + \".pdf\"\n\n            r_pdf = get(full_url)\n            pdf_content = r_pdf.content\n\n            with open(save_path +\"/\"+file_name, 'wb') as f:\n                f.write(pdf_content)\n        print(\"\u5168\u90e8\u4e0b\u8f7d\u5b8c\u6210\uff01\")\n\n    def query_and_download(self):\n        while True:\n            total_record = self.query_reports()\n            print(\"\\n\u662f\u5426\u4e0b\u8f7d\u4ee5\u4e0a\u5217\u51fa\u6587\u4ef6\uff1f\")\n            flag_download = None\n            while not flag_download:\n                flag_download = input(\"Y/N\uff1a\")\n                if flag_download == 'Y' or flag_download == 'y':\n                    self.download_reports(total_record)\n                elif flag_download == 'N' or flag_download == 'n':\n                    print(\"\\n***\u9009\u62e9\u4e0d\u8fdb\u884c\u4e0b\u8f7d***\")\n                else:\n                    print(\"\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u8f93\u5165Y\u6216N\")\n                    flag_download = None\n            input(\"\u5982\u9700\u7ee7\u7eed\u67e5\u8be2[{}]\u7684\u76f8\u5173\u62a5\u544a\u8bf7\u6309\u56de\u8f66\uff0c\u7ed3\u675f\u8bf7\u76f4\u63a5\u5173\u95ed\u7a97\u53e3\uff0c\u67e5\u8be2\u5176\u4ed6\u516c\u53f8\u8bf7\u91cd\u65b0\u6253\u5f00\u7a0b\u5e8f\".format(self.select_record[\"zwjc\"] + self.select_record[\"code\"]))\n</code></pre> <p>\u6211\u5c06\u4ee3\u7801\u7684\u5168\u90e8\u529f\u80fd\u5c01\u88c5\u5230\u4e86\u4e00\u4e2a\u7c7b\u5f53\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5c06\u8be5\u7c7b\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c \u7136\u540e\u8c03\u7528<code>query_and_download</code>\u65b9\u6cd5\u6765\u8fd0\u884c\u5b83\uff1a</p> <pre><code>main_object = fin_report_crawler()\nmain_object.query_and_download()\n</code></pre> <p>\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u60f3\u8981\u67e5\u627e\u7684\u516c\u53f8\u5e74\u62a5\u7684\u4ee3\u7801\u540e\uff0c\u4f1a\u5411\u670d\u52a1\u5668\u8fdb\u884c\u4e00\u6b21\u4ee3\u7801\u67e5\u8be2\uff0c\u8fd4\u56de\u5339\u914d\u7684\u4ee3\u7801\uff0c \u901a\u8fc7\u8f93\u5165\u5e8f\u53f7\u53ef\u4ee5\u9009\u62e9\u6b63\u786e\u7684\u4e0a\u5e02\u516c\u53f8</p> <p>\u63a5\u7740\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u60f3\u8981\u67e5\u8be2\u7684\u5b9a\u671f\u62a5\u544a\u7c7b\u578b</p> <p>\u518d\u8f93\u5165\u67e5\u8be2\u7684\u8d77\u59cb\u65f6\u95f4\uff0c\u7136\u540e\u4f1a\u5411\u670d\u52a1\u5668\u518d\u6b21\u8fdb\u884c\u67e5\u8be2\uff0c\u5e76\u5217\u51fa\u6240\u6709\u67e5\u8be2\u5230\u7684\u5e74\u62a5\u7ed3\u679c</p> <p>\u786e\u8ba4\u4e0b\u8f7d\u540e\uff0c\u4f1a\u5411\u670d\u52a1\u5668\u62c9\u53d6pdf\u5b57\u8282\u6d41\uff0c \u7136\u540e\u4fdd\u5b58\u5230\u6b64python\u811a\u672c\u8fd0\u884c\u7684\u5de5\u4f5c\u76ee\u5f55\u4e0b\u7684\u201c\u4e0b\u8f7d_\u5de8\u6f6e\u8d44\u8baf\u201d\u76ee\u5f55\u4e2d\u3002 \u8003\u8651\u5230\u4e0b\u8f7d\u65f6\u95f4\u53ef\u80fd\u8f83\u957f\uff0c\u6211\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u4e86\u8fdb\u5ea6\u6761</p> <p>\u4e0b\u8f7d\u7ed3\u675f\u540e\u53ef\u4ee5\u5728\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u4e2d\u627e\u5230pdf\u6587\u4ef6\uff0c \u6211\u76f4\u63a5\u91c7\u7528\u4e86\u670d\u52a1\u5668\u54cd\u5e94\u7684\u539f\u59cbpdf\u6587\u4ef6\u540d\uff0c\u8bfb\u8005\u53ef\u4ee5\u4fee\u6539\u4ee3\u7801\u4f7f\u5f97pdf\u6587\u4ef6\u540d\u79f0\u7edf\u4e00</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E9%85%B7%E4%BA%91-%E5%89%A7%E9%9B%86%E6%92%AD%E5%87%BA%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE/","title":"\u9177\u4e91-\u5267\u96c6\u64ad\u51fa\u65f6\u95f4\u6570\u636e","text":"<p>\u9177\u4e91\u63d0\u4f9b\u4e86\u56fd\u5185\u70ed\u95e8\u7535\u89c6\u5267\u7684\u6536\u89c6\u6570\u636e\uff0c\u5305\u62ec\u7535\u89c6\u9891\u9053\u7684\u6536\u89c6\u7387\u548c\u7f51\u7edc\u5e73\u53f0\u7684\u64ad\u653e\u5e02\u5360\u6570\u636e\u3002\u8fd9\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u5982\u4f55\u722c\u53d6\u7535\u89c6\u5267\u7684\u51c6\u786e\u64ad\u51fa\u65f6\u95f4\u3002</p> \u65e5\u671f \u65f6\u95f4 \u5e73\u53f0 \u6536\u89c6\u6392\u540d \u5e73\u5747\u6536\u89c6 \u64ad\u51fa\u96c6\u6570 2023/12/27 19:30 CCTV8 1 0.019984 ep1,ep2 2023/12/28 19:30 CCTV8 1 0.018559 ep3,ep4 2023/12/29 19:30 CCTV8 1 0.017299 ep5,ep6 ... ... ... ... ... ...","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E9%85%B7%E4%BA%91-%E5%89%A7%E9%9B%86%E6%92%AD%E5%87%BA%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE/#_1","title":"\u6570\u636e\u63a5\u53e3","text":"<p>\u8fdb\u5165\u9177\u4e91\u5b98\u7f51\uff0c\u4ee5\u64b0\u5199\u672c\u6587\u65f6\u70ed\u699c\u7b2c\u4e00\u7684\u300a\u4e0e\u51e4\u884c\u300b\u4e3a\u4f8b\uff0c\u8fdb\u5165\u5230\u5176\u8282\u76ee\u9875\u9762\u3002\u5728\u8d8b\u52bf\u8868\u73b0\u6807\u7b7e\u4e0b\uff0c\u5386\u53f2\u6536\u89c6\u90e8\u5206\u7684\u5b9e\u65f6\u6807\u7b7e\u4e0b\u6709\u8be5\u7535\u89c6\u5267\u6bcf\u5929\u5728\u5404\u4e2a\u7535\u89c6\u9891\u9053\u7684\u64ad\u51fa\u60c5\u51b5\u7ebf\u56fe\u3002\u7ebf\u56fe\u7684\u8303\u56f4\u5c31\u662f\u5f53\u65e5\u7535\u89c6\u5267\u7684\u64ad\u51fa\u8d77\u59cb\u65f6\u95f4\uff0c\u901a\u8fc7\u5207\u6362\u65e5\u671f\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u6ca1\u6709\u64ad\u51fa\u7684\u65e5\u671f\u7ebf\u56fe\u6ca1\u6709\u5185\u5bb9\u3002\u722c\u53d6\u601d\u8def\u5c31\u662f\u904d\u5386\u65e5\u671f\uff0c\u7136\u540e\u83b7\u53d6\u56fe\u8868\u7684\u8d77\u59cb\u65f6\u95f4\u70b9\u3002</p> <p>\u7ebf\u56fe\u4e00\u822c\u662f\u901a\u8fc7\u4ece\u540e\u7aef\u6570\u636e\u63a5\u53e3\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u4f7f\u7528JavaScript\u5728\u7f51\u9875\u4e0a\u7ed8\u5236\u51fa\u6765\uff0c\u56e0\u6b64\u6211\u4eec\u5c1d\u8bd5\u622a\u53d6\u6570\u636e\u63a5\u53e3\u7684\u54cd\u5e94\u3002\u53f3\u952e\u5ba1\u67e5\u5143\u7d20\uff0c\u5207\u6362\u5230Network\u6807\u7b7e\uff0c\u7531\u4e8e\u7ebf\u56fe\u662f\u52a8\u6001\u751f\u6210\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9009\u62e9Fetch/XHR\u7c7b\u578b\u7684\u54cd\u5e94\uff0c\u7136\u540e\u968f\u610f\u5207\u6362\u4e00\u4e2a\u65e5\u671f\uff0c\u5c31\u53ef\u4ee5\u5728\u770b\u5230\u6765\u81ea\u6570\u636e\u63a5\u53e3\u7684\u54cd\u5e94\u3002</p> <p>\u5728Headers\u6807\u7b7e\u4e0b\u53ef\u4ee5\u770b\u5230\u6570\u636e\u63a5\u53e3\u662f<code>https://www.ky.live/api/epgrate?</code> \u67e5\u8be2\u662f<code>caid=1340503&amp;tvid=24&amp;area=-1&amp;sd=20240411&amp;is_his=1&amp;t=2</code>\u3002\u5176\u4e2d<code>caid</code>\u8868\u793a\u7535\u89c6\u5267\u7f16\u53f7\uff0c<code>tvid</code>\u8868\u793a\u7535\u89c6\u9891\u9053\u7f16\u53f7\uff0c<code>sd</code>\u8868\u793a\u67e5\u8be2\u65e5\u671f\uff0c\u5176\u4f59\u53c2\u6570\u6211\u4eec\u4fdd\u6301\u539f\u6837\u3002</p>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E9%85%B7%E4%BA%91-%E5%89%A7%E9%9B%86%E6%92%AD%E5%87%BA%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE/#_2","title":"\u6570\u636e\u722c\u53d6","text":"<p>\u901a\u8fc7\u7f16\u5199\u4e0b\u9762\u7684\u51fd\u6570\u53ef\u4ee5\u5b8c\u6210\u5bf9\u6570\u636e\u63a5\u53e3\u7684\u4e00\u6b21\u8bf7\u6c42\uff1a <pre><code>import urllib\nimport requests\nimport json\nimport time\n\napi = \"https://www.ky.live/api/epgrate?\"\n\ndef get_data(caid, tvid, date, sleep=1):\n    # \u6784\u9020\u67e5\u8be2\n    query = {\"caid\": caid, \"tvid\": tvid, \n             \"area\": -1, \"sd\": date, \"is_his\": 1, \"t\": 2}\n    query = urllib.parse.urlencode(query)\n    # \u6784\u9020url\n    url = api + query\n\n    # \u8bf7\u6c42\n    r = requests.get(url)\n    if r.status_code != 200:\n        raise ValueError\n    else:\n        # \u5c06\u54cd\u5e94\u7ed3\u679c\u901a\u8fc7json\u5e93\u89e3\u6790\u4e3a\u5b57\u5178\n        data = json.loads(r.text)\n        time.sleep(sleep)\n    return data\n</code></pre></p> <p>\u8be5\u51fd\u6570\u63a5\u6536\u7684\u53c2\u6570\u5305\u62eccaid(\u8282\u76ee\u7f16\u53f7)\uff0ctvid(\u9891\u9053\u7f16\u53f7)\u548cdate(\u65e5\u671f)\uff0c\u5e76\u7528sleep\u53c2\u6570\u8bbe\u7f6e\u4e86\u8bf7\u6c42\u540e\u7684\u6682\u505c\u65f6\u95f4\uff0c\u907f\u514d\u5728\u6279\u91cf\u8bf7\u6c42\u65f6\u89e6\u53d1\u53cd\u722c\u673a\u5236\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5c06\u4e0a\u8ff0\u51fd\u6570\u8fdb\u884c\u5c01\u88c5\uff0c\u4ece\u800c\u5bf9\u67d0\u4e2a\u65e5\u671f\u8303\u56f4\u8fdb\u884c\u6279\u91cf\u8bf7\u6c42\uff1a</p> <pre><code># from tqdm.notebook import tqdm  # jupyter notebook\u4e0b\u5bfc\u5165tqdm\nfrom tqdm import tqdm  # \u5176\u4ed6IDE\u4e0b\u5bfc\u5165tqdm\nimport pandas as pd\n\ndef get_range_data(start, end, caid, tvid):\n    date_range = pd.date_range(start, end)\n    date_range = [i.strftime(\"%Y%m%d\") for i in date_range]\n\n    results = [get_data(tvid, date) for date in tqdm(date_range)]\n    return results\n</code></pre> <p>\u8fd9\u91cc\u7528\u5230\u4e86pandas\u7684<code>date_range</code>\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210\u4ecestart\u5230end\u8303\u56f4\u5185\u7684\u6240\u6709\u65f6\u95f4\u6807\u7b7e\u3002\u7531\u4e8e\u6570\u636e\u63a5\u53e3\u7684\u65f6\u95f4\u683c\u5f0f\u8981\u6c42\u4e3a20240413\uff0c\u800c<code>date_range</code>\u751f\u6210\u7684\u65f6\u95f4\u683c\u5f0f\u4e3a2024-04-13\uff0c\u6211\u4eec\u8c03\u7528<code>strftime</code>\u65b9\u6cd5\u6765\u8f6c\u6362\u65f6\u95f4\u683c\u5f0f\u3002\u7136\u540e\u5faa\u73af\u904d\u5386\u65f6\u95f4\u6807\u7b7e\uff0c\u722c\u53d6\u6bcf\u4e2a\u65f6\u95f4\u6807\u7b7e\u5bf9\u5e94\u7684\u6570\u636e\u3002</p> <p>Tip</p> <p>\u8fd9\u91cc\u7528\u5230\u4e86<code>tqdm</code>\u5e93\u6dfb\u52a0\u8fdb\u5ea6\u6761\uff0c\u5728\u8fdb\u884c\u5faa\u73af\u65f6\u5c06\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8f6c\u6362\u4e3atqdm\u5bf9\u8c61\u5373\u53ef\u663e\u793a\u8fdb\u5ea6\u6761\uff0c\u4f8b\u5982\uff1a  <code>for i in tqdm(range(10)):</code></p> <p>\u6211\u4eec\u8bbe\u7f6e\u5f00\u59cb\u65e5\u671f\u4e3a2024-03-18\uff0c\u7ed3\u675f\u65e5\u671f\u4e3a2024-04-12\uff0c\u6267\u884c\u51fd\u6570\uff0c\u53ef\u4ee5\u770b\u5230\u51fd\u6570\u8fd4\u56de\u4e86\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u5b57\u5178\u7684\u5217\u8868\uff1a <pre><code>jsons = get_range_data(start=\"2024-03-18\", end=\"2024-04-12\", caid=1340503, tvid=24)\njsons[0]\n\n# output\n[{'status': True,\n  'message': '',\n  'data': {'s': '2024-03-18 20:18',\n   'e': '2024-03-18 21:58',\n   'w': '\u5468\u4e00',\n   'i': [{'r': 0.004141, 't': '202403182018'},\n...\n'tvid': 24,\n   'avg_r': 0.0,\n   'tvn': '\u6e56\u5357\u536b\u89c6',\n   'n': '\u4e0e\u51e4\u884c 1 2'}}\n</code></pre></p> <p>\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u904d\u5386\u6bcf\u4e00\u5929\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u5bf9\u5185\u5bb9\u8fdb\u884c\u6574\u7406\u3002\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\u5728\u5b57\u5178\u7684<code>data</code>\u952e\u4e0b\uff0c\u952e<code>s</code>,<code>e</code>,<code>tvn</code>, <code>n</code>\u5bf9\u5e94\u7684\u503c\u5206\u522b\u4e3a\u64ad\u51fa\u65f6\u95f4\uff0c\u7ed3\u675f\u65f6\u95f4\uff0c\u9891\u9053\u548c\u96c6\u6570\u3002 <pre><code>def parse_jsons(jsons):\n    for json in jsons:\n        data = json[\"data\"]\n        data = {k:v for k,v in data.items() \n                if k in [\"s\", \"e\", \"tvn\", \"n\"]}\n        yield data\n</code></pre></p> <p>Tip</p> <p>\u4e0a\u8ff0\u51fd\u6570\u7684yield\u8868\u793a\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2agenerator\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7list\u5c06\u5176\u5e8f\u5217\u5316\u53d8\u6210\u4e00\u4e2a\u5217\u8868</p> <p>\u6700\u540e\u6211\u4eec\u53ef\u4ee5\u5c06\u6574\u7406\u597d\u7684\u6570\u636e\u8f6c\u6362\u6210DataFrame:</p> <pre><code>pd.DataFrame(list(parse_jsons(jsons)))\n\n# output\n                   s                 e   tvn          n\n0   2024-03-18 20:18  2024-03-18 21:58  \u6e56\u5357\u536b\u89c6    \u4e0e\u51e4\u884c 1 2\n1   2024-03-19 20:21  2024-03-19 21:59  \u6e56\u5357\u536b\u89c6    \u4e0e\u51e4\u884c 3 4\n2   2024-03-20 20:18  2024-03-20 21:59  \u6e56\u5357\u536b\u89c6    \u4e0e\u51e4\u884c 5 6\n3   2024-03-21 20:27  2024-03-21 22:05  \u6e56\u5357\u536b\u89c6    \u4e0e\u51e4\u884c 7 8\n4   2024-03-22 19:54  2024-03-22 20:23  \u6e56\u5357\u536b\u89c6      \u4e0e\u51e4\u884c 9\n5   2024-03-23 19:53  2024-03-23 20:24  \u6e56\u5357\u536b\u89c6     \u4e0e\u51e4\u884c 10\n...\n</code></pre>","tags":["\u7f51\u7edc\u722c\u866b","\u6570\u636e\u63a5\u53e3"]},{"location":"posts/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E7%9A%84/","title":"\u6211\u662f\u5982\u4f55\u642d\u5efa\u4e2a\u4eba\u4e3b\u9875\u7684","text":"<p>\u6211\u53d1\u73b0\u5355\u7eaf\u7684PDF\u7b80\u5386\u5728\u7bc7\u5e45\u548c\u5f62\u5f0f\u4e0a\u6709\u5f88\u5927\u9650\u5236\uff0c\u65e9\u4e9b\u65f6\u5019\u6211\u66fe\u5c1d\u8bd5\u5728\u5fae\u4fe1\u516c\u4f17\u53f7\u4e0a\u53d1\u5e03\u5185\u5bb9\uff0c\u4f46\u7f16\u8f91\u7e41\u7410\u5e76\u4e14\u529f\u80fd\u532e\u4e4f\uff0c\u6240\u4ee5\u51b3\u5b9a\u5236\u4f5c\u8fd9\u4e2a\u7f51\u7ad9\u5411\u5927\u5bb6\u5c55\u793a\u548c\u5206\u4eab\u6211\u7684\u5de5\u4f5c\u3002</p> <p>\u8fd9\u4e2a\u7f51\u7ad9\u662f\u901a\u8fc7mkdocs-material\u5236\u4f5c\u7684\uff0c\u5e76\u501f\u52a9GitHub Pages\u53d1\u5e03\u5230\u4e92\u8054\u7f51\u4e0a\u3002\u6b64\u5916\uff0c\u6211\u8fd8\u4f7f\u7528\u4e86\u963f\u91cc\u4e91\u548c\u817e\u8baf\u4e91\u7684\u670d\u52a1\u8bbe\u7f6e\u4e86\u57df\u540d\u5e76\u52a0\u901f\u7f51\u7ad9\u8bbf\u95ee\uff08\u56fd\u5185\u8bbf\u95eeGitHub\u670d\u52a1\u5668\u8f83\u6162\uff09\u3002\u5176\u4e2d\u7684\u4e3b\u8981\u82b1\u8d39\u662f\u8d2d\u4e70\u57df\u540d\u548cCDN\u52a0\u901f\u670d\u52a1\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u4e0d\u9700\u8981\u81ea\u5b9a\u4e49\u57df\u540d\u6216\u8005\u9488\u5bf9\u56fd\u5185\u8bbf\u95ee\u52a0\u901f\u7684\u8bdd\uff0c\u90e8\u7f72\u4e2a\u4eba\u7f51\u7ad9\u7684\u8d22\u52a1\u6210\u672c\u662f\u96f6\uff08\u4f46\u4f60\u8fd8\u662f\u9700\u8981\u82b1\u8d39\u5927\u7ea6\u4e00\u4e2a\u4e0b\u5348\u7684\u65f6\u95f4\uff09\u3002</p> <p>\u6211\u7684\u6574\u4e2a\u90e8\u7f72\u6d41\u7a0b\u662f\uff1a\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u5236\u4f5c\u548c\u53d1\u5e03\u7f51\u9875\u81ea\u5b9a\u4e49\u57df\u540dCDN\u52a0\u901f\uff0c\u6211\u4e0d\u4f1a\u8be6\u7ec6\u5730\u4ecb\u7ecd\u6bcf\u4e00\u6b65\u5982\u4f55\u64cd\u4f5c\uff0c\u4f46\u6211\u4f1a\u5c06\u6211\u6240\u7528\u5230\u7684\u8d44\u6599\u90fd\u63d0\u4f9b\u7ed9\u4f60\uff0c\u5e76\u63d0\u9192\u4f60\u53ef\u80fd\u9047\u5230\u7684\u201c\u5751\u201d\u3002</p>"},{"location":"posts/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E7%9A%84/#_2","title":"\u914d\u7f6e\u5f00\u53d1\u73af\u5883","text":"<p>\u6211\u5728\u8fd9\u91cc\u5217\u51fa\u4e86\u6211\u6240\u7528\u5230\u7684\u5f00\u53d1\u5de5\u5177\uff0c\u4f60\u9700\u8981\u5bf9\u8fd9\u4e9b\u5de5\u5177\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u4e86\u89e3\u3002\u672a\u6765\u6211\u4f1a\u5199\u4e00\u4e9b\u76f8\u5173\u7684\u4ecb\u7ecd\uff0c\u4f46\u5728\u6b64\u4e4b\u524d\u4f60\u53ef\u80fd\u8981\u67e5\u9605\u4e00\u4e9b\u76f8\u5173\u8d44\u6599\u3002</p> <p>\u7f51\u9875\u5236\u4f5c\u662f\u5728python\u73af\u5883\u4e0b\u8fdb\u884c\u7684\uff08\u4f46\u4e0d\u9700\u8981\u7f16\u5199\u4efb\u4f55python\u4ee3\u7801\uff09\uff0c\u8fd9\u91cc\u6211\u4f7f\u7528anaconda\u6765\u5b89\u88c5\u548c\u7ba1\u7406python\u73af\u5883\uff0c\u4f7f\u7528pycharm\uff0c\u6765\u7f16\u5199\u548c\u6d4b\u8bd5\u7f51\u9875\u3002\u5982\u679c\u4f60\u6709vscode\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u5b8c\u5168\u4ee3\u66ffpycharm\u3002</p> <p>Tip</p> <p>\u4f60\u53ef\u4ee5\u5728\u8fd9\u4e2a\u9875\u9762\u7533\u8bf7pycharm\u7684\u6559\u5e08/\u5b66\u751f\u8ba4\u8bc1\uff0c\u4ece\u800c\u514d\u8d39\u4f7f\u7528pycharm</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981Git\u5de5\u5177\u5c06\u7f51\u7ad9\u540c\u6b65\u5230GitHub\u4e0a\uff0c\u540e\u7eed\u5bf9\u7f51\u9875\u7684\u66f4\u65b0\u4e5f\u4e00\u76f4\u9700\u8981\u7528\u5230\u5b83\u3002\u5982\u679c\u4f60\u4e0d\u719f\u6089Git\u548cGitHub\uff0c\u4f60\u53ef\u4ee5\u628aGitHub\u5f53\u4f5c\u4e00\u4e2a\u7f51\u76d8\uff0c\u6bcf\u5f53\u4f60\u5bf9\u7535\u8111\u4e0a\u7684\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\u540eGit\u53ef\u4ee5\u5e2e\u4f60\u628a\u53d8\u52a8\u540c\u6b65\u5230\u7f51\u76d8\u4e0a\u3002\u6b64\u5916\uff0cGitHub\u63d0\u4f9b\u7684Pages\u670d\u52a1\u8fd8\u80fd\u5e2e\u6211\u4eec\u628a\u7f51\u9875\u53d1\u5e03\u5230\u4e92\u8054\u7f51\u4e0a\uff0c\u8ba9\u5176\u4ed6\u4eba\u53ef\u4ee5\u8bbf\u95ee\uff0c\u56e0\u6b64\u5728\u5f00\u59cb\u524d\u4f60\u9700\u8981\u6ce8\u518c\u4e00\u4e2aGitHub\u8d26\u53f7\u3002</p>"},{"location":"posts/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E7%9A%84/#_3","title":"\u5236\u4f5c\u7f51\u9875","text":"<p>\u6211\u5236\u4f5c\u7f51\u9875\u4f7f\u7528\u7684\u662fmkdocs-material\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7528\u7b80\u5355\u7684markdown\u8bed\u6cd5\u8fdb\u884c\u7f51\u9875\u8bbe\u8ba1\uff0c\u800c\u4e0d\u9700\u8981\u7f16\u5199html\u4ee3\u7801\uff0c\u4f8b\u5982\u4e0b\u9762\u662f\u8fd9\u4e2a\u9875\u9762\u7684\u4e00\u90e8\u5206markdown\u4ee3\u7801\uff1a</p> <pre><code>## \u914d\u7f6e\u5f00\u53d1\u73af\u5883\n\u6211\u5728\u8fd9\u91cc\u5217\u51fa\u4e86\u6211\u6240\u7528\u5230\u7684\u5f00\u53d1\u5de5\u5177\uff0c\u4f60\u9700\u8981\u5bf9\u8fd9\u4e9b\u5de5\u5177\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u4e86\u89e3\u3002\u672a\u6765\u6211\u4f1a\u5199\u4e00\u4e9b\u76f8\u5173\u7684\u4ecb\u7ecd\uff0c\u4f46\u5728\u6b64\u4e4b\u524d\u4f60\u53ef\u80fd\u8981\u67e5\u9605\u4e00\u4e9b\u76f8\u5173\u8d44\u6599\u3002\n\n\u7f51\u9875\u5236\u4f5c\u662f\u5728python\u73af\u5883\u4e0b\u8fdb\u884c\u7684\uff08**\u4f46\u4e0d\u9700\u8981\u7f16\u5199\u4efb\u4f55python\u4ee3\u7801**\uff09\uff0c\u8fd9\u91cc\u6211\u4f7f\u7528[anaconda](https://www.anaconda.com/download)\u6765\u5b89\u88c5\u548c\u7ba1\u7406python\u73af\u5883\uff0c\u4f7f\u7528[pycharm](https://www.jetbrains.com/pycharm/download/?section=windows)\uff0c\u6765\u7f16\u5199\u548c\u6d4b\u8bd5\u7f51\u9875\u3002\u5982\u679c\u4f60\u6709vscode\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u5b8c\u5168\u4ee3\u66ffpycharm\u3002\n!!! tip\n\n    \u4f60\u53ef\u4ee5\u5728[\u8fd9\u4e2a](https://www.jetbrains.com/community/education/#students)\u9875\u9762\u7533\u8bf7pycharm\u7684\u6559\u5e08/\u5b66\u751f\u8ba4\u8bc1\uff0c\u4ece\u800c\u514d\u8d39\u4f7f\u7528pycharm\n\n\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981[Git](https://git-scm.com/downloads)\u5de5\u5177\u5c06\u7f51\u7ad9\u540c\u6b65\u5230[GitHub](https://github.com/)\u4e0a\uff0c\u540e\u7eed\u5bf9\u7f51\u9875\u7684\u66f4\u65b0\u4e5f\u4e00\u76f4\u9700\u8981\u7528\u5230\u5b83\u3002\n\n\u5982\u679c\u4f60\u4e0d\u719f\u6089Git\u548cGitHub\uff0c\u4f60\u53ef\u4ee5\u628aGitHub\u5f53\u4f5c\u4e00\u4e2a\u7f51\u76d8\uff0c\u6bcf\u5f53\u4f60\u5bf9\u7535\u8111\u4e0a\u7684\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\u540eGit\u53ef\u4ee5\u5e2e\u4f60\u628a\u53d8\u52a8\u540c\u6b65\u5230\u7f51\u76d8\u4e0a\u3002\u6b64\u5916\uff0cGitHub\u63d0\u4f9b\u7684Pages\u670d\u52a1\u8fd8\u80fd\u5e2e\u6211\u4eec\u628a\u7f51\u9875\u53d1\u5e03\u5230\u4e92\u8054\u7f51\u4e0a\uff0c\u8ba9\u5176\u4ed6\u4eba\u53ef\u4ee5\u8bbf\u95ee\uff0c\u56e0\u6b64\u5728\u5f00\u59cb\u524d\u4f60\u9700\u8981\u6ce8\u518c\u4e00\u4e2aGitHub\u8d26\u53f7\u3002\n\n...\n</code></pre> <p>mkdocs-marterial\u63d0\u4f9b\u4e86\u4ece\u5236\u4f5c\u5230\u53d1\u5e03\u7f51\u9875\u7684\u65b0\u624b\u6559\u7a0b\uff0c\u8fd9\u4e2a\u89c6\u9891\uff08\u5982\u679c\u4f60\u80fd\u8bbf\u95eeYouTube\u7684\u8bdd\uff09\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u5165\u95e8\u3002 \u5c06\u5236\u4f5c\u597d\u7684\u7f51\u9875\u53d1\u5e03\u5230GitHub\u4e0a\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u4f60\u53ef\u80fd\u9700\u8981\u82b1\u4e00\u4e9b\u65f6\u95f4\u6765\u5b66\u4e60\u5982\u4f55\u5236\u4f5c\u51fa\u4f60\u60f3\u8981\u7684\u7f51\u9875\u6548\u679c\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u6e90\u4ee3\u7801\u3002</p>"},{"location":"posts/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E7%9A%84/#_4","title":"\u81ea\u5b9a\u4e49\u57df\u540d","text":"<p>\u5f53\u4f60\u6309\u7167\u6559\u7a0b\u5c06\u7f51\u9875\u53d1\u5e03\u540e\uff0c\u9875\u9762\u7684\u94fe\u63a5\u662f\u8fd9\u6837\u7684\uff1a<code>username.github.io/repository</code>\uff0c\u4f60\u53ef\u80fd\u60f3\u81ea\u5b9a\u4e49\u4e00\u4e2a\u5bb9\u6613\u8bb0\u4f4f\u7684\u57df\u540d\uff0c\u5c31\u50cf\u672c\u7ad9\u7684<code>lester-zhang.com</code>\u4e00\u6837\u3002</p> <p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u5230\u57df\u540d\u6258\u7ba1\u5546\u6ce8\u518c\u4f60\u60f3\u8981\u7684\u57df\u540d\uff0c\u6211\u9009\u62e9\u7684\u662f\u963f\u91cc\u4e91\u57df\u540d\u6ce8\u518c\uff0c\u4f46\u6211\u66f4\u63a8\u8350\u817e\u8baf\u4e91\u57df\u540d\u6ce8\u518c\uff0c\u56e0\u4e3a\u540e\u9762\u7684CDN\u52a0\u901f\u670d\u52a1\u6211\u4eec\u9009\u62e9\u817e\u8baf\u4e91\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u5e73\u53f0\u4e0a\u8fdb\u884c\u3002</p> <p>Tip</p> <p>\u5728\u963f\u91cc\u4e91\u6216\u817e\u8baf\u4e91\u6ce8\u518c\u57df\u540d\u90fd\u9700\u8981\u8fdb\u884c\u5b9e\u540d\u8ba4\u8bc1\uff0c\u8ba4\u8bc1\u8fc7\u7a0b\u8f83\u4e3a\u7e41\u7410\uff0c\u5e76\u4e14\u9700\u8981\u7b49\u5f85\u5ba1\u6838\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u63d0\u524d\u51c6\u5907\u3002\u6216\u8005\u4f60\u53ef\u4ee5\u9009\u62e9\u56fd\u5916\u7684\u57df\u540d\u6258\u7ba1\u670d\u52a1\uff0c\u4f8b\u5982godaddy</p> <p>Warning</p> <p>\u5728\u6ce8\u518c\u57df\u540d\u65f6\u4f1a\u78b0\u5230\u57df\u540d\u5907\u6848\u7684\u63d0\u793a\uff0c\u6211\u4eec\u53ef\u4ee5\u5ffd\u7565\u8be5\u8981\u6c42\u3002\u6839\u636e\u89c4\u5b9a\uff0c\u56fd\u5185\u670d\u52a1\u5668\u7ed1\u5b9a\u7684\u57df\u540d\u9700\u8981\u8fdb\u884c\u5907\u6848\uff0c\u4f46\u6211\u4eec\u7684\u57df\u540d\u662f\u7ed1\u5b9a\u5728\u5883\u5916GitHub\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u56e0\u6b64\u6ca1\u6709\u5f3a\u5236\u5907\u6848\u7684\u8981\u6c42</p> <p>\u6ce8\u518c\u597d\u57df\u540d\u4e4b\u540e\u5c31\u9700\u8981\u5c06\u57df\u540d\u89e3\u6790\u5230\u4f60\u7684\u7f51\u9875\u4e0a\u9762\uff0c\u8fd9\u4e24\u7bc7\u6587\u7ae0\u63d0\u4f9b\u4e86\u8be6\u7ec6\u7684\u6307\u5bfc\uff1a\u81ea\u5b9a\u4e49\u57df\u540d\u6559\u7a0b2\u548c\u81ea\u5b9a\u4e49\u57df\u540d\u6559\u7a0b2\u3002</p> <p>Tip</p> <p>\u5bf9\u4e8e\u817e\u8baf\u4e91\u548c\u963f\u91cc\u4e91\uff0c\u6559\u7a0b\u4e2d\u63d0\u5230\u7684DNS\u914d\u7f6e\u9875\u9762\u5206\u522b\u5728\uff1a\u817e\u8baf\u4e91DNS\u914d\u7f6e\u548c\u963f\u91cc\u4e91DNS\u914d\u7f6e</p>"},{"location":"posts/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E7%9A%84/#cdn","title":"CDN\u52a0\u901f","text":"<p>\u6211\u4eec\u7684\u7f51\u9875\u662f\u90e8\u7f72\u5728\u5883\u5916\u7684GitHub\u670d\u52a1\u5668\u4e0a\uff0c\u56fd\u5185\u8bbf\u95ee\u901f\u5ea6\u8f83\u6162\u4e14\u4e0d\u592a\u7a33\u5b9a\uff0c\u53ef\u4ee5\u901a\u8fc7CDN\u52a0\u901f\u6765\u7f13\u89e3\u8fd9\u4e00\u95ee\u9898\u3002\u8fd9\u91cc\u6211\u9009\u62e9\u817e\u8baf\u4e91\u7684CDN\u52a0\u901f\u670d\u52a1\uff0c\u56e0\u4e3a\u5176\u514d\u8d39\u7684\u8bc1\u4e66\u6709\u6548\u671f\u4e3a1\u5e74\uff0c\u800c\u963f\u91cc\u4e91\u53ea\u67093\u4e2a\u6708\u3002\u8fd9\u7bc7\u6559\u7a0b\u89e3\u91ca\u4e86CDN\u7684\u539f\u7406\u5e76\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u76f8\u5173\u64cd\u4f5c\uff1aCDN\u52a0\u901f\u6559\u7a0b1\uff0c\u8fd9\u7bc7\u535a\u5ba2\u4e5f\u4ecb\u7ecd\u4e86\u76f8\u4f3c\u7684\u5185\u5bb9CDN\u52a0\u901f\u6559\u7a0b2\u3002</p> <p>\u5728\u914d\u7f6eCDN\u52a0\u901f\u670d\u52a1\u524d\u9700\u8981\u8d2d\u4e70\u6d41\u91cf\uff0c\u5426\u5219\u914d\u7f6e\u5b8c\u6210\u540e\u7f51\u9875\u65e0\u6cd5\u8bbf\u95ee\u3002\u5bf9\u4e8e\u817e\u8baf\u4e91\uff0c\u53ef\u4ee5\u5728CDN\u4ea7\u54c1\u9875\u9762\u8fdb\u884c\u8d2d\u4e70\uff0c\u8d44\u6e90\u5305\u7c7b\u578b\u5e94\u9009\u62e9\u6d41\u91cf\uff0c\u9002\u5408\u533a\u57df\u9009\u62e9\u4e9a\u592a1\u533a\uff0c\u8d44\u6e90\u5305\u89c4\u683c\u9009\u62e9100GB</p> <p>\u5728\u8ddf\u968f\u6559\u7a0b\u65f6\uff0c\u9700\u8981\u6ce8\u610f\u4e0b\u9762\u8fd9\u4e9b\u95ee\u9898\uff1a</p> <p>Warning</p> <p>\u5728\u6dfb\u52a0\u57df\u540d\u65f6\uff0c\u9700\u8981\u6dfb\u52a0\u9876\u7ea7\u57df\u540d\u548c\u4e8c\u7ea7\u57df\u540d\uff0c\u4f8b\u5982\uff0c\u6211\u6dfb\u52a0\u4e86<code>lester-zhang.com</code>\u548c<code>www.lester-zhang.com</code>\uff0c\u5e76\u5206\u522b\u914d\u7f6eDNS\u89e3\u6790\uff0c\u4ee5\u4fdd\u8bc1\u4e24\u4e2a\u94fe\u63a5\u90fd\u80fd\u591f\u6b63\u5e38\u8bbf\u95ee\u3002</p> <p>Warning</p> <p>\u4f7f\u7528CDN\u52a0\u901f\u4e0d\u9700\u8981\u5728GitHub\u4e0a\u8bbe\u7f6eCustom domain\uff0c\u800c\u662f\u9700\u8981\u5728docs\u76ee\u5f55\u4e0b\u65b0\u5efa\u540d\u4e3aCNAME\u7684\u6587\u4ef6\uff0c\u5728\u6587\u4ef6\u4e2d\u5199\u5165\u4f60\u7684\u57df\u540d\u3002\u5728\u8bbe\u7f6eCDN\u65f6\uff0c\u56de\u6e90host\u9700\u8981\u4e0eCNAME\u4e2d\u586b\u5199\u7684\u57df\u540d\u5b8c\u5168\u4e00\u81f4</p> <p>Tip</p> <p>\u5982\u679c\u4f60\u5728\u9a8c\u8bc1\u57df\u540d\u73af\u8282\u4e00\u76f4\u5931\u8d25\uff0c\u4f60\u9700\u8981\u68c0\u67e5\u4f60\u6dfb\u52a0\u7684DNS\u89e3\u6790\u8bb0\u5f55\u7c7b\u578b\u662f\u5426\u4e0e\u8981\u6c42\u7684\u4e00\u81f4\u3002\u6559\u7a0b\u4e2d\u7684\u8bb0\u5f55\u7c7b\u578b\u4e3aTXT\uff0c\u800c\u6709\u65f6\u817e\u8baf\u4e91\u4f1a\u8981\u6c42\u8bbe\u7f6e\u8bb0\u5f55\u7c7b\u578b\u4e3aCNAME</p> <p>\u5728\u5b8c\u6210\u5168\u90e8\u914d\u7f6e\u540e\uff0c\u8fd8\u9700\u8981\u505a\u4e0b\u5217\u68c0\u67e5\u5de5\u4f5c\uff1a</p> <p>Warning</p> <p>\u9700\u8981\u5728\u57df\u540d\u7ba1\u7406\u4e2d\u68c0\u67e5HTTPS\u914d\u7f6e\u4e2d\u7684HTTPS\u670d\u52a1\u662f\u5426\u6253\u5f00\uff0c\u5904\u4e8e\u5173\u95ed\u72b6\u6001\u65f6\u7f51\u9875\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u3002\u8be5\u670d\u52a1\u6bcf\u6708\u63d0\u4f9b300\u4e07\u6b21\u514d\u8d39\u7684\u8bbf\u95ee\uff0c\u8db3\u591f\u6211\u4eec\u7684\u4e2a\u4eba\u7f51\u7ad9\u4f7f\u7528\u3002  </p> <p>Warning</p> <p>\u9700\u8981\u5728\u57df\u540d\u7ba1\u7406\u4e2d\u68c0\u67e5\u56de\u6e90\u914d\u7f6e\u4e2d\u7684\u56de\u6e90\u8ddf\u968f301/302\u914d\u7f6e\u662f\u5426\u6253\u5f00\uff0c\u5904\u4e8e\u5173\u95ed\u72b6\u6001\u53ef\u80fd\u4f1a\u5f71\u54cdCDN\u52a0\u901f\u6548\u679c\u3002</p> <p> </p> <p>\u5f85CDN\u670d\u52a1\u90e8\u7f72\u5b8c\u6bd5\u540e\uff0c\u5982\u679c\u5728\u6982\u89c8\u9875\u9762\u53ef\u4ee5\u770b\u5230\u7528\u91cf\u6982\u89c8\u51fa\u73b0\u53d8\u52a8\uff0c\u5219\u8bf4\u660eCDN\u914d\u7f6e\u6210\u529f\uff0c\u7f51\u9875\u5df2\u7ecf\u6210\u529f\u4e0a\u7ebf\u3002</p>"},{"location":"posts/pycharm%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%BF%9E%E5%90%8C%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/","title":"PyCharm\u4e0e\u6d4f\u89c8\u5668\u7684\u8fde\u540c\u8c03\u8bd5\u914d\u7f6e","text":"<p>node-inspect\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u6d4f\u89c8\u5668\u4e2d\u8c03\u8bd5Node.js(1)\u4ee3\u7801\u7684\u65b9\u6cd5, \u901a\u8fc7\u5b83\u5c31\u53ef\u4ee5\u4f7f\u7528\u6d4f\u89c8\u5668\u8c03\u8bd5\u7684\u540c\u65f6\u8131\u79bb\u6d4f\u89c8\u5668\u73af\u5883\u3002 PyCharm\u4e0e\u6d4f\u89c8\u5668\u8fde\u540c\u8c03\u8bd5\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5728PyCharm\u4e2d\u7f16\u5199\u4ee3\u7801\u7684\u540c\u65f6\uff0c \u5728\u6d4f\u89c8\u5668\u4e2d\u5b9e\u65f6\u67e5\u770b\u4ee3\u7801\u7684\u6267\u884c\u6548\u679c\u548c\u8c03\u8bd5\u4fe1\u606f\u3002</p> <ol> <li>Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript runtime\uff0c\u7528\u4e8e\u5728\u670d\u52a1\u5668\u7aef\u6267\u884c JavaScript \u4ee3\u7801\u3002 \u5b83\u63d0\u4f9b\u4e86\u8bb8\u591a\u670d\u52a1\u5668\u7aef\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee\u3001\u7f51\u7edc\u8bf7\u6c42\u5904\u7406\u7b49\u3002</li> </ol>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b","\u5f00\u53d1\u73af\u5883"]},{"location":"posts/pycharm%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%BF%9E%E5%90%8C%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/#node-inspect","title":"\u5b89\u88c5node-inspect","text":"<p>\u5b89\u88c5PyCharm\u548cNode.js\u540e\uff0c\u901a\u8fc7npm\u5b89\u88c5node-inspect\uff1a</p> <pre><code>npm install -g node-inspect # (1) \n</code></pre> <ol> <li>-g\u8868\u793aglobal\uff0c\u8f6f\u4ef6\u5305\u4f1a\u88ab\u5b89\u88c5\u5230\u5168\u5c40\u7684node_modules\u76ee\u5f55\u4e2d\uff0c \u800c\u4e0d\u662f\u5f53\u524d\u9879\u76ee\u7684 node_modules \u76ee\u5f55\u4e2d</li> </ol>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b","\u5f00\u53d1\u73af\u5883"]},{"location":"posts/pycharm%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%BF%9E%E5%90%8C%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/#pycharm_1","title":"\u914d\u7f6ePyCharm","text":"<p>\u5728PyCharm\u53f3\u4e0a\u89d2\u9009\u62e9Edit Configurations\u6dfb\u52a0runtime\u914d\u7f6e\uff1a</p> <p>\u70b9\u51fb\u5de6\u4e0a\u89d2+\u53f7\u6dfb\u52a0\u914d\u7f6e\uff0c\u9009\u62e9Node.js\u73af\u5883\u3002Node parameters\u5904\u9700\u8981\u586b\u5165<code>--inspect-brk</code>\uff0c JavaScript file\u5904\u586b\u5165\u60f3\u8981\u8c03\u8bd5\u7684\u4ee3\u7801\u6587\u4ef6\uff1a</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b","\u5f00\u53d1\u73af\u5883"]},{"location":"posts/pycharm%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E8%BF%9E%E5%90%8C%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/#_1","title":"\u6d4b\u8bd5","text":"<p>\u5728PyCharm\u4e2d\u4f7f\u7528\u521a\u521a\u6dfb\u52a0\u7684runtime\u914d\u7f6e\u6267\u884c\u8981\u8c03\u8bd5\u7684JS\u4ee3\u7801\u6587\u4ef6\uff0c\u63a7\u5236\u53f0\u4f1a\u8f93\u51fa\u5982\u4e0b\u5185\u5bb9\uff1a</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u524d\u5f80<code>chrome://inspect</code>\uff0c\u7b49\u5f85Remote Target\u51fa\u73b0\uff0c\u70b9\u51fbinspect\u5373\u53ef\u8fdb\u5165\u8c03\u8bd5\u754c\u9762\uff1a</p> <p>\u53ef\u4ee5\u770b\u5230\u5728\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u663e\u793a\u51fa\u4e86PyCharm\u4e2d\u7f16\u5199\u7684\u4ee3\u7801\uff0c\u5e76\u4e14\u5728\u65ad\u70b9\u5904\u65ad\u4f4f\uff1a</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b","\u5f00\u53d1\u73af\u5883"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/","title":"\u590d\u73b0The Pre-Announcement Drift in China -- Fig 2  &amp; Tab 2","text":"<p>Jun Pan and Qing Peng\u5728   The Pre-Announcement Drift in China: Government Meetings and Macro Announcements  \u4e2d\u63d0\u51fa\uff0c\u4e2d\u56fd\u80a1\u7968\u5e02\u573a\u6536\u76ca\u7387\u5728\u91cd\u8981\u653f\u5e9c\u4f1a\u8bae\u524d48\u5c0f\u65f6\u5185\u4f1a\u663e\u8457\u5347\u9ad8\uff0c\u8fd9\u8868\u660e\u4e2d\u56fd\u662f\u4e00\u4e2a\u81ea\u4e0a\u800c\u4e0b\u7684\u7ecf\u6d4e\u4f53\uff0c\u5e02\u573a\u53d7\u5230\u653f\u7b56\u9a71\u52a8\u3002</p> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u5bf9\u8bba\u6587\u4e2d\u7684Figure 2\u548c Table 2\u8fdb\u884c\u590d\u73b0\uff0c\u5e76\u63d0\u4f9b\u4ee3\u7801\u3002</p> <p>Fig 2\u590d\u73b0\u7ed3\u679c\uff1a</p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_1","title":"\u590d\u73b0\u7ed3\u679c","text":"","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#figure-2","title":"Figure 2","text":"<p>\u8fd9\u7bc7\u8bba\u6587\u6574\u7406\u4e862009\u5e74\u52302022\u5e74\u95f4\u768495\u4e2a\u91cd\u8981\u653f\u5e9c\u4f1a\u8bae\uff08\u5305\u62ec\u515a\u7684\u5168\u56fd\u4ee3\u8868\u5927\u4f1a3\u6b21\u3001\u5168\u56fd\u4e24\u4f1a14\u6b21\u3001\u4e2d\u592e\u5168\u4f1a19\u6b21\u3001\u4e2d\u592e\u653f\u6cbb\u5c40\u4f1a\u8bae59\u6b21\uff09\uff0c Figure 2\u4e2d\u7ed8\u5236\u4e86\u8fd995\u6b21\u4f1a\u8bae\u524d\u540e\u51715\u5929\u7a97\u53e3\u5185\u4e0a\u8bc1\u6307\u65705\u5206\u949f\u9ad8\u9891\u7d2f\u8ba1\u6536\u76ca\u7387\u7684\u60c5\u51b5</p> <p>\u8bba\u6587\u539f\u56fe\uff1a</p> <p>\u590d\u73b0\u7ed3\u679c\uff1a</p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#table-2","title":"Table 2","text":"<p>Table 2\u5bf995\u6b21\u91cd\u8981\u653f\u5e9c\u4f1a\u8bae\u524d48\u5c0f\u65f6\u7684\u4e0a\u8bc1\u6307\u6570\u7d2f\u8ba1\u6536\u76ca\u7387\u60c5\u51b5\u8fdb\u884c\u4e86\u7edf\u8ba1\uff0c\u6b64\u5916\u8fd8\u6574\u7406\u4e86\u4e00\u7cfb\u5217\u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807\u53d1\u5e03\u4e8b\u4ef6\uff0c\u5e76\u7edf\u8ba1\u4e86\u524d48\u5c0f\u65f6\u7684\u4e0a\u8bc1\u6307\u6570\u7d2f\u8ba1\u6536\u76ca\u7387\u4f5c\u4e3a\u5bf9\u6bd4</p> <p>\u8bba\u6587\u539f\u8868\uff1a</p> <p>\u590d\u73b0\u7ed3\u679c\uff1a</p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_2","title":"\u590d\u73b0\u7ec6\u8282","text":"","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_3","title":"\u6570\u636e","text":"<ol> <li>\u6570\u636e\u6765\u6e90\uff1aRESSET \u9ad8\u9891\u6570\u636e</li> <li>\u6570\u636e\u6e05\u6d17\uff1a\u6839\u636e\u539f\u6587\uff0c\u5206\u522b\u5254\u9664\u4e0a\u5348\u3001\u4e0b\u5348\u4ea4\u6613\u65f6\u6bb5\u7684\u524d\u540e5\u5206\u949f\uff08\u5373\u53ea\u53d69:35\u523011:25\u548c13:05\u523014:55\uff09</li> <li>\u9ad8\u9891\u6536\u76ca\u7387\u8ba1\u7b97\uff1a\u5305\u542b\u9694\u591c\u6536\u76ca\u7387\uff0c\u5373\u6bcf\u65e5\u7b2c1\u4e2a\u89c2\u6d4b\u503c\u7684\u6536\u76ca\u7387=(\u7b2c1\u4e2a\u89c2\u6d4b\u503c\u6210\u4ea4\u4ef7 \u2013 \u6628\u65e5\u6700\u540e1\u4e2a\u89c2\u6d4b\u503c\u6210\u4ea4\u4ef7) / \u6628\u65e5\u6700\u540e1\u4e2a\u89c2\u6d4b\u503c\u6210\u4ea4\u4ef7</li> </ol>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_4","title":"\u4e8b\u4ef6\u7a97\u53e3","text":"<ol> <li> <p>\u4e8b\u4ef6\u65e5\u7684\u786e\u5b9a\uff1a</p> <ol> <li>\u4e24\u4f1a\u3001\u515a\u7684\u5168\u56fd\u4ee3\u8868\u5927\u4f1a\u3001\u4e2d\u592e\u5168\u4f1a\uff1a\u4f1a\u8bae\u65e5\u671f\u540e\u63a8\u7684\u7b2c1\u4e2a\u4ea4\u6613\u65e5\uff08\u5982\u679c\u5f53\u65e5\u662f\u4ea4\u6613\u65e5\uff0c\u5219\u4e8b\u4ef6\u65e5\u5c31\u662f\u5f53\u65e5\uff09\u3002</li> <li>\u4e2d\u592e\u653f\u6cbb\u5c40\u4f1a\u8bae\uff1a\u4f1a\u8bae\u7ed3\u675f\u540e\u7684\u7b2c1\u4e2a\u4ea4\u6613\u65e5\uff08\u6839\u636e\u539f\u6587\uff0c\u4f1a\u8bae\u5f53\u65e5\u662f\u4ea4\u6613\u65e5\u4e5f\u4e0d\u80fd\u4f5c\u4e3a\u4e8b\u4ef6\u65e5\uff09</li> <li>\u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807\u53d1\u5e03\uff1a\u53d1\u5e03\u65e5\u540e\u63a8\u7684\u7b2c1\u4e2a\u4ea4\u6613\u65e5\uff08\u5982\u679c\u5f53\u65e5\u662f\u4ea4\u6613\u65e5\uff0c\u5219\u4e8b\u4ef6\u65e5\u5c31\u662f\u5f53\u65e5\uff09\u3002\u6839\u636e\u539f\u6587\uff0c\u5982\u679c15\uff1a00\u4ee5\u540e\u53d1\u5e03\uff0c\u5219\u5f53\u65e5\u5373\u4f7f\u662f\u4ea4\u6613\u65e5\u4e5f\u4e0d\u80fd\u4f5c\u4e3a\u4e8b\u4ef6\u65e5\uff0c\u8981\u540e\u63a81\u5929\u3002</li> </ol> </li> <li> <p>\u4e8b\u4ef6\u7a97\u53e3\u786e\u5b9a\u89c4\u5219\uff1a</p> <ol> <li>day 0: \u539f\u59cb\u4e8b\u4ef6\u65e5\u5982\u679c\u662f\u4ea4\u6613\u65e5\u5c31\u6cbf\u7528\uff0c\u5982\u679c\u4e0d\u662f\u5219\u5411\u540e\u627e\u7b2c1\u4e2a\u4ea4\u6613\u65e5</li> <li>day -1: day 0\u524d\u63a81\u65e5\uff0c\u5982\u679c\u4e0d\u662f\u4ea4\u6613\u65e5\u5219\u7ee7\u7eed\u524d\u63a8</li> <li>day -n: \u6839\u636eday -(n-1)\u524d\u63a81\u65e5\uff0c\u5982\u679c\u4e0d\u662f\u4ea4\u6613\u65e5\u5219\u7ee7\u7eed\u524d\u63a8</li> <li>day +1: day 0\u540e\u63a81\u65e5\uff0c\u5982\u679c\u4e0d\u662f\u4ea4\u6613\u65e5\u5219\u7ee7\u7eed\u540e\u63a8</li> <li>day +n: \u6839\u636eday +(n-1)\u540e\u63a81\u65e5\uff0c\u5982\u679c\u4e0d\u662f\u4ea4\u6613\u65e5\u5219\u7ee7\u7eed\u540e\u63a8</li> </ol> </li> </ol>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_5","title":"\u5176\u4ed6\u7ec6\u8282","text":"<p>1.\u00a0\u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807\u4e8b\u4ef6\u91c7\u7528\u540d\u79f0\u5339\u914d\u7684\u65b9\u5f0f\u4ece\u5f6d\u535a\u6570\u636e\u4e2d\u627e\u51fa\uff0c\u5339\u914d\u89c4\u5219\u5982\u4e0b\u8868\u6240\u793a\uff0c\u5f97\u5230\u7684\u4e8b\u4ef6\u6570\u76ee\u548c\u539f\u6587\u76f8\u540c\uff1a</p> \u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807 \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f GDP .GDP \u540c\u6bd4. M2 .M2. CPI .CPI. Trade ^\u8d38\u6613\u4f59\u989d$ PMI ^\u5236\u9020\u4e1a\u91c7\u8d2d\u7ecf\u7406\u6307\u6570$ VAI .\u5de5\u4e1a\u589e\u52a0\u503c\u5e74\u8fc4\u4eca\u540c\u6bd4. Retail Sales .\u793e\u4f1a\u6d88\u8d39\u54c1\u96f6\u552e\u603b\u989d\u540c\u6bd4. <p>2.\u00a0\u5b8f\u89c2\u7ecf\u6d4e\u6307\u6807\u53d1\u5e03\u65e5\u4e2d\u7684PMI\u57282009-01-04\u6709\u4e00\u6b21\u53d1\u5e03\uff0c\u56e0\u4e3a\u5176\u4e8b\u4ef6\u7a97\u53e3\u843d\u5230\u6837\u672c\u533a\u95f4\u5916\uff0c\u6545\u5c06\u8be5\u4e8b\u4ef6\u5254\u9664\u3002</p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#python","title":"Python\u4ee3\u7801","text":"<p>\u7531\u4e8e\u6570\u636e\u5904\u7406\u8fc7\u7a0b\u8f83\u4e3a\u7e41\u7410\uff0c\u6240\u4ee5\u5728\u6b64\u53ea\u9644\u4e0a\u4e8b\u4ef6\u7814\u7a76\u548c\u7ed8\u56fe\u76f8\u5173\u4ee3\u7801\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u8054\u7cfb\u6211\u83b7\u53d6\u5b8c\u6574\u4ee3\u7801</p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_6","title":"\u4e8b\u4ef6\u7814\u7a76\u4ee3\u7801","text":"<p>\u4e0b\u5217\u4ee3\u7801\u7528\u4e8e\u8ba1\u7b97\u4e8b\u4ef6\u7a97\u53e3\u5185\u7684\u7d2f\u8ba1\u6536\u76ca\u7387 <pre><code>def find_nearest_trd_after(date, trd_dates):\n    '''\n    \u8be5\u51fd\u6570\u7528\u4e8e\u4ece\u6307\u5b9a\u65e5\u671f\u5411\u540e\u5bfb\u627e\u6700\u8fd1\u7684\u4e00\u4e2a\u4ea4\u6613\u65e5\n    \u5982\u679c\u6307\u5b9a\u65e5\u671f\u662f\u4ea4\u6613\u65e5\u5219\u76f4\u63a5\u8fd4\u56de\n    '''\n    # \u8ba1\u7b97date\u548c\u6bcf\u4e2a\u4ea4\u6613\u65e5\u7684\u5929\u6570\u95f4\u9694\n    interval = (trd_dates - date).dt.days\n    # \u53d6\u51fa\u5929\u6570\u95f4\u9694\u4e0d\u4e3a\u8d1f\u7684\n    posi_interval = interval[interval &gt;= 0]\n    # \u8fd4\u56de\u5929\u6570\u95f4\u9694\u6700\u5c0f\u7684\u4ea4\u6613\u65e5\n    return trd_dates[posi_interval.idxmin()]\n\n\ndef find_nearest_trd_before(date, trd_dates):\n    '''\n    \u8be5\u51fd\u6570\u7528\u4e8e\u4ece\u6307\u5b9a\u65e5\u671f\u5411\u524d\u5bfb\u627e\u6700\u8fd1\u7684\u4e00\u4e2a\u4ea4\u6613\u65e5\n    \u5982\u679c\u6307\u5b9a\u65e5\u671f\u662f\u4ea4\u6613\u65e5\u5219\u76f4\u63a5\u8fd4\u56de\n    '''\n    # \u8ba1\u7b97date\u548c\u6bcf\u4e2a\u4ea4\u6613\u65e5\u7684\u5929\u6570\u95f4\u9694\n    interval = (trd_dates - date).dt.days\n    # \u53d6\u51fa\u5929\u6570\u95f4\u9694\u4e0d\u4e3a\u6b63\u7684\n    negative_interval = interval[interval &lt;= 0]\n    # \u8fd4\u56de\u5929\u6570\u95f4\u9694\u6700\u5927\u7684\u4ea4\u6613\u65e5\n    return trd_dates[negative_interval.idxmax()]\n\n\ndef get_post_window(day0, n, trd_dates):\n    '''\n    \u8be5\u51fd\u6570\u4f20\u5165day0\uff0c\u63a8\u51faday 1,..,day n\n    '''\n    post_window = {}\n\n    base = day0  # \u53c2\u8003\u70b9\u8bbe\u7f6e\u4e3aday0\uff0c\u4eceday0\u5f00\u59cb\u504f\u79fb\n    for d in range(1, n+1):\n        next_day = base + pd.offsets.Day(1)  # \u53c2\u8003\u70b9\u540e\u63a8\u4e00\u5929\n        base = find_nearest_trd_after(next_day, trd_dates)  # \u627e\u5230\u540e\u63a8\u4e00\u5929\u5411\u540e\u7684\u6700\u8fd1\u4e00\u4e2a\u4ea4\u6613\u65e5\n        post_window[d] = base  # \u8d4b\u503c\n    return post_window\n\n\ndef get_pre_window(day0, n, trd_dates):\n    '''\n    \u8be5\u51fd\u6570\u4f20\u5165day0\uff0c\u63a8\u51faday -1,..,day -n\n    '''\n    pre_window = {}\n\n    base = day0  # \u53c2\u8003\u70b9\u8bbe\u7f6e\u4e3aday0\uff0c\u4eceday0\u5f00\u59cb\u504f\u79fb\n    for d in range(1, n+1):\n        d = -d\n        previous_day = base - pd.offsets.Day(1)  # \u53c2\u8003\u70b9\u524d\u63a8\u4e00\u5929\n        base = find_nearest_trd_before(previous_day, trd_dates)  # \u627e\u5230\u524d\u63a8\u4e00\u5929\u5411\u524d\u7684\u6700\u8fd1\u4e00\u4e2a\u4ea4\u6613\u65e5\n        pre_window[d] = base  # \u8d4b\u503c\n    return pre_window\n\n\ndef get_event_window(event_date, n, trd_dates, only_pre=False):\n    '''\n    \u8be5\u51fd\u6570\u6574\u5408\u4e86\u524d\u9762\u7684\u51fd\u6570\n    \u4f20\u5165event_date\uff0c\u627e\u5230day0\uff0c\u4ee5\u53ca\u957f\u5ea6\u4e3an\u7684event_window\n    '''\n    day0 = find_nearest_trd_after(event_date, trd_dates)  # \u4eceevent_date\u5411\u540e\u627e\u6700\u8fd1\u7684\u4ea4\u6613\u65e5\u4f5c\u4e3aday0\n\n    pre_window = get_pre_window(day0, n, trd_dates)\n    if not only_pre:\n        post_window = get_post_window(day0, n, trd_dates)\n        event_window = post_window | pre_window  # \u53d6\u5e76\u96c6\n    else:\n        event_window = pre_window\n\n    event_window[0] = day0\n\n    # \u6839\u636eday\u6392\u5e8f\n    kvs = list(event_window.items())\n    kvs = sorted(kvs, key=lambda x: x[0])\n    event_window = {k:v for k,v in kvs}\n\n    return event_window\n\n\ndef single_window_data(event_date, n, trd_dates, data, id_,\n                       data_ret=\"ret1_f\", data_date=\"date\", data_time=\"time\",\n                       only_pre=False):\n    '''\n    \u8be5\u51fd\u6570\u4ece\u7ed9\u5b9a\u7684\u65e5\u671f\u8ba1\u7b97\u4e8b\u4ef6\u7a97\u53e3\n    \u7136\u540e\u4ece\u603b\u6570\u636e\u4e2d\u63d0\u53d6\u51fa\u6bcf\u4e2a\u4e8b\u4ef6\u65e5\u7684\u6570\u636e\n    '''\n\n    event_window = get_event_window(event_date, n, trd_dates, only_pre=only_pre)\n    event_data = index_data[index_data[data_date].isin(event_window.values())].copy()\n\n    # \u6dfb\u52a0\u5c5e\u4e8e\u7b2c\u51e0\u4e2a\u7a97\u53e3\u7684\u4fe1\u606f\n    dt2window = {v: k for k,v in event_window.items()}\n    event_data[\"window\"] = event_data[data_date].map(dt2window)  # \u6ce8\u610f\u5217\u540ddate\n    # \u8ba1\u7b97\u7d2f\u8ba1\u6536\u76ca\u7387cumprod\n    event_data[\"cum_ret\"] = (event_data[data_ret] + 1).cumprod() - 1\n\n    # \u6574\u7406\n    event_data = event_data.reindex(columns=[data_date, \"window\", data_time, \"cum_ret\", data_ret])\n    event_data[\"event_id\"] = id_\n\n    return event_data\n\n\ndef all_window_data(all_event_date, n, trd_dates, data,\n                    data_ret=\"ret1_f\", data_date=\"date\", data_time=\"time\",\n                    only_pre=False):\n    '''\n    \u8be5\u51fd\u6570\u5bf9\u4e0a\u9762\u7684\u51fd\u6570\u8fdb\u4e00\u6b65\u5c01\u88c5\n    \u4f20\u5165\u65e5\u671f\u5e8f\u5217\uff0c\u4ece\u603b\u6570\u636e\u4e2d\u63d0\u53d6\u51fa\u6bcf\u4e2a\u65e5\u671f\u5bf9\u5e94\u7684\u5168\u90e8\u4e8b\u4ef6\u65e5\u7684\u6570\u636e\n    '''\n\n    data_ls = []\n    for id_, event_date in enumerate(tqdm(all_event_date, desc=\"Gathering window data\")):\n        df = single_window_data(event_date, n, trd_dates, data, id_, \n                                data_ret, data_date, data_time,\n                                only_pre=only_pre)\n        data_ls.append(df)\n\n    return pd.concat(data_ls)\n</code></pre></p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u7528\u4e8e\u8ba1\u7b97\u5e73\u5747\u7d2f\u8ba1\u6536\u76ca\u7387\u548c\u7f6e\u4fe1\u533a\u95f4 <pre><code>def get_ci(series, confidence=0.95):\n    '''\n    \u8be5\u51fd\u6570\u7528\u4e8e\u8ba1\u7b97\u4e00\u7ec4\u6570\u636e\u7684\u5747\u503c\u548c\u7f6e\u4fe1\u533a\u95f4\n    '''\n    res = sm.OLS(series, np.ones_like(series)).fit()\n    ci = res.conf_int().values[0]\n    mean = res.params.iloc[0]\n\n    return pd.Series({\"mean\": mean, \"l_ci\": ci[0], \"u_ci\": ci[1]})\n</code></pre></p>","tags":["Python","Event Study"]},{"location":"posts/%E5%A4%8D%E7%8E%B0the-pre-announcement-drift-in-china----fig-2---tab-2/#_7","title":"\u7ed8\u56fe\u4ee3\u7801","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u4e3aFigure 2\u7684\u7ed8\u56fe\u4ee3\u7801\uff0c\u6839\u636e\u4e0b\u5217\u7ed8\u56fe\u53c2\u6570\u80fd\u591f\u7ed8\u5236\u51fa\u9664\u5b57\u4f53\u5916\u4e0e\u539f\u56fe\u5b8c\u5168\u76f8\u540c\u6837\u5f0f\u7684\u56fe\u7247 <pre><code>def plot_agg_mean(agg_mean):\n    fig, ax = plt.subplots(1, 1)\n    fig.set_size_inches(11, 6)\n\n    # range\u4f5c\u4e3ax\u5750\u6807\n    xdata = np.arange(agg_mean.shape[0])\n    # \u83b7\u53d6\u6bcf\u4e2a\u7a97\u53e3\u7684\u5f00\u5934\u7684x\u5750\u6807\n    ori_indexs = agg_mean.groupby(\"window\").apply(lambda x: x.index)\n    xticks = [i[0] for i in ori_indexs]\n\n    # \u7ed8\u5236\u5747\u503c\n    ax.plot(xdata, agg_mean[\"mean\"], color=\"blue\", lw=0.7, alpha=0.85)\n    # \u586b\u5145\u7f6e\u4fe1\u533a\u95f4\n    ax.fill_between(xdata, agg_mean[\"l_ci\"], agg_mean[\"u_ci\"],\n                    alpha=0.32, color=\"blue\", edgecolor=\"none\")\n    # \u586b\u5145day 0\n    start, end = ori_indexs.loc[0][0], ori_indexs.loc[1][0]  # \u8bc6\u522bday0\u7684\u8d77\u59cb\u548c\u7ed3\u675f\n    ax.axvspan(start, end, color=\"grey\", alpha=0.3)\n\n    # \u8bbe\u7f6ex\u8f74\u6807\u7b7e\n    ax.set_xticks(xticks)\n    ax.set_xticklabels(ori_indexs.index)\n\n    # \u8bbe\u7f6e\u5782\u76f4\u7ebf\u6807\u8bc6\u7a97\u53e3\n    for x in xticks:\n        ax.axvline(x, color=\"black\", ls=\"--\", lw=0.6)\n    # \u8bbe\u7f6e\u6c34\u5e73\u7ebf\u6807\u8bc60\n    ax.axhline(0, color=\"grey\", lw=1)\n\n    # \u8bbe\u7f6e\u7eb5\u8f74\u540d\u79f0\n    ax.set_ylabel(\"Cumulative Return (%)\")\n    # \u8bbe\u7f6e\u56fe\u6807\u9898\n    ax.set_title(\"Return on the SSE Index\")\n</code></pre></p>","tags":["Python","Event Study"]},{"location":"posts/%E6%96%87%E6%9C%AC%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%88%A9%E6%96%87%E6%96%AF%E9%A1%BF%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB/","title":"\u6587\u672c\u76f8\u4f3c\u5ea6\u2014\u2014\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb","text":"<p>\u5728\u7ba1\u7406\u5c42\u56de\u590d\u6a21\u677f\u5316\u7684\u80a1\u4ef7\u6548\u5e94\u2014\u2014\u57fa\u4e8e\u201c\u4e0a\u8bc1 e \u4e92\u52a8\u201d\u7684\u5b9e\u8bc1\u7814\u7a76\u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c \u6211\u4eec\u4f7f\u7528\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\u6765\u5ea6\u91cf\u6295\u8d44\u8005\u4e92\u52a8\u5e73\u53f0\u4e0a\u516c\u53f8\u7ba1\u7406\u5c42\u56de\u590d\u7684\u6a21\u677f\u5316\u7a0b\u5ea6\uff0c \u73b0\u5728\u5bf9\u8fd9\u4e00\u65b9\u6cd5\u8fdb\u884c\u4ecb\u7ecd\u3002</p> \\[Sim\\_Lev = 1 - [LEV(TEXT_1, TEXT_2) / max(Len(TEXT_1), Len(TEXT_2))]\\]","tags":["Python","\u5de5\u4f5c\u8bba\u6587","\u5b9e\u8bc1","\u81ea\u7136\u8bed\u8a00\u5904\u7406"]},{"location":"posts/%E6%96%87%E6%9C%AC%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%88%A9%E6%96%87%E6%96%AF%E9%A1%BF%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB/#_2","title":"\u57fa\u672c\u539f\u7406","text":"<p>\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\u8861\u91cf\u7684\u662f\u4e24\u6bb5\u6587\u672c\u7684\u5dee\u5f02\u7a0b\u5ea6\uff0c \u5176\u5ea6\u91cf\u7684\u662f\u5176\u4e2d\u4e00\u6bb5\u6587\u672c\u901a\u8fc7\u63d2\u5165\u3001\u5220\u9664\u6216\u66ff\u6362\u5355\u4e2a\u5b57\u7b26\u4ece\u800c\u8f6c\u6362\u6210\u53e6\u4e00\u6bb5\u6587\u672c\u7684\u6700\u5c0f\u6b65\u9aa4\u6570\u76ee\u3002</p> <p>\u4f8b\u5982\uff0c\u73b0\u5728\u6709\u4e24\u6bb5\u6587\u672c\uff1a</p> \u6587\u672cA \u6587\u672cB \u82b1\u82b1\u662f\u4e00\u6761\u72d7 \u82b1\u82b1\u662f\u4e00\u53ea\u732b\u54aa <p>\u5c06\u6587\u672cA\u8f6c\u6362\u4e3a\u6587\u672cB\u9700\u8981\u5982\u4e0b3\u6b65\uff1a</p> <ol> <li>\u82b1\u82b1\u662f\u4e00\u6761\u72d7 \\(\\Rightarrow\\) \u82b1\u82b1\u662f\u4e00\u53ea\u72d7 \uff08\u5c06\u201c\u6761\u201d\u66ff\u6362\u4e3a\u201c\u53ea\u201d\uff09</li> <li>\u82b1\u82b1\u662f\u4e00\u53ea\u72d7 \\(\\Rightarrow\\) \u82b1\u82b1\u662f\u4e00\u53ea\u732b \uff08\u5c06\u201c\u72d7\u201d\u66ff\u6362\u4e3a\u201c\u732b\u201d\uff09</li> <li>\u82b1\u82b1\u662f\u4e00\u53ea\u732b \\(\\Rightarrow\\) \u82b1\u82b1\u662f\u4e00\u53ea\u732b\u54aa \uff08\u63d2\u5165\u201c\u54aa\u201d\uff09</li> </ol> <p>\u56e0\u6b64\uff0c\u6587\u672cA\u4e0eB\u7684\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\u5c31\u7b49\u4e8e3\u3002 \u6211\u4eec\u53ef\u4ee5\u5c06\u8ba1\u7b97\u51fa\u7684\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\u9664\u4ee5\u4e24\u6bb5\u6587\u672c\u4e2d\u8f83\u957f\u8005\u7684\u957f\u5ea6\uff0c \u5c06\u53d6\u503c\u8303\u56f4\u7f29\u653e\u5230[0, 1]\uff0c\u518d\u75281\u51cf\u53bb\u8fd9\u4e2a\u503c\uff0c\u5f97\u5230\u7684\u5c31\u662f\u5bf9\u4e24\u6bb5\u6587\u672c\u6a21\u677f\u5316\u7a0b\u5ea6\u7684\u5ea6\u91cf\uff1a</p> \\[Sim\\_Lev = 1 - [LEV(TEXT_1, TEXT_2) / max(Len(TEXT_1), Len(TEXT_2))]\\] <p>\u8be5\u6307\u6807\u53d6\u503c\u8d8a\u5927\u8868\u660e\u4e24\u6bb5\u6587\u672c\u7531\u590d\u5236\u7c98\u8d34\u5f97\u6765\u800c\u4e0d\u505a\u4fee\u6539\u7684\u7a0b\u5ea6\u8d8a\u9ad8\u3002</p>","tags":["Python","\u5de5\u4f5c\u8bba\u6587","\u5b9e\u8bc1","\u81ea\u7136\u8bed\u8a00\u5904\u7406"]},{"location":"posts/%E6%96%87%E6%9C%AC%E7%9B%B8%E4%BC%BC%E5%BA%A6%E5%88%A9%E6%96%87%E6%96%AF%E9%A1%BF%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB/#python","title":"Python\u4ee3\u7801","text":"<p>\u5728Python\u4e2d\u53ef\u4ee5\u4f7f\u7528  jellyfish  \u5e93\u6765\u8ba1\u7b97\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\uff0c \u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u8ba1\u7b97\u4e0a\u9762\u63d0\u5230\u7684\u6307\u6807\uff1a</p> <pre><code>import jellyfish\n\ndef norm_distance(text1, text2):\n    # \u8ba1\u7b97\u5229\u6587\u65af\u987f\u7f16\u8f91\u8ddd\u79bb\n    distance = jellyfish.levenshtein_distance(text1, text2)\n    # \u53d6\u6587\u672c\u8f83\u957f\u8005\u7684\u957f\u5ea6\n    length = max(len(text1), len(text2))\n    return 1 - distance/length\n</code></pre> <p>\u5728\u6211\u4eec\u7684\u8bba\u6587\u4e2d\uff0c\u8003\u8651\u4e00\u5bb6\u516c\u53f8\u5728\u5b63\u5ea6\u9891\u7387\u4e0b\u7684\u56de\u590d\u6a21\u677f\u5316\u5ea6\u91cf\uff0c \u65b9\u6cd5\u662f\u5c06\u4e00\u4e2a\u5b63\u5ea6\u5185\u516c\u53f8\u7684\u6240\u6709\u56de\u590d\u8fdb\u884c\u4e00\u4e00\u5339\u914d\uff0c\u8ba1\u7b97\u4e0a\u8ff0\u6307\u6807\uff0c\u7136\u540e\u53d6\u5e73\u5747\u503c\uff0c \u7f16\u5199\u4e0b\u5217\u51fd\u6570\u4ee5\u8fdb\u884c\u5339\u914d\u5e76\u8ba1\u7b97\u6307\u6807\u53d6\u5176\u5e73\u5747\u503c\uff1a</p> <pre><code>import pandas as pd\n\ndef quartly_distance(series):\n    # \u5c06\u8f93\u5165\u7684\u4e00\u4e2a\u5b63\u5ea6\u7684\u5168\u90e8\u56de\u590d\u5185\u5bb9\u8fdb\u884c\u4e00\u4e00\u5339\u914d\n    iv = list(zip(series.index, series.values))  # \u5c06\u6bcf\u4e00\u6761\u56de\u590d\u4fdd\u5b58\u4e3a(\u7d22\u5f15, \u5185\u5bb9)\u7684\u683c\u5f0f\n    pairs = (pd.MultiIndex.from_product([iv, iv]) # \u5c06\u6240\u6709\u56de\u590d\u5339\u914d\n             .to_series()\n             .reset_index(drop=True))\n    pairs = pairs[pairs.apply(lambda x: x[0][0] != x[1][0])] # \u53bb\u9664\u81ea\u8eab\u5339\u914d\u81ea\u8eab\u7684\u8bb0\u5f55\n\n    # \u8ba1\u7b97\u6bcf\u4e2a\u914d\u5bf9\u7684\u6307\u6807\u503c\n    pairs_distance = pairs.apply(lambda x: norm_distance(x[0][1], x[1][1]))\n    # \u53d6\u5e73\u5747\u503c\u8fd4\u56de\n    return pairs_distance.mean()\n</code></pre> <p>\u6211\u4eec\u7684\u6570\u636e\u5305\u542b\u4e09\u4e2a\u5b57\u6bb5\uff0csec_code\u8868\u793a\u80a1\u7968\u4ee3\u7801\uff0ca_date\u8868\u793a\u56de\u590d\u65e5\u671f\uff0ca_context\u8868\u793a\u56de\u590d\u6587\u672c</p> <p>\u6839\u636e\u80a1\u7968\u4ee3\u7801\u548c\u5b63\u5ea6\u8fdb\u884cgroupby\uff0c\u7136\u540e\u518d\u8c03\u7528\u4e0a\u9762\u7f16\u5199\u7684\u51fd\u6570\u5c31\u53ef\u4ee5\u5f97\u5230\u6240\u9700\u7684\u7ed3\u679c\uff0c \u4fee\u6539freq\u53c2\u6570\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u5176\u4ed6\u9891\u7387\u4e0b\u7684\u6a21\u677f\u5316\u7a0b\u5ea6\u8fdb\u884c\u805a\u5408\uff1a</p> <pre><code>result = (data\n          .groupby([\"sec_code\", pd.Grouper(key=\"a_date\", freq=\"QE\")])[\"a_context\"]\n          .apply(quartly_distance))\n</code></pre> <p>Warning</p> <p>\u6211\u4eec\u5728\u8bba\u6587\u4e2d\u4f7f\u7528\u7684\u6caa\u5e02\u201c\u4e0a\u8bc1e\u4e92\u52a8\u201d\u548c\u6df1\u5e02\u201c\u4e92\u52a8\u6613\u201d\u95ee\u7b54\u6570\u636e\u5206\u522b\u8fbe\u5230\u4e8655\u4e07\u6761\u548c100\u4e07\u6761\uff0c \u8003\u8651\u5230\u8fd8\u8981\u8fdb\u884c\u8bb0\u5f55\u95f4\u7684\u4e00\u4e00\u5339\u914d\uff0c\u8ba1\u7b97\u91cf\u8f83\u5927\uff0c\u63a8\u8350\u4f7f\u7528\u4e0b\u5217\u591a\u8fdb\u7a0b\u5bf9\u8ba1\u7b97\u8fc7\u7a0b\u8fdb\u884c\u52a0\u901f\u3002</p> <p>\u4e0b\u9762\u4ee3\u7801\u4e3a\u4e0a\u8ff0\u65b9\u6cd5\u7684\u591a\u8fdb\u7a0b\u6267\u884c\u7248\u672c\uff0c\u663e\u8457\u52a0\u5feb\u4e86\u8ba1\u7b97\u901f\u5ea6\uff0c\u5e76\u6dfb\u52a0\u4e86\u8fdb\u5ea6\u6761\uff1a</p> <pre><code>import joblib\nfrom joblib import Parallel, delayed\nimport contextlib\nfrom tqdm.notebook import tqdm\n\n@contextlib.contextmanager\ndef tqdm_joblib(tqdm_object):\n    class TqdmBatchCompletionCallback(joblib.parallel.BatchCompletionCallBack):\n        def __call__(self, *args, **kwargs):\n            tqdm_object.update(n=self.batch_size)\n            return super().__call__(*args, **kwargs)\n\n    old_batch_callback = joblib.parallel.BatchCompletionCallBack\n    joblib.parallel.BatchCompletionCallBack = TqdmBatchCompletionCallback\n    try:\n        yield tqdm_object\n    finally:\n        joblib.parallel.BatchCompletionCallBack = old_batch_callback\n        tqdm_object.close()\n\ngroups = data.groupby([\"sec_code\", pd.Grouper(key=\"a_date\", freq=\"QE\")])[\"a_context\"]\n\nwith tqdm_joblib(tqdm(desc=\"progress\", total=len(groups))) as progress_bar:\n    results = (Parallel(n_jobs=joblib.cpu_count())\n               (delayed(quartly_distance)\n                (series=g) for n, g in groups))\n</code></pre>","tags":["Python","\u5de5\u4f5c\u8bba\u6587","\u5b9e\u8bc1","\u81ea\u7136\u8bed\u8a00\u5904\u7406"]},{"location":"posts/variance-ratio-test-and-filter-rule/","title":"Variance Ratio Test and Filter Rule","text":"<p>\u5728  Do stock prices follow random walk over day and night? \u2013\u2013 evidence from Chinese stock market  \u8fd9\u7bc7\u8bba\u6587\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4fee\u6539\u7248\u7684Variance Ratio Test\u548cFilter Strategy\u5206\u522b\u5728\u7edf\u8ba1\u4e0a\u548c\u7ecf\u6d4e\u4e0a\u68c0\u9a8c\u4e86\u65e5\u5185\u65f6\u6bb5\u548c\u9694\u591c\u65f6\u6bb5\u6536\u76ca\u7387\u7684\u968f\u673a\u6e38\u8d70\u6027\u8d28\u3002 \u73b0\u5728\u6211\u6765\u5bf9\u8fd9\u4e24\u79cd\u65b9\u6cd5\u8fdb\u884c\u4ecb\u7ecd\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684Python\u4ee3\u7801\u3002</p> \\[VR^{ND} = \\frac{\\text{Var}\\left[ R^{CC}_t \\right]}{\\text{Var}\\left[ R^N_t \\right] + \\text{Var}\\left[ R^D_t \\right]}\\] \\[VR^{DN} = \\frac{\\text{Var}\\left[ R^{OO}_{t+1} \\right]}{\\text{Var}\\left[ R^D_t \\right] + \\text{Var}\\left[ R^N_{t+1} \\right]}\\]","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#variance-ratio-test","title":"Variance Ratio Test","text":"","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#_1","title":"\u57fa\u672c\u539f\u7406","text":"<p>Variance Ratio Test\u7531Lo and Craig MacKinlay (1988)\u63d0\u51fa\uff0c\u5176\u68c0\u9a8c\u539f\u7406\u57fa\u4e8e\u65f6\u95f4\u5e8f\u5217\u5728\u4e0d\u540c\u65f6\u95f4\u95f4\u9694\u4e0a\u7684\u65b9\u5dee\u662f\u7ebf\u6027\u589e\u957f\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217\u662f\u771f\u6b63\u7684\u968f\u673a\u6e38\u8d70\uff0c\u90a3\u4e48\u5728\u4e0d\u540c\u65f6\u95f4\u95f4\u9694\u4e0a\u7684\u65b9\u5dee\u6bd4\u7387\u5e94\u8be5\u63a5\u8fd11\u3002</p> <p>\u65e5\u5ea6\u9891\u7387\u4e0b\u7684VR\u68c0\u9a8c\u7edf\u8ba1\u91cf\u4e3a\uff1a</p> \\[VR^{CC}(q)=Var[R_t^{CC}(q)] / qVar[R_t^{CC}]\\] <p>\u5373\u95f4\u9694\u4e3a\\(q\\)\u5929\u7684\u6536\u76ca\u7387\u7684\u65b9\u5dee\u6bd4\u4e0a\\(q\\)\u500d\u7684\u65e5\u5ea6\u6536\u76ca\u7387\u7684\u65b9\u5dee\uff0c\u5176\u4e2d\\(R_t^{CC}(q)=lnP^C_t-lnP_{t-q}^C\\)</p> <p>\u6211\u4eec\u73b0\u5728\u8003\u8651\u5bf9\u9694\u591c\u548c\u65e5\u5ea6\u65f6\u6bb5\u7684\u6536\u76ca\u7387\u8fdb\u884cVR\u68c0\u9a8c\u3002\u9694\u591c\u548c\u65e5\u5185\u6536\u76ca\u7684\u62c6\u5206\u5728\u6b64\u4e0d\u591a\u4ecb\u7ecd\uff0c\u53ef\u4ee5\u53c2\u8003\u6211\u4eec\u7684\u8bba\u6587\u3002\u603b\u4e4b\u6211\u4eec\u53ef\u4ee5\u5c06t-1\u65e5\u6536\u76d8\u4ef7\u5230t\u65e5\u6536\u76d8\u4ef7\u7684\u6536\u76ca\u7387\u8868\u793a\u4e3a\uff1a</p> \\[R_t^{CC}=R_t^N+R_T^D\\] <p>\u5176\u4e2d\\(R_t^N\\)\u8868\u793a\u9694\u591c\u6536\u76ca\uff0c\\(R_T^D\\)\u8868\u793a\u65e5\u5185\u6536\u76ca\u3002 \u7c7b\u4f3c\u5730\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06t\u65e5\u5f00\u76d8\u4ef7\u5230t+1\u65e5\u5f00\u76d8\u4ef7\u7684\u6536\u76ca\u7387\u8868\u793a\u4e3a\uff1a</p> \\[R_{t+1}^{OO}=R_t^D+R_{t+1}^N\\] <p>\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u4f9d\u7167VR\u68c0\u9a8c\u7684\u601d\u8def\uff0c\u7528\u65e5\u5ea6\u6536\u76ca\u7387\u7684\u65b9\u5dee\u6bd4\u4e0a\u65e5\u5185\u548c\u9694\u591c\u6536\u76ca\u7387\u7684\u65b9\u5dee\u4e4b\u548c\u8fdb\u884c\u68c0\u9a8c\uff1a</p> \\[VR^{ND} = \\frac{\\text{Var}\\left[ R^{CC}_t \\right]}{\\text{Var}\\left[ R^N_t \\right] + \\text{Var}\\left[ R^D_t \\right]}\\] \\[VR^{DN} = \\frac{\\text{Var}\\left[ R^{OO}_{t+1} \\right]}{\\text{Var}\\left[ R^D_t \\right] + \\text{Var}\\left[ R^N_{t+1} \\right]}\\] <p>\u5176\u4e2d\\(VR^{ND}\\)\u5c31\u662f\u5bf9\u9694\u591c\u5230\u65e5\u5185\u7684\u8fc7\u7a0b\u8fdb\u884c\u68c0\u9a8c\uff0c\\(VR^{DN}\\)\u5219\u662f\u5bf9\u65e5\u5185\u5230\u9694\u591c\u7684\u8fc7\u7a0b\u8fdb\u884c\u68c0\u9a8c\u3002</p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#python","title":"Python\u4ee3\u7801","text":"<p>\u8fdb\u884c\u68c0\u9a8c\u524d\u9700\u8981\u51c6\u5907\u597d\u6570\u636e\uff0c\u7c7b\u4f3c\u4e0b\u8868\uff08\u6536\u76ca\u7387\u4ee5\u5bf9\u6570\u5f62\u5f0f\u8868\u793a\uff09\uff1a</p> \u53d8\u91cf\u5bf9\u5e94 <p>re_cc_daily, re_cc_co, re_cc_oc, re_oo_daily, re_oo_oc, re_oo_co\u5206\u522b\u5bf9\u5e94\\(R_t^{CC}, R_t^N, R_T^D, R_{t+1}^{OO}, R_t^D, R_{t+1}^N\\)</p> <p>\u6211\u5c06\u6574\u5957VR\u7edf\u8ba1\u91cf\u7684\u4f30\u8ba1\u65b9\u6cd5\u5c01\u88c5\u5230\u4e0b\u9762\u7684\u51fd\u6570\u5185\uff0c\u8be5\u51fd\u6570\u63a5\u6536\u4e00\u652f\u80a1\u7968\u7684\u6536\u76ca\u7387\u5e8f\u5217\uff0c\u8fd4\u56de\u5176VR\u503c\u548c\u68c0\u9a8c\u7edf\u8ba1\u91cf</p> <p>Warning</p> <p>\u6211\u4eec\u7684\u8bba\u6587\u4e2d\u5173\u5fc3\u7684\u662f\u5168\u90e8\u6837\u672c\u80a1\u7968\u7684VR\uff0c\u800c\u4e0d\u662f\u5355\u652f\u80a1\u7968\u7684VR\uff0c\u56e0\u6b64\u867d\u7136\u4e0b\u5217\u51fd\u6570\u80fd\u591f\u8ba1\u7b97\u5355\u652f\u80a1\u7968\u7684\u68c0\u9a8c\u7edf\u8ba1\u91cf\uff0c\u4f46\u5728\u8bba\u6587\u7684\u7ed3\u679c\u4e2d\u5e76\u6ca1\u6709\u4f7f\u7528</p> \u51fd\u6570\u53c2\u6570 <p>\u51fd\u6570\u7684\u53c2\u6570code\u4ee3\u8868\u80a1\u7968\u4ee3\u7801\uff0clog_daily_rets\u8868\u793a\u65e5\u5ea6\u6536\u76ca\u7387\u5e8f\u5217\uff0clog_intraday_rets\u8868\u793a\u65e5\u5185\u6536\u76ca\u7387\u5e8f\u5217\uff0clog_overnight_rets\u8868\u793a\u9694\u591c\u6536\u76ca\u7387\u5e8f\u5217\uff0cobs_limit\u8868\u793a\u6700\u5c0f\u89c2\u6d4b\u503c\u9650\u5236</p> <pre><code>import pandas as pd\nimport numpy as np\nimport scipy.stats as sps\n\ndef VR_estimate_stats(code,log_daily_rets, log_intraday_rets, log_overnight_rets, obs_limit):\n    # \u6dfb\u52a0overnight\u548cintraday\u6df7\u5408\u5e8f\u5217,overnight\u5728\u524d\n    mix_rets = log_intraday_rets.copy()\n    mix_rets.index = [i+0.5 for i in log_overnight_rets.index]\n    mix_rets = pd.concat([log_overnight_rets, mix_rets]).sort_index()\n\n    # \u68c0\u67e5\u957f\u5ea6\u662f\u5426\u4e00\u81f4\n    assert len(log_daily_rets) == len(log_intraday_rets) == len(log_overnight_rets)\n    # T \u4e3a\u6536\u76ca\u5e8f\u5217\u7684\u957f\u5ea6\n    T = len(log_daily_rets.dropna())\n    # \u4e0d\u6ee1\u8db3\u89c2\u6d4b\u503c\u8981\u6c42\u7684\u5c31\u8fd4\u56de\u7a7a\u503c\n    if T &lt; obs_limit:\n        return pd.Series({\n                        \"code\" : code,\n                        \"VR\" : np.nan, \n                        \"stat_homo\" : np.nan,\n                        \"stat_hetero_overnight\" : np.nan,\n                        \"stat_hetero_intraday\" : np.nan,\n                        \"stat_mean_daily\" : np.nan,\n                        \"stat_mean_intraday\" : np.nan,\n                        \"stat_mean_overnight\" : np.nan,\n                        \"vr_obs\" : T,\n                        \"daily_rets\" : log_daily_rets.mean(),\n                        \"intraday_rets\" : log_intraday_rets.mean(),\n                        \"overnight_rets\" : log_overnight_rets.mean()})\n    # mu \u4e3a\u6bcf\u79cd\u6536\u76ca\u7684\u5747\u503c\n    mu_daily = np.mean(log_daily_rets)\n    mu_intraday = np.mean(log_intraday_rets)\n    mu_overnight = np.mean(log_overnight_rets)\n    mu_mix = np.mean(mix_rets)\n    # demeaned_sqr \u4e3a\u53bb\u9664\u5747\u503c\u540e\u7684\u5e8f\u5217\u7684\u5e73\u65b9\uff0c\u7528\u4e8e\u8ba1\u7b97\u65b9\u5dee\u7b49\n    demeaned_sqr_daily = np.square(log_daily_rets - mu_daily)\n    demeaned_sqr_intraday = np.square(log_intraday_rets - mu_intraday)\n    demeaned_sqr_overnight = np.square(log_overnight_rets - mu_overnight)\n    demeaned_sqr_mix = np.square(mix_rets - mu_mix)\n\n    # var_intraday \u65e5\u5185\u6536\u76ca\u65b9\u5dee\u7684\u4f30\u8ba1\u91cf\n    var_intraday = np.sum(demeaned_sqr_intraday) / (T-1)\n    # var_overnight \u9694\u591c\u6536\u76ca\u65b9\u5dee\u7684\u4f30\u8ba1\u91cf\n    var_overnight = np.sum(demeaned_sqr_overnight) / (T-1)\n    # var_daily \u5168\u65e5\u6536\u76ca\u7387\u65b9\u5dee\u7684\u4f30\u8ba1\u91cf\n    # k = 2\u662f\u56e0\u4e3adaily_ret\u7531intraday\u548covernight\u4e24\u671f\u6784\u6210\n    k = 2\n    # m\u5c11\u4e58\u4e00\u4e2ak\u662f\u56e0\u4e3adaily_rets\u7b49\u4e8eintraday_rets + overnight_rets\n    # \u800c\u4e0d\u662f\u67d0\u4e2arets\u7684\u4e24\u500d\n    m = (T - k + 1) * (1 - k / T)\n    var_daily = 1/m * np.sum(demeaned_sqr_daily)\n\n    # Variance Ratio\n    vr = var_daily / (var_intraday + var_overnight)\n\n    # heteroscedasticity\n    a_arr = np.square(2 * (np.arange((k - 1), (1) - 1, step = -1, dtype = int)) / k)\n    # delta\u9879\u7684\u5e8f\u5217\n    # ====================overnight\u7248\u672c====================\n    b_arr_overnight = np.empty(k-1, dtype = np.float64)\n    for j in range(1,k):\n        b_arr_overnight[(j)-1] = np.sum((demeaned_sqr_mix * \\\n                            np.roll(demeaned_sqr_mix, shift = j))[(j + 1) - 1:]\n                           )\n    delta_arr_overnight = b_arr_overnight / np.square(np.sum(demeaned_sqr_mix))\n    # ==================================================\n\n    # ====================intraday\u7248\u672c====================\n    b_arr = np.empty(k-1, dtype=np.float64)\n    for j in range(1, k):\n        b_arr[j-1] = np.sum((demeaned_sqr_mix *\n                             np.roll(demeaned_sqr_mix, j))[j+1:])\n\n    delta_arr = b_arr / np.square(np.sum(demeaned_sqr_mix))\n    # ==================================================\n\n    # phi\u7684\u4e24\u5e8f\u5217\u957f\u5ea6\u90fd\u5e94\u8be5\u7b49\u4e8ek-1\n    assert len(b_arr_overnight) == len(delta_arr) == len(a_arr) == k-1\n\n    phi_hetero_overnight = np.sum(a_arr * delta_arr_overnight)\n    phi_hetero_intraday = np.sum(a_arr * delta_arr)\n\n    # homoscedasticity\n    phi_homo = 2 * (2*k - 1) * (k-1) / (3*k*T)\n\n    # VR test statistics\n    vr_stat_homo = (vr - 1) / np.sqrt(phi_homo)\n    vr_stat_hetero_overnight = (vr - 1) / np.sqrt(phi_hetero_overnight)\n    vr_stat_hetero_intraday = (vr - 1) / np.sqrt(phi_hetero_intraday)\n\n    # pvalue, two-side\n    vr_stat_homo_p = 2 * (1 - sps.norm.cdf(abs(vr_stat_homo)))\n    vr_stat_hetero_overnight_p = 2 * (1 - sps.norm.cdf(abs(vr_stat_hetero_overnight)))\n    vr_stat_hetero_intraday_p = 2 * (1 - sps.norm.cdf(abs(vr_stat_hetero_intraday)))\n\n    return pd.Series({\n            \"code\" : code,\n            \"VR\" : vr, \n            \"stat_homo\" : [vr_stat_homo, vr_stat_homo_p],\n            \"stat_hetero_overnight\" : [vr_stat_hetero_overnight, vr_stat_hetero_overnight_p],\n            \"stat_hetero_intraday\" : [vr_stat_hetero_intraday, vr_stat_hetero_intraday_p],\n            \"stat_mean_daily\" : sps.ttest_1samp(log_daily_rets,0),\n            \"stat_mean_intraday\" : sps.ttest_1samp(log_intraday_rets,0),\n            \"stat_mean_overnight\" : sps.ttest_1samp(log_overnight_rets,0),\n            \"vr_obs\" : T,\n            \"daily_rets\" : log_daily_rets.mean(),\n            \"intraday_rets\" : log_intraday_rets.mean(),\n            \"overnight_rets\" : log_overnight_rets.mean()})\n</code></pre> <p>\u901a\u8fc7\u4f7f\u7528groupby\u65b9\u6cd5\u5c06\u51fd\u6570\u5e94\u7528\u5230\u6bcf\u652f\u80a1\u7968\u7684\u6570\u636e\u4e0a\uff0c\u4ece\u800c\u5f97\u5230\u6bcf\u652f\u4e2a\u80a1\u7684VR\u68c0\u9a8c\u7ed3\u679c\uff0c\u4e0b\u9762\u4ee5\u68c0\u9a8c\u9694\u591c\u5230\u65e5\u5185\u7684\u8fc7\u7a0b\u4e3a\u4f8b\uff08\u8fd0\u884c\u901f\u5ea6\u8f83\u6162\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u591a\u7ebf\u7a0b\u5bf9apply\u65b9\u6cd5\u52a0\u901f\uff09\uff1a</p> <pre><code># \u4ee5\u68c0\u9a8c\u9694\u591c\u5230\u65e5\u5185\u7684\u8fc7\u7a0b\u4e3a\u4f8b\uff0c\u5148\u7b5b\u9009\u51fa\u9700\u8981\u7684\u6570\u636e\nVR_data = (data[[\"code\", \"date\", 're_cc_daily', 're_cc_oc', 're_cc_co']]\n           .query(\"date &lt;= '2021-12-31' and date &gt; '1999-12-31'\")\n           .dropna()\n           .sort_values([\"code\", \"date\"], ascending = True))\n# \u4f7f\u7528Groupby\u65b9\u6cd5\u95f4\u51fd\u6570\u5e94\u7528\u5230\u6bcf\u652f\u80a1\u7968\u6570\u636e\u4e0a\nresult = VR_data.groupby(\"code\").apply(lambda x: VR_estimate_stats(x, code = x[\"code\"].unique()[0],\n                                                                   log_daily_rets = x[\"re_cc_daily\"], \n                                                                   log_intraday_rets = x[\"re_cc_oc\"], \n                                                                   log_overnight_rets = x[\"re_cc_co\"],\n                                                                   obs_limit = 500))\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff08\u5982\u679c\u8fdb\u4e00\u6b65\u5bf9\u6240\u6709\u6837\u672c\u80a1\u7968\u7684VR\u503c\u8fdb\u884cNewey-West t\u68c0\u9a8c\u5c31\u53ef\u4ee5\u5f97\u5230\u6211\u4eec\u8bba\u6587\u4e2d\u7684\u7ed3\u679c\uff09\uff1a</p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#filter-rule","title":"Filter Rule","text":"","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#_2","title":"\u57fa\u672c\u539f\u7406","text":"<p>Filter Rule\u7531Fama and Blume (1966)\u63d0\u51fa\uff0c\u6211\u4eec\u5bf9\u5176\u8fdb\u884c\u4e86\u7b80\u5316\u4ee5\u9002\u5e94\u6211\u4eec\u7684\u7814\u7a76\uff0c\u5176\u539f\u7406\u8f83\u4e3a\u7b80\u5355\uff1a</p> <p>\u4e8b\u5148\u8bbe\u5b9a\u6536\u76ca\u7387\u9608\u503ck\uff0c\u5047\u8bbe\u6536\u76ca\u7387\u5b58\u5728\u52a8\u91cf\u6548\u5e94\uff0c\u5982\u679ct-1\u671f\u7684\u6536\u76ca\u7387\\(\\geq\\) k\uff0c\u90a3\u4e48\u5728t\u671f\u5f00\u59cb\u65f6\u591a\u5934\u4e70\u5165\uff1b\u5982\u679ct-1\u671f\u7684\u6536\u76ca\u7387\\(\\leq\\) -k\uff0c\u90a3\u4e48\u5728t\u671f\u5f00\u59cb\u65f6\u7a7a\u5934\u5356\u51fa\u3002\u5728t-1\u671f\u7ed3\u675f\u65f6\u7edf\u4e00\u8fdb\u884c\u5e73\u4ed3\uff08\u5982\u679c\u6536\u76ca\u7387\u5b58\u5728\u53cd\u8f6c\u6548\u5e94\uff0c\u90a3\u4e48\u5934\u5bf8\u65b9\u5411\u76f8\u53cd\uff09\u3002</p> <p>Tip</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u9694\u591c\u5230\u65e5\u5185\u7684\u8fc7\u7a0b\uff0cVariance Ratio\u663e\u8457\u5c0f\u4e8e1\uff0c\u53ef\u80fd\u5b58\u5728\u53cd\u8f6c\u6548\u5e94\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4ee51%\u4e3a\u9608\u503c\uff0c\u5bf9\u4e8e\u4e2a\u80a1\u7684\u6bcf\u4e2a\u65e5\u5185\u65f6\u6bb5\uff0c\u5982\u679c\u4e4b\u524d\u9694\u591c\u65f6\u6bb5\u6536\u76ca\u7387\u4f4e\u4e8e-1%\uff0c\u5c31\u4ee5\u5f00\u76d8\u4ef7\u4e70\u5165\uff0c\u4ee5\u6536\u76d8\u4ef7\u5e73\u4ed3\uff1b\u5982\u679c\u4e4b\u524d\u7684\u9694\u591c\u65f6\u6bb5\u6536\u76ca\u7387\u9ad8\u4e8e1%\uff0c\u5c31\u4ee5\u5f00\u76d8\u4ef7\u5356\u7a7a\uff0c\u4ee5\u6536\u76d8\u4ef7\u5e73\u4ed3 \uff08\u5bf9\u4e8e\u65e5\u5185\u5230\u9694\u591c\u7684\u8fc7\u7a0b\uff0cVariance Ratio\u663e\u8457\u5927\u4e8e1\uff0c\u53ef\u80fd\u5b58\u5728\u52a8\u91cf\u6548\u5e94\uff0c\u76f8\u5e94\u7684Filter Rule\u80fd\u591f\u6839\u636e\u76f8\u540c\u7684\u601d\u8def\u63a8\u5bfc\u51fa\u6765\uff09\u3002</p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/variance-ratio-test-and-filter-rule/#pyhton","title":"Pyhton\u4ee3\u7801","text":"<p>Filter Rule\u7684\u4ee3\u7801\u5b9e\u73b0\u76f8\u8f83\u5176\u539f\u7406\u8981\u590d\u6742\u4e00\u4e9b\uff0c\u8fd8\u9700\u8981\u8003\u8651\u67d0\u4e9b\u80a1\u7968\u4e0d\u5177\u5907\u878d\u8d44\u878d\u5238\u6761\u4ef6\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u5bf9\u4ee3\u7801\u8fdb\u884c\u8be6\u7ec6\u8bf4\u660e\uff0c\u4ec5\u5217\u51fa\u6267\u884cFilter Rule\u7684\u4e3b\u8981\u51fd\u6570\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u5c1d\u8bd5\u81ea\u884c\u7406\u89e3\u6216\u4e0e\u6211\u53d6\u5f97\u8054\u7cfb\u3002 <pre><code>def determine_pos(value, thresh, below_pos, above_pos, no_pos = 0):\n    # \u5982\u679c\u503c\u5927\u4e8e\u9608\u503c\uff0c\u5219\u8fd4\u56de\u5927\u4e8e\u9608\u503c\u7684\u5934\u5bf8\u7f16\u7801\n    if value &gt;= thresh:\n        return above_pos\n    # \u5982\u679c\u503c\u5c0f\u4e8e\u9608\u503c\uff0c\u5219\u8fd4\u56de\u5c0f\u4e8e\u9608\u503c\u7684\u5934\u5bf8\u7f16\u7801\n    elif value &lt;= - thresh:\n        return below_pos\n    # \u5982\u679c\u90fd\u4e0d\u6ee1\u8db3\uff0c\u5219\u8fd4\u56de0\n    else:\n        return no_pos\n\n\ndef cal_strategy_info(longShort_pos_series, long_re_series, short_re_series, short_avl_series, year_trad_days = 242):\n    # \u68c0\u67e5\u8f93\u5165\u7684\u5934\u5bf8\u5e8f\u5217\u548c\u6536\u76ca\u5e8f\u5217\u7684\u957f\u5ea6\u662f\u5426\u4e00\u81f4\n    if isinstance(short_avl_series, pd.Series):\n        assert longShort_pos_series.shape[0] == long_re_series.shape[0] == short_re_series.shape[0] == short_avl_series.shape[0], \"\u5e8f\u5217\u957f\u5ea6\u4e0d\u4e00\u81f4\"\n        # \u5982\u679c\u8003\u8651\u662f\u5426\u5141\u8bb8\u505a\u7a7a\uff0c\u5219\u5c06\u6240\u6709\u7a7a\u5934\u5bf8\u8bbe\u7f6e\u4e3a\u7a7a\u7f3a\uff0c\u7136\u540e\u4ee5\u662f\u5426\u53ef\u4ee5\u505a\u7a7a\u7684\u6807\u8bc6\u5e8f\u5217\u5bf9\u7a7a\u7f3a\u8fdb\u884c\u586b\u5145\n        '''\n        \u6ce8\u610f\uff1a\u662f\u5426\u53ef\u4ee5\u505a\u7a7a\u7684\u6807\u8bc6\u5e8f\u5217\u9700\u8981\u6ee1\u8db30\u4ee3\u8868\u4e0d\u5141\u8bb8\uff0c-1\u4ee3\u8868\u5141\u8bb8\uff0c\n        \u5219\u586b\u5145\u88ab\u8bbe\u7f6e\u4e3a\u7a7a\u7f3a\u7684\u7a7a\u5934\u5bf8\u65f6\uff0c\u5141\u8bb8\u505a\u7a7a\u5219\u586b\u5145\u4e3a-1\uff0c\u6062\u590d\u7a7a\u5934\u5bf8\uff0c\u5426\u5219\u586b\u5145\u4e3a0\uff0c\u4e0d\u8fdb\u884c\u4ea4\u6613\n        '''\n        longShort_pos_series = longShort_pos_series.replace(-1,np.nan)\n        longShort_pos_series = longShort_pos_series.fillna(short_avl_series)\n\n    else:\n        assert longShort_pos_series.shape[0] == long_re_series.shape[0] == short_re_series.shape[0], \"\u5e8f\u5217\u957f\u5ea6\u4e0d\u4e00\u81f4\"\n\n    # \u751f\u6210\u53ea\u505a\u591a/\u505a\u7a7a\u7684\u5934\u5bf8\u5e8f\u5217\uff0c\u5373\u5c06-1/1\u7684\u5934\u5bf8\u66ff\u6362\u4e3a0\n    long_pos_series = longShort_pos_series.replace(-1,0)\n    short_pos_series = longShort_pos_series.replace(1,0)\n\n    # \u8ba1\u7b97\u6301\u4ed3\u5929\u6570\uff0c\u76f4\u63a5\u5c06\u5934\u5bf8\u5e8f\u5217\u53d6\u7edd\u5bf9\u503c\u5e76\u52a0\u603b\n    N_longShort = np.abs(longShort_pos_series).sum()\n    N_long = np.abs(long_pos_series).sum()\n    N_short = np.abs(short_pos_series).sum()\n\n    # \u8ba1\u7b97\u4ec5\u591a\u5934\u3001\u4ec5\u7a7a\u5934\u548c\u591a\u7a7a\u7b56\u7565\u7684\u65e5\u5e73\u5747\u6536\u76ca\u3002\u4f7f\u7528\u5934\u5bf8\u5e8f\u5217\u4e0e\u6536\u76ca\u5e8f\u5217\u76f8\u4e58\u518d\u53d6\u7b97\u672f\u5e73\u5747\n    if N_long != 0:\n        avg_strategy_long_daily_re = (long_pos_series * long_re_series).sum() / N_long\n    else:\n        avg_strategy_long_daily_re = 0\n\n    if N_short != 0:\n        avg_strategy_short_daily_re = (short_pos_series * short_re_series).sum() / N_short\n    else:\n        avg_strategy_short_daily_re = 0\n\n    if (N_long + N_short) != 0:\n        avg_strategy_longShort_daily_re = (long_pos_series * long_re_series + short_pos_series * short_re_series).sum() / (N_long + N_short)\n    else:\n        avg_strategy_longShort_daily_re = 0\n\n    # \u6c47\u62a5\u7684\u6536\u76ca\u4e3a\u65e5\u7b80\u5355\u5e73\u5747\u6536\u76ca\u767e\u5206\u6bd4%\n    return pd.Series({name_long_re : avg_strategy_long_daily_re * 100, \n                      \"long_T\" : N_long,\n                      name_short_re : avg_strategy_short_daily_re * 100, \n                      \"short_T\" : N_short,\n                      name_longShort_re : avg_strategy_longShort_daily_re * 100,\n                      \"longShort_T\" : N_longShort})\n\n\ndef single_filter(df, _filter, pos_determine_col, return_col, below_pos, above_pos, short_avl_col = None, compelet_return = True):\n    df = df.copy()\n    # \u5224\u65ad\u4ea4\u6613\u5934\u5bf8\n    df[\"pos\"+f\"_{_filter}\"] = df[pos_determine_col].map(lambda x: determine_pos(value = x, thresh = _filter, below_pos = below_pos, above_pos = above_pos))\n    # \u8ba1\u7b97\u6bcf\u652f\u80a1\u7968\u7684\u591a\u5934\u3001\u7a7a\u5934\u548c\u591a\u7a7a\u7b56\u7565\u6536\u76ca\u548c\u6301\u4ed3\u5929\u6570\n    if short_avl_col:\n        trade_info = df.groupby(\"code\").apply(lambda x: cal_strategy_info(x[\"pos\"+f\"_{_filter}\"], long_re_series=x[return_col[0]], short_re_series=x[return_col[1]], short_avl_series = x[short_avl_col]))\n    else:\n        trade_info = df.groupby(\"code\").apply(lambda x: cal_strategy_info(x[\"pos\"+f\"_{_filter}\"], long_re_series=x[return_col[0]], short_re_series=x[return_col[1]], short_avl_series = None))\n\n    # \u8ba1\u7b97\u6240\u6709\u6837\u672c\u80a1\u7968\u5e73\u5747\u7684\u6301\u4ed3\u5929\u6570\uff08\u591a\u5934\u6301\u4ed3\uff0c\u7a7a\u5934\u6301\u4ed3\u548c\u591a\u7a7a\u6301\u4ed3\uff09\n    avg_long_T = trade_info[\"long_T\"].mean()\n    avg_short_T = trade_info[\"short_T\"].mean()\n    avg_longShort_T = trade_info[\"longShort_T\"].mean()\n\n    # \u5206\u522b\u5bf9\u591a\u5934\u3001\u7a7a\u5934\u548c\u591a\u7a7a\u7b56\u7565\u7684\u6536\u76ca\u8fdb\u884ct\u68c0\u9a8c\uff0c\u5e76\u751f\u6210\u62a5\u544a\u8868\u683c\n    report_single_filter = report_t_raw(ttest_long_short_longShort(trade_info), col_name_mapper = {\"index\" : \"filter\", \"mean_report\" : f\"{_filter}\"})\n\n    # \u5411\u62a5\u544a\u8868\u683c\u4e2d\u6dfb\u52a0\u8ba1\u7b97\u597d\u7684\u5e73\u5747\u6301\u4ed3\u5929\u6570\n    report_single_filter[f\"{name_avgT}_{_filter}\"] = report_single_filter[\"filter\"]\n    report_single_filter[f\"{name_avgT}_{_filter}\"] = report_single_filter[f\"{name_avgT}_{_filter}\"].map({name_long_re : str(int(avg_long_T)),\n                                                                                             name_short_re : str(int(avg_short_T)),\n                                                                                             name_longShort_re : str(int(avg_longShort_T))})\n    report_single_filter[f\"{name_avgT}_{_filter}\"] = report_single_filter[f\"{name_avgT}_{_filter}\"].fillna(\"\")\n\n    # \u6574\u7406\u62a5\u544a\u8868\u683c\u7684\u683c\u5f0f\n    report_single_filter = report_single_filter.reindex(columns = [\"filter\", \"obs\", f\"{name_avgT}_{_filter}\", f\"{_filter}\"])\n\n    if compelet_return:\n         # \u8fd4\u56de\u5b8c\u6574\u7684\u7ed3\u679c\uff0c\u5305\u62ec\u62a5\u544a\u8868\u683c\u3001\u6bcf\u652f\u80a1\u7968\u7684\u7b56\u7565\u6536\u76ca\u548c\u5929\u6570\u4ee5\u53ca\u5b8c\u6574\u7684\u4ea4\u6613\u5934\u5bf8\u8868\n        return report_single_filter, trade_info, df[[\"code\", \"date\", \"pos\"+f\"_{_filter}\", pos_determine_col, return_col[0]]]\n    else:\n        # \u4ec5\u8fd4\u56de\u62a5\u544a\u8868\u683c\n        return report_single_filter\n\n\ndef multi_filter(df, filter_ls, pos_determine_col, return_col, below_pos, above_pos, short_avl_col = None):\n    '''\n    return_col\u4e3a\u4e00\u4e2a\u5143\u7ec4\u6216\u8005\u5217\u8868\uff0c0\u4f4d\u7f6e\u4e3a\u591a\u5934\u6240\u7528\u7684\u6536\u76ca\uff0c1\u4f4d\u7f6e\u4e3a\u7a7a\u5934\u6240\u7528\u7684\u6536\u76ca\n    '''\n    df = df.copy()\n    # \u591a\u7ebf\u7a0b\u8c03\u7528single_filter\u51fd\u6570\n    with tqdm_joblib(tqdm(desc=\"Progress\", total=len(filter_ls))) as progress_bar:\n        report_ls = Parallel(n_jobs= joblib.cpu_count())(delayed(single_filter)(df = df, \n                                                    _filter = f,\n                                                    pos_determine_col = pos_determine_col,\n                                                    return_col = return_col,\n                                                    below_pos = below_pos,\n                                                    above_pos = above_pos,\n                                                    compelet_return = False,\n                                                    short_avl_col = short_avl_col) for f in filter_ls)\n    return pd.concat(report_ls, axis = 1).T.drop_duplicates().T\n</code></pre></p>","tags":["Python","\u5df2\u53d1\u8868","\u5b9e\u8bc1"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/","title":"\u9ad8\u7ea7\u722c\u866b\uff1a\u65e0\u5d4c\u5957webpack\u7684\u52a0\u5bc6\u65b9\u6cd5\u8865\u73af\u5883","text":"<p>webpack\u662f\u5c06\u7f51\u7ad9\u5185\u8d44\u6e90\u6253\u5305\u7684\u6280\u672f\uff0c\u7f51\u7ad9\u6240\u4f7f\u7528\u7684\u51fd\u6570\u88ab\u5c42\u5c42\u5c01\u88c5\uff0c\u56e0\u6b64\u4f1a\u7ed9\u9006\u5411\u5de5\u7a0b\u5e26\u6765\u56f0\u96be\u3002 \u73b0\u5728\u6211\u4ee5  \u8fd9\u4e2a\u7f51\u7ad9  \u4e3a\u4f8b\uff0c\u5bf9\u5176\u767b\u5f55\u5bc6\u7801\u52a0\u5bc6\u65b9\u6cd5\u8fdb\u884c\u9006\u5411\uff0c\u5c55\u793a\u4e86\u4e00\u79cd\u5bf9webpack\u8865\u73af\u5883\u7684\u601d\u8def\u3002 <pre><code>graph LR\n  A{main.js};\n  A --&gt; B[subfile_1.js];\n  A --&gt; C[subfile_2.js];\n  A --&gt; D[...];\n  A --&gt; E[subfile_n.js];</code></pre></p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_1","title":"\u5b9a\u4f4d\u52a0\u5bc6\u51fd\u6570","text":"<p>\u6253\u5f00\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u8f93\u5165\u8d26\u53f7\u5bc6\u7801\u540e\u70b9\u51fb\u767b\u5f55\uff0c\u6293\u53d6\u53d1\u9001\u7684\u5c01\u5305</p> <p>\u53ef\u89c1\u5411\u670d\u52a1\u5668\u53d1\u9001\u7684\u5c01\u5305\u4e2d\uff0c\u8d26\u53f7\u6ca1\u6709\u88ab\u52a0\u5bc6\uff0c\u4f46\u662f\u5bc6\u7801\u88ab\u52a0\u5bc6\u4e86\uff0c\u6211\u4eec\u7684\u76ee\u6807\u5c31\u662f\u627e\u5230\u5176\u52a0\u5bc6\u65b9\u6cd5\uff0c \u4ece\u800c\u53ef\u4ee5\u8fdb\u884c\u5927\u6279\u91cf\u6ce8\u518c\u3001\u5927\u6279\u91cf\u767b\u5f55\u7b49\u64cd\u4f5c\uff0c\u4ee5\u4fbf\u6211\u4eec\u8fdb\u4e00\u6b65\u91c7\u96c6\u6570\u636e\u3002</p> <p>\u63a5\u7740\u627e\u5230\u8d77\u59cb\u4f4d\u7f6e\uff0c\u5728send\u5904\u6253\u4e0a\u65ad\u70b9\uff0c\u91cd\u65b0\u70b9\u51fb\u767b\u5f55\uff0c\u65ad\u4f4f\u540e\u5411\u524d\u8ddf\u6808\uff0c\u5c31\u53ef\u4ee5\u627e\u5230\u52a0\u5bc6\u51fd\u6570\u7684\u4f4d\u7f6e\uff1a</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_2","title":"\u5206\u6790\u52a0\u5bc6\u51fd\u6570","text":"<p>\u5728\u52a0\u5bc6\u51fd\u6570\u5904\u6253\u4e0a\u65ad\u70b9\uff0c\u91cd\u65b0\u70b9\u51fb\u767b\u5f55\uff0c\u5bf9\u52a0\u5bc6\u51fd\u6570\u8fdb\u884c\u5206\u6790\uff1a</p> <pre><code>encodeURI(Object(w[\"c\"])(a.value, Object(w[\"f\"])(Object(w[\"g\"])(r.value))))\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\u5176\u4e2d\u7684<code>a.value = \"test123123\"</code>\u4e3a\u660e\u6587\u5bc6\u7801\uff0c <code>r.value = \"123123@163.com\"</code>\u4e3a\u660e\u6587\u8d26\u53f7\u3002\u4e0d\u7528\u7406\u4f1a<code>Object</code>\u65b9\u6cd5\uff0c \u53ea\u9700\u8981\u5c06\u91cc\u9762\u7684<code>w[\"c\"]</code>, <code>w[\"f\"]</code>\u548c<code>w[\"g\"]</code>\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u63d0\u53d6\u51fa\u6765\u5373\u53ef\u3002</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#webpack_1","title":"\u8bc6\u522bwebpack","text":"<p>\u63a5\u4e0b\u6765\uff0c\u76f4\u63a5\u641c\u7d22<code>w =</code>\u53ef\u4ee5\u627e\u5230w\u88ab\u8d4b\u503c\u7684\u4f4d\u7f6e\uff1a</p> <p>\u5728w\u88ab\u8d4b\u503c\u7684\u4f4d\u7f6e\u4e0a\u4e0b\u6709\u5f88\u591a\u5f62\u5982<code>o('7f6d')</code>\u7684\u8c03\u7528\uff0c \u51fa\u73b0\u8fd9\u79cd\u7279\u5f81\u6709\u5f88\u5927\u6982\u7387\u8be5\u7f51\u7ad9\u4f7f\u7528\u4e86webpack\u6280\u672f\u3002 \u5728\u8be5\u6587\u4ef6\u5934\u90e8\u4ee3\u7801\u4e2d\u53ef\u4ee5\u770b\u5230<code>window[\"webpackJsonp\"]</code>\u5b57\u6837\uff0c \u53ef\u4ee5\u80af\u5b9a\u8be5\u7f51\u7ad9\u4f7f\u7528\u4e86webpack\u6280\u672f\uff0c\u5e76\u4e14\u662f\u91c7\u7528\u591a\u6587\u4ef6\u6253\u5305\u7684\u65b9\u5f0f</p> <p>\u5728\u591a\u6587\u4ef6\u6253\u5305\u7684\u7ed3\u6784\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e3b\u6587\u4ef6\u548c\u591a\u4e2a\u5b50\u6587\u4ef6\uff1a</p> <pre><code>graph TD\n  A{main.js};\n  A --&gt; B[subfile_1.js];\n  A --&gt; C[subfile_2.js];\n  A --&gt; D[...];\n  A --&gt; E[subfile_n.js];</code></pre> <p>\u5176\u4e2d\uff0c\u4e3b\u6587\u4ef6\u4e2d\u5305\u542b\u65b9\u6cd5<code>o</code>\uff0c\u79f0\u4e3a\u52a0\u8f7d\u5668\uff0c\u5176\u529f\u80fd\u662f\u5c06\u4e0d\u540c\u5b50\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\u52a0\u8f7d\u5230\u9700\u8981\u7684\u4f4d\u7f6e</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#-","title":"\u8865\u73af\u5883-\u6d4f\u89c8\u5668\u73af\u5883","text":"<p>\u63a5\u4e0b\u6765\u9700\u8981\u5c06\u52a0\u5bc6\u65b9\u6cd5\u4e2d\u7684<code>w[\"c\"]</code>, <code>w[\"f\"]</code>\u548c<code>w[\"g\"]</code>\u8865\u9f50\uff0c\u4f7f\u5f97\u52a0\u5bc6\u51fd\u6570\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e0b\u6210\u529f\u8fd0\u884c\u3002</p> <p>\u591a\u6587\u4ef6\u6253\u5305\u7684webpack\u8865\u73af\u5883\u53ef\u4ee5\u5206\u4e3a\u5982\u4e0b\u51e0\u6b65\uff1a</p> <ol> <li>\u5728\u4e3b\u6587\u4ef6\u4e2d\u5b9a\u4f4d\u52a0\u8f7d\u51fd\u6570\u5e76\u5c06\u5176\u5bfc\u51fa\u5230\u5168\u5c40\u4f5c\u7528\u57df</li> <li>\u5220\u9664\u4e3b\u6587\u4ef6\u4e2d\u7684\u521d\u59cb\u5316\u65b9\u6cd5</li> <li>\u8865\u5145\u6240\u6709\u5b50\u6587\u4ef6\u7684\u4ee3\u7801</li> <li>\u6267\u884c\u52a0\u8f7d\u51fd\u6570\uff0c\u62ff\u5230\u6240\u9700\u8981\u7684\u52a0\u5bc6\u65b9\u6cd5</li> </ol>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_3","title":"\u5bfc\u51fa\u52a0\u8f7d\u51fd\u6570","text":"<p>\u5728w\u88ab\u8d4b\u503c\u5904\uff0c\u5373<code>w = o(\"7f6d\")</code>\u4e0b\u65ad\u70b9\uff0c\u7531\u4e8ewebpack\u8fd0\u7528\u4e86\u7f13\u5b58\u6280\u672f\uff0c \u9700\u8981\u5237\u65b0\u7f51\u9875\u624d\u4f1a\u91cd\u65b0\u8c03\u7528<code>w = o(\"7f6d\")</code></p> <p>\u65ad\u70b9\u65ad\u4f4f\u540e\u5b9a\u4f4d\u5230\u52a0\u8f7d\u51fd\u6570\u7684\u4f4d\u7f6e\uff0c\u4ece\u7f29\u8fdb\u53ef\u4ee5\u5224\u65ad\u52a0\u8f7d\u51fd\u6570\u5904\u5728\u5c40\u90e8\u4f5c\u7528\u57df\uff0c\u9700\u8981\u5bfc\u51fa\u5230\u5168\u5c40\u4f5c\u7528\u57df\u3002</p> <p>\u5c06\u6574\u4e2a\u4e3b\u6587\u4ef6\u590d\u5236\u5230\u672c\u5730\uff0c\u5728\u52a0\u8f7d\u51fd\u6570\u548c\u4e0b\u4e00\u4e2a\u65b9\u6cd5\u4e4b\u95f4\u63d2\u5165<code>debugger;</code>\u5e76\u8fd0\u884c\uff0c \u4ee5\u9a8c\u8bc1\u8fd9\u4e00\u90e8\u5206\u4f1a\u88ab\u6267\u884c\uff1a</p> <p>\u5982\u679c\u65ad\u70b9\u751f\u6548\u4e86\uff0c\u5c31\u53ef\u4ee5\u5c06\u65ad\u70b9\u66ff\u6362\u4e3a\u8d4b\u503c\u8bed\u53e5<code>window.loader_func = u;</code>\uff0c \u5c06\u52a0\u8f7d\u51fd\u6570\u5bfc\u51fa\u5230window\u7684\u5168\u5c40\u4f5c\u7528\u57df</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_4","title":"\u5220\u9664\u521d\u59cb\u5316\u65b9\u6cd5","text":"<p>\u4e3b\u6587\u4ef6\u4e2d\u5305\u542b\u521d\u59cb\u5316\u65b9\u6cd5\uff0c\u4f1a\u5bf9\u6d4f\u89c8\u5668\u73af\u5883\u8fdb\u884c\u68c0\u6d4b\u3002 \u521d\u59cb\u5316\u65b9\u6cd5\u7684\u4f4d\u7f6e\u4e00\u5b9a\u5728\u4e3b\u6587\u4ef6\u7684\u4e3b\u51fd\u6570\u7684\u6700\u540e\u51e0\u884c\uff0c\u5728\u8fd9\u91cc\u662f\uff1a</p> <p>\u901a\u5e38\u521d\u59cb\u5316\u65b9\u6cd5\u90fd\u6d89\u53ca\u52a0\u8f7d\u51fd\u6570\u7684\u8c03\u7528\uff0c\u4ee5\u53ca<code>push</code>\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u5c06\u5176\u5220\u9664\u5373\u53ef</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_5","title":"\u8865\u5145\u5b50\u6587\u4ef6","text":"<p>\u6bcf\u4e2a\u5b50\u6587\u4ef6\u5934\u90e8\u90fd\u6709<code>window[\"webpackJsonp\"]</code>\u5b57\u6837\uff0c\u5728\u63a7\u5236\u53f0\u5bf9\u5176\u8f93\u51fa\u53ef\u4ee5\u5f97\u5230\u5168\u90e8\u5b50\u6587\u4ef6\u5217\u8868 \u9010\u4e2a\u5b50\u6587\u4ef6\u5c55\u5f00\uff0c\u627e\u5230\u5b50\u6587\u4ef6\u4e2d\u7684\u4efb\u610f\u51fd\u6570\u5373\u53ef\u5b9a\u4f4d\u5230\u5b50\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002</p> <p>\u63a5\u7740\u5c06\u6bcf\u4e2a\u5b50\u6587\u4ef6\u5168\u90e8\u590d\u5236\u5230\u672c\u5730\u7684\u4e3b\u6587\u4ef6\u4ee3\u7801\u540e\u65b9\u3002</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_6","title":"\u6267\u884c\u52a0\u8f7d\u51fd\u6570","text":"<p>\u4e4b\u524d\u5df2\u7ecf\u5c06\u52a0\u8f7d\u51fd\u6570\u5bfc\u51fa\u5230\u4e86<code>window.loader_func</code>\uff0c \u63a5\u7740\u53ea\u9700\u8981\u5c06\u5411\u52a0\u8f7d\u51fd\u6570\u4f20\u5165\u52a0\u5bc6\u51fd\u6570\u4e2dw\u5bf9\u5e94\u7684id\uff0c\u5373<code>7f6d</code>\u5373\u53ef\u5c06w\u5bfc\u51fa\uff0c\u5c06\u76f8\u5e94\u7684\u4ee3\u7801\u6dfb\u52a0\u5230\u521a\u521a\u7684\u672c\u5730\u4ee3\u7801\u5c3e\u90e8\uff1a</p> <pre><code>var w = window.loader_func('7f6d')\n// \u5c06\u52a0\u5bc6\u51fd\u6570\u4e5f\u6dfb\u52a0\u8fdb\u6765\nencodeURI(Object(w[\"c\"])(\"test123123\", Object(w[\"f\"])(Object(w[\"g\"])(\"123123@163.com\"))))\n</code></pre> <p>\u81f3\u6b64\u5df2\u7ecf\u5728\u6d4f\u89c8\u5668\u4e2d\u8865\u5168\u4e86\u73af\u5883\uff0c\u6267\u884c\u811a\u672c\u5373\u53ef\u5f97\u5230\u52a0\u5bc6\u540e\u7684\u8f93\u51fa\uff0c\u4e0e\u6293\u5305\u7684\u7ed3\u679c\u4e00\u81f4\uff1a</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_7","title":"\u8131\u79bb\u6d4f\u89c8\u5668\u73af\u5883","text":"<p>\u6700\u540e\u9700\u8981\u5c06\u4ee3\u7801\u8131\u79bb\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u5728Python\u6216\u5176\u4ed6\u73af\u5883\u4e2d\u8fd0\u884c\u3002</p> <p>\u5728\u5176\u4ed6\u73af\u5883\u4e2d\u6ca1\u6709<code>window</code>\uff0c\u56e0\u6b64\u9700\u8981\u5148\u5728\u4ee3\u7801\u5934\u90e8\u5b9a\u4e49<code>window</code>\u3002\u5728\u8c37\u6b4cV8\u73af\u5883\u4e2d\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>window = this;\n</code></pre> <p>\u5728node.js\u6216Python\u4e2d\u5219\u5e94\u8be5\u4f7f\u7528\uff1a</p> <pre><code>window = {}\n// \u6216\u8005\nwindow = global\n</code></pre> <p>\u7136\u540e\u8fd0\u884c\u4ee3\u7801\uff0c\u5bf9\u62a5\u9519\u7f3a\u5c11\u73af\u5883\u7684\u4ee3\u7801\u8fdb\u884c\u5220\u51cf\u3002\u4ee3\u7801\u5220\u51cf\u53ef\u4ee5\u9075\u5faa\u5982\u4e0b\u89c4\u5219\uff1a</p> <ol> <li>\u6240\u6709<code>&amp;&amp;</code>(\u4e14) \u548c <code>||</code>(\u6216) \u8fd0\u7b97\u90fd\u53ef\u4ee5\u5220\u9664\u65e0\u6cd5\u8dd1\u901a\u7684\u90e8\u5206</li> <li>\u6240\u6709\u8d4b\u503c\u8bed\u53e5\u90fd\u53ef\u4ee5\u5c06\u65e0\u6cd5\u8dd1\u901a\u7684\u90e8\u5206\u8d4b\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u6216\u7a7a\u5bf9\u8c61</li> <li>\u4e09\u5143\u8868\u8fbe\u5f0f\u9700\u8981\u5177\u4f53\u5206\u6790\uff0c\u6ce8\u610f\u7b2c\u4e00\u4e2a<code>?</code>\u603b\u662f\u5bf9\u5e94\u5012\u6570\u7b2c1\u4e2a<code>:</code>\uff0c\u4ee5\u6b64\u7c7b\u63a8</li> </ol>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/%E9%AB%98%E7%BA%A7%E7%88%AC%E8%99%AB%E6%97%A0%E5%B5%8C%E5%A5%97webpack%E7%9A%84%E5%8A%A0%E5%AF%86%E6%96%B9%E6%B3%95%E8%A1%A5%E7%8E%AF%E5%A2%83/#_8","title":"\u7b80\u5316\u4ee3\u7801","text":"<p>\u7531\u4e8e\u4e4b\u524d\u7684\u6b65\u9aa4\u662f\u5c06\u7f51\u7ad9\u7684\u5168\u90e8webpack\u5b50\u6587\u4ef6\u90fd\u6dfb\u52a0\u5230\u4e86\u672c\u5730\u4ee3\u7801\u4e2d\uff0c\u5176\u4e2d\u5f88\u591a\u65b9\u6cd5\u662f\u591a\u4f59\u7684\uff0c \u53ef\u4ee5\u5c06\u5197\u4f59\u4ee3\u7801\u5254\u9664\u3002</p> <p>\u56de\u987e\u7f51\u7ad9\u7684\u52a0\u8f7d\u5668\u65b9\u6cd5\uff1a</p> <pre><code>function u(n) {\n    if (r[n])\n        return r[n].exports;\n\n    var t = r[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n    };\n    return e[n].call(t.exports, t, t.exports, u),\n    t.l = !0,\n    t.exports\n}\n</code></pre> <p>\u5176\u4e2d\u7b2c2,3\u884c\u6761\u4ef6\u5224\u65ad\u8868\u793a\u5982\u679c\u52a0\u8f7d\u7684\u65b9\u6cd5\u5df2\u7ecf\u7f13\u5b58\uff0c\u5219\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u8c03\u7528\u3002 \u9ad8\u4eae\u90e8\u5206\u5219\u8868\u793a\u6ca1\u6709\u7f13\u5b58\u7684\u60c5\u51b5\u4e0b\uff0c\u5c06\u9700\u8981\u52a0\u8f7d\u7684\u65b9\u6cd5\u8fdb\u884c\u521d\u59cb\u5316\u3002</p> <p>Tip</p> <p>\u7531\u4e8e\u6211\u4eec\u5c06\u52a0\u5bc6\u65b9\u6cd5\u4ece\u6574\u4e2a\u7f51\u7ad9\u4e2d\u5265\u79bb\u51fa\u6765\u4e86\uff0c\u6240\u4ee5\u8fd0\u884c\u672c\u5730\u4ee3\u7801\u65f6\u6240\u6709\u52a0\u8f7d\u7684\u65b9\u6cd5\u90fd\u662f\u91cd\u65b0\u521d\u59cb\u5316\u7684 \uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u9ad8\u4eae\u90e8\u5206\u52a0\u8f7d</p> <p>\u56e0\u6b64\uff0c\u53ef\u4ee5\u5728\u9ad8\u4eae\u90e8\u5206\uff0c\u5373\u65b9\u6cd5\u521d\u59cb\u5316\u90e8\u5206\u5c06\u52a0\u8f7d\u7684\u65b9\u6cd5\u4ee5\u5b57\u7b26\u4e32\u683c\u5f0f\u5bfc\u51fa\uff0c \u7136\u540e\u5c06\u4e4b\u524d\u6240\u6709\u5b50\u6587\u4ef6\u7684\u4ee3\u7801\u66ff\u6362\u6389\uff0c\u5c31\u5b9e\u73b0\u4e86\u5197\u4f59\u4ee3\u7801\u7684\u5265\u79bb\u3002</p> <p>\u9996\u5148\u89c2\u5bdf\u5b50\u6587\u4ef6\u4e2d\u65b9\u6cd5\u4fdd\u5b58\u7684\u683c\u5f0f\uff0c\u53ef\u4ee5\u770b\u5230\u662f\u4ee5<code>'id' : function()</code>\u7684\u5f62\u5f0f\u4fdd\u5b58\u7684</p> <p>\u63a5\u7740\u5728\u672c\u5730\u73af\u5883\u5934\u90e8\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u7a7a\u5b57\u7b26\u4e32\uff0c\u5982<code>window.code = \"\";</code>\uff0c\u7136\u540e\u5728\u52a0\u8f7d\u5668\u51fd\u6570\u7684\u65b9\u6cd5\u521d\u59cb\u5316\u90e8\u5206 \u4eff\u7167\u65b9\u6cd5\u4fdd\u5b58\u7684\u683c\u5f0f\uff0c\u5411\u5168\u5c40\u7a7a\u5b57\u7b26\u4e32\u4e2d\u52a0\u5165\u88ab\u52a0\u8f7d\u5230\u7684\u65b9\u6cd5\uff08\u6bcf\u6b21\u52a0\u8f7d\u5668\u88ab\u8c03\u7528\u90fd\u4f1a\u89e6\u53d1\uff09\uff1a</p> <pre><code>function u(n) {\n    if (r[n])\n        return r[n].exports;\n    var t = r[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n    };\n\n    window.code += \"\\\"\" + n + \"\\\"\" + \":\" + e[n] + \",\";\n\n    return e[n].call(t.exports, t, t.exports, u),\n    t.l = !0,\n    t.exports\n}\n</code></pre> <p>Warning</p> <p>\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u4e0a\u8ff0\u5c06\u52a0\u8f7d\u7684\u65b9\u6cd5\u4ee5\u5b57\u7b26\u4e32\u683c\u5f0f\u5bfc\u51fa\u7684\u8fc7\u7a0b\u9700\u8981\u5728\u672c\u5730\u73af\u5883\u4e2d\u5b8c\u6210\uff0c \u4e0d\u80fd\u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u5b8c\u6210\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u5bfc\u51fa\u6d4f\u89c8\u5668\u73af\u5883\u76f8\u5173\u7684\u5197\u4f59\u4ee3\u7801\uff0c\u5bfc\u81f4\u672c\u5730\u4ee3\u7801\u6267\u884c\u4e0d\u6210\u529f\u3002</p> <p>\u7136\u540e\u5728\u672c\u5730\u73af\u5883\u4e2d\u7684\u63a7\u5236\u53f0\u4e2d\u8f93\u51fa<code>window.code</code>\uff0c\u5c06\u8f93\u51fa\u7ed3\u679c\u590d\u5236\u5230\u4e3b\u6587\u4ef6\u4fdd\u5b58\u65b9\u6cd5\u7684\u4f4d\u7f6e\uff0c \u5c06\u539f\u672c\u4e3b\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\u66ff\u6362\uff0c\u5e76\u5220\u9664\u6240\u6709\u5b50\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5728\u672c\u5730\u73af\u5883\u4e2d\u6210\u529f\u8fd0\u884c\u540e\u5c31\u5b8c\u6210\u4e86\u4ee3\u7801\u7684\u7b80\u5316\u3002</p> <p>\u5728\u672c\u4f8b\u4e2d\uff0c\u4ee3\u7801\u7b80\u5316\u80fd\u591f\u5c06\u539f\u672c\u768430000\u591a\u884c\u4ee3\u7801\u7f29\u51cf\u5230\u4e8610000\u591a\u884c</p>","tags":["JavaScript","\u7f51\u7edc\u722c\u866b"]},{"location":"posts/archive/2024/","title":"2024","text":""},{"location":"posts/archive/2023/","title":"2023","text":""},{"location":"posts/category/%E6%88%91%E7%9A%84%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/","title":"\u6211\u7684\u5f00\u6e90\u9879\u76ee","text":""},{"location":"posts/category/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E5%88%86%E6%9E%90/","title":"\u6570\u636e\u5904\u7406\u4e0e\u5206\u6790","text":""},{"location":"posts/category/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0/","title":"\u8bba\u6587\u590d\u73b0","text":""},{"location":"posts/category/%E5%AE%9E%E8%AF%81%E7%A0%94%E7%A9%B6/","title":"\u5b9e\u8bc1\u7814\u7a76","text":""},{"location":"posts/category/%E7%88%AC%E8%99%AB/","title":"\u722c\u866b","text":""},{"location":"posts/category/js%E9%80%86%E5%90%91/","title":"JS\u9006\u5411","text":""},{"location":"posts/category/%E5%85%B6%E4%BB%96%E6%8A%80%E6%9C%AF/","title":"\u5176\u4ed6\u6280\u672f","text":""},{"location":"posts/page/2/","title":"\u7814\u7a76\u7b14\u8bb0","text":""}]}